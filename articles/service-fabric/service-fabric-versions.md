---
title: Azure Service Fabric クラスターのバージョンをアップグレードする
description: Service Fabric チーム ブログからの最新リリースへのリンクなど、Azure Service Fabric のクラスターのバージョンについて説明します。
ms.topic: troubleshooting
ms.date: 06/15/2020
ms.openlocfilehash: 1f06d7cb5f8fa1182969447168dfb4297473075a
ms.sourcegitcommit: 20f8bf22d621a34df5374ddf0cd324d3a762d46d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/09/2021
ms.locfileid: "107257536"
---
# <a name="upgrade-your-azure-service-fabric-cluster-version"></a>Azure Service Fabric クラスターのバージョンをアップグレードする

クラスターでは常に、サポートされている Azure Service Fabric のバージョンが実行されている状態にします。 Service Fabric の新しいバージョンのリリースが発表された日から最短で 60 日後には、以前のバージョンのサポートが終了します。 新しいリリースについては、[Service Fabric チーム ブログ](https://azure.microsoft.com/updates/?product=service-fabric)上でお知らせします。

Service Fabric ランタイムの各バージョンでは、指定されたバージョンまたは以前のバージョンの SDK および NuGet パッケージを使用できます。 新しいバージョンのパッケージは、以前のクラスターをターゲットにできない場合があります。 以前のクラスターには、新しいパッケージ環境でサポートされていない機能やプロトコルの変更が含まれる場合があります。

サポートされている Service Fabric のバージョンをクラスターで継続して実行する方法について詳しくは、次の記事を参照してください。

- [Azure Service Fabric クラスターのアップグレード](service-fabric-cluster-upgrade.md)
- [スタンドアロン Windows Server クラスター上で実行される Service Fabric のバージョンをアップグレードする](service-fabric-cluster-upgrade-windows-server.md)

## <a name="unsupported-versions"></a>サポートされていないバージョン

### <a name="upgrade-alert-for-versions-between-57-and-6363"></a>5\.7 から 6.3.63.* までのバージョンのアップグレードに関する警告

Azure インフラストラクチャでは、セキュリティと可用性を向上させるために変更を行います。これは、Service Fabric のお客様に影響する可能性があります。 この変更は、バージョン 5.7 から 6.3 を実行しているすべての Service Fabric クラスターに影響します。

Service Fabric ランタイムの更新プラグラムは、すべてのリージョンのサポートされるすべての Service Fabric バージョンに対して使用できます。 サービスの中断を回避するために、2021 年 1 月 19 日までにサポートされている最新バージョンのいずれかにアップグレードしてください。

サポート プランに加入していて技術的な支援が必要な場合は、Azure サポート チャネルを使用してお問い合わせください。 Azure Service Fabric のサポート リクエストを開き、サポート チケットでこのコンテキストに言及してください。

#### <a name="if-you-dont-upgrade-to-a-supported-version"></a>サポートされているバージョンにアップグレードしない場合

2021 年 1 月 19 日までにアップグレードしなかった場合は、5.7 から 6.3.63.* までのバージョンで実行される Azure Service Fabric クラスターは使用できなくなります。

#### <a name="required-action"></a>必要なアクション

この変更に関連するダウンタイムや機能の損失を防ぐために、サポートされている Service Fabric バージョンにアップグレードしてください。 環境内での問題を防ぐために、以下のバージョン以上でクラスターを実行するようにしてください。

> [!Note]
> **7.2 のすべてのリリース バージョンには、必要な変更が含まれています**。
  
  | OS | クラスター内の現在の Service Fabric ランタイム | CU/パッチ リリース |
  | --- | --- |--- |
  | Windows | 7.0.* | 7.0.478.9590 |
  | Windows | 7.1.* | 7.1.503.9590 |
  | Windows | 7.2.* | 7.2.* |
  | Ubuntu 16 | 7.0.* | 7.0.472.1  |
  | Linux Ubuntu 16.04 | 7.1.* | 7.1.455.1  |
  | Linux Ubuntu 18.04 | 7.1.* | 7.1.455.1804 |
  | Linux Ubuntu 16.04 | 7.2.* | 7.2.* |
  | Linux Ubuntu 18.04 | 7.2.* | 7.2.* |

### <a name="upgrade-alert-for-versions-later-than-63"></a>6\.3 より後のバージョンのアップグレードに関する警告

Azure インフラストラクチャでは、セキュリティと可用性を向上させるために変更を行います。これは、Service Fabric のお客様に影響する可能性があります。 この変更は、[コンテナーに対して Open ネットワーク モード](./service-fabric-networking-modes.md#set-up-open-networking-mode)を使用し、バージョン 6.3 から 7.0、または 7.0 より後のサポートされる互換バージョンを実行するすべての Service Fabric クラスターに影響します。 Service Fabric ランタイムの更新プラグラムは、すべてのリージョンのサポートされるすべての Service Fabric バージョンに対して使用できます。

#### <a name="if-you-dont-upgrade-to-a-supported-version"></a>サポートされているバージョンにアップグレードしない場合

6\.3 より後の未変更のバージョンで実行される Azure Service Fabric クラスターは、2021 年 1 月 19 日までにサポートされるバージョンにアップグレードしなかった場合、機能の損失やサービスの中断が発生します。
  
  - **Open ネットワーク機能を使用しない、6.3 より後のバージョンの Service Fabric を実行するクラスターの場合**、クラスターは稼働したままです。

 - **クラスターが、6.3 以上のバージョンの Service Fabric を実行し、[コンテナーの Open ネットワーク機能](./service-fabric-networking-modes.md#set-up-open-networking-mode)を使用している場合**、クラスターが使用できなくなることがあり、機能しなくなって、ワークロードのサービス中断を招く可能性があります。
 
 -   **[7.0.457 から 7.0.466 までの Windows バージョン (両端のバージョンを含む)](#supported-version-names) を実行するクラスターの場合、Windows OS では Windows コンテナー機能が有効になっています。注: Linux バージョン 7.0.457、7.0.464、7.0.465 は影響を受けません**。
    - **影響**:クラスターは機能を停止し、それが原因でワークロードのサービスが中断される可能性があります。
    
#### <a name="required-action"></a>必要なアクション

ダウンタイムや機能の損失を防止するために、クラスターで次のいずれかのバージョンが実行されていることを確認します。

表内の Service Fabric のバージョンには、機能の損失を防ぐために必要な変更が含まれています。 これらのバージョンのいずれかを使用していることを確認します。  

> [!Note]
> **バージョン 6.5 で実行されている Azure Service Fabric クラスターでは、クラスターの機能が失われないよう、インフラストラクチャ変更前に複数のアップグレードを同時に実行する必要があります**。 
>   -   1. 7\.0.466 へのアップグレード。 **Windows OS を実行しているクラスターは、Windows Containers 機能が有効になっているとき、この中間バージョンにすることができません。下の次の手順 (ii) を実行する必要があります。すなわち、サービスの中断を避けるため、もっと安全かつ規格に準拠しているバージョンにアップグレードします**。
>   -   2. 7\.0* リリース (7.0.478) で準拠しているバージョンか、下の一覧に含まれる、それ以降のバージョンにアップグレードします。


> [!Note]
> **7.2 のすべてのリリース バージョンには、必要な変更が含まれています**。

 | OS | クラスター内の現在の Service Fabric ランタイム | CU/パッチ リリース |
  | --- | --- |--- |
  | Windows | 7.1.* | 7.1.503.9590 |
  | Windows | 7.2.* | 7.2.477.9590 |
  | Windows | 8.0.* | 8.0.514.9590 |
  | Linux Ubuntu 16.04 | 7.1.* | 7.1.455.1  |
  | Linux Ubuntu 18.04 | 7.1.* | 7.1.455.1804 |
  | Linux Ubuntu 16.04 | 7.2.* | 7.2.476.1 |
  | Linux Ubuntu 18.04 | 7.2.* | 7.2.476.1804 |
  | Linux Ubuntu 16.04 | 8.0.* | 8.0.513.1 |
  | Linux Ubuntu 18.04 | 8.0.* | 8.0.513.1804 |

## <a name="supported-versions"></a>サポートされているバージョン

次の表に、Service Fabric のバージョンとサポート終了日の一覧を示します。

| クラスター内の Service Fabric ランタイム | クラスター バージョンから直接アップグレードできる |互換性のある SDK または NuGet パッケージのバージョン | サポート終了 |
| --- | --- |--- | --- |
| 5\.3.121 より前のすべてのクラスター バージョン | 5.1.158.* |バージョン 2.3 以前 |2017 年 1 月 20 日 |
| 5.3.* | 5.1.158.* |バージョン 2.3 以前 |2017 年 2 月 24 日 |
| 5.4.* | 5.1.158.* |バージョン 2.4 以前 |2017 年 5 月 10 日       |
| 5.5.* | 5.4.164.* |バージョン 2.5 以前 |2017 年 8 月 10 日    |
| 5.6.* | 5.4.164.* |バージョン 2.6 以前 |2017 年 10 月 13 日   |
| 5.7.* | 5.4.164.* |バージョン 2.7 以前 |2017 年 12 月 15 日  |
| 6.0.* | 5.6.205.* |バージョン 2.8 以前 |2018 年 3 月 30 日     |
| 6.1.* | 5.7.221.* |バージョン 3.0 以前 |2018 年 7 月 15 日      |
| 6.2.* | 6.0.232.* |バージョン 3.1 以前 |2018 年 10 月 26 日   |
| 6.3.* | 6.1.480.* |バージョン 3.2 以前 |2019 年 3 月 31 日  |
| 6.4.* | 6.2.301.* |バージョン 3.3 以前 |2019 年 9 月 15 日 |
| 6.5.* | 6.4.617.* |バージョン 3.4 以前 |2020 年 8 月 1 日 |
| 7.0.466.* | 6.4.664.* |バージョン 4.0 以前|2021 年 1 月 31 日  |
| 7.0.466.* | 6.5.* |バージョン 4.0 以前|2021 年 1 月 31 日 |
| 7.0.470.* | 7.0.466.* |バージョン 4.0 以前 |2021 年 1 月 31 日  |
| 7.0.472.* | 7.0.466.* |バージョン 4.0 以前 |2021 年 1 月 31 日  |
| 7.0.478.* | 7.0.466.* |バージョン 4.0 以前 |2021 年 1 月 31 日  |
| 7.1.409.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.1.417.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.1.428.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.1.456.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.1.458.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.1.459.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.1.503.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.1.510.* | 7.0.466.* |バージョン 4.1 以前 |2021 年 7 月 31 日 |
| 7.2.413.* | 7.0.470.* |バージョン 4.2 以前 |2021 年 11 月 30 日 |
| 7.2.432.* | 7.0.470.* |バージョン 4.2 以前 |2021 年 11 月 30 日 |
| 7.2.433.* | 7.0.470.* |バージョン 4.2 以前 |2021 年 11 月 30 日 |
| 7.2.445.* | 7.0.470.* |バージョン 4.2 以前 |2021 年 11 月 30 日 |
| 7.2.452.* | 7.0.470.* |バージョン 4.2 以前 |2021 年 11 月 30 日 |
| 7.2.457.* | 7.0.470.* |バージョン 4.2 以前 |2021 年 11 月 30 日 |
| 7.2.477.* | 7.0.478.* |バージョン 4.2 以前 |2021 年 11 月 30 日 |
| 8.0.514.* | 7.1.510.* |バージョン 5.0 以前 |最新バージョンのため、終了日なし |

## <a name="supported-operating-systems"></a>サポートされるオペレーティング システム

次の表に、サポートされている Service Fabric のバージョンに対応しているサポート対象のオペレーティング システムを示します。

| オペレーティング システム | サポートされる最も古い Service Fabric のバージョン |
| --- | --- |
| Windows Server 2012 R2 | すべてのバージョン |
| Windows Server 2016 | すべてのバージョン |
| Windows Server 1709 | 6.0 |
| Windows Server 1803 | 6.4 |
| Windows Server 1809 | 6.4.654.9590 |
| Windows Server 2019 | 6.4.654.9590 |
| Linux Ubuntu 16.04 | 6.0 |
| Linux Ubuntu 18.04 | 7.1 |

## <a name="supported-version-names"></a>サポートされているバージョン

次の表に、Service Fabric のバージョン名と対応するバージョン番号を示します。

| バージョン名 | Windows のバージョン番号 | Linux のバージョン番号 |
| --- | --- | --- |
| 5.3 RTO | 5.3.121.9494 | 適用なし|
| 5.3 CU1 | 5.3.204.9494 | 適用なし|
| 5.3 CU2 | 5.3.301.9590 | 適用なし|
| 5.3 CU3 | 5.3.311.9590 | 適用なし|
| 5.4 CU2 | 5.4.164.9494 | 適用なし|
| 5.5 CU1 | 5.5.216.0    | 適用なし|
| 5.5 CU2 | 5.5.219.0 | 適用なし|
| 5.5 CU3 | 5.5.227.0 | 適用なし|
| 5.5 CU4 | 5.5.232.0 | 適用なし|
| 5.6 RTO | 5.6.204.9494 | 適用なし|
| 5.6 CU2 | 5.6.210.9494 | 適用なし|
| 5.6 CU3 | 5.6.220.9494 | 適用なし|
| 5.7 RTO | 5.7.198.9494 | 適用なし|
| 5.7 CU4 | 5.7.221.9494 | 適用なし|
| 6.0 RTO | 6.0.211.9494 | 6.0.120.1 |
| 6.0 CU1 | 6.0.219.9494 | 6.0.127.1 |
| 6.0 CU2 | 6.0.232.9494 | 6.0.133.1 |
| 6.1 CU1 | 6.1.456.9494 | 6.1.183.1 |
| 6.1 CU2 | 6.1.467.9494 | 6.1.185.1 |
| 6.1 CU3 | 6.1.472.9494 | 適用なし|
| 6.1 CU4 | 6.1.480.9494 | 6.1.187.1 |
| 6.2 RTO | 6.2.269.9494 | 6.2.184.1 |
| 6.2 CU1 | 6.2.274.9494 | 6.2.191.1 |
| 6.2 CU2 | 6.2.283.9494 | 6.2.194.1 |
| 6.2 CU3 | 6.2.301.9494 | 6.2.199.1 |
| 6.3 RTO | 6.3.162.9494 | 6.3.119.1 |
| 6.3 CU1 | 6.3.176.9494 | 6.3.124.1 |
| 6.3 CU1 | 6.3.187.9494 | 6.3.129.1 |
| 6.4 RTO | 6.4.617.9590 | 6.4.625.1 |
| 6.4 CU2 | 6.4.622.9590 | 適用なし|
| 6.4 CU3 | 6.4.637.9590 | 6.4.634.1 |
| 6.4 CU4 | 6.4.644.9590 | 6.4.639.1 |
| 6.4 CU5 | 6.4.654.9590 | 6.4.649.1 |
| 6.4 CU6 | 6.4.658.9590 | 適用なし|
| 6.4 CU7 | 6.4.664.9590 | 6.4.661.1 |
| 6.4 CU8 | 6.4.670.9590 | 適用なし|
| 6.5 RTO | 6.5.639.9590 | 6.5.435.1 |
| 6.5 CU1 | 6.5.641.9590 | 6.5.454.1 |
| 6.5 CU2 | 6.5.658.9590 | 6.5.460.1 |
| 6.5 CU3 | 6.5.664.9590 | 6.5.466.1 |
| 6.5 CU5 | 6.5.676.9590 | 6.5.467.1 |
| 7.0 RTO | 7.0.457.9590 | 7.0.457.1 |
| 7.0 CU2 | 7.0.464.9590 | 7.0.464.1 |
| 7.0 CU3 | 7.0.466.9590 | 7.0.465.1 |
| 7.0 CU4 | 7.0.470.9590 | 7.0.469.1 |
| 7.0 CU6 | 7.0.472.9590 | 7.0.471.1 |
| 7.0 CU9 | 7.0.478.9590 | 7.0.472.1 |
| 7.1 RTO | 7.1.409.9590 | 7.1.410.1 |
| 7.1 CU1 | 7.1.417.9590 | 7.1.418.1 |
| 7.1 CU2 | 7.1.428.9590 | 7.1.428.1 |
| 7.1 CU3 | 7.1.456.9590 | 7.1.452.1 |
| 7.1 CU5 | 7.1.458.9590 | 7.1.454.1 |
| 7.1 CU6 | 7.1.459.9590 | 7.1.455.1 |
| 7.1 CU8 | 7.1.503.9590 | 7.1.508.1 |
| 7.1 CU10 | 7.1.510.9590 | NA |
| 7.2 RTO | 7.2.413.9590 | NA |
| 7.2 CU2 | 7.2.432.9590 | 7.2.431.1 |
| 7.2 CU3 | 7.2.433.9590 | NA |
| 7.2 CU4 | 7.2.445.9590 | 7.2.447.1 |
| 7.2 CU5 | 7.2.452.9590 | 7.2.454.1 |
| 7.2 CU6 | 7.2.457.9590 | 7.2.456.1 |
| 7.2 CU7 | 7.2.477.9590 | 7.2.476.1 |
| 8.0 RTO | 8.0.514.9590 | 8.0.513.1 |