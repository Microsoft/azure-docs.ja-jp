---
title: Azure Search サービスの価格レベルまたは SKU の選択 - Azure Search
description: Azure Search をプロビジョニングできる SKU はFree、Basic、Standard です。Standard は、複数のリソース構成および容量レベルで使用できます。
services: search
author: HeidiSteen
manager: cgronlun
tags: azure-portal
ms.service: search
ms.topic: conceptual
ms.date: 04/05/2019
ms.author: heidist
ms.custom: seodec2018
ms.openlocfilehash: da8c8adacfead598a8dec6280cf3518fb7b31f49
ms.sourcegitcommit: 62d3a040280e83946d1a9548f352da83ef852085
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/08/2019
ms.locfileid: "59270956"
---
# <a name="choose-a-pricing-tier-for-azure-search"></a>Azure Search の価格レベルの選択

Azure Search では、サービスはサービスの有効期間で固定された価格レベルまたは SKU で[リソースが作成](search-create-service-portal.md)されます。 レベルには、**Free**、**Basic**、**Standard**、または **Storage Optimized** があります。  **Standard** と **Storage Optimized** は、複数の構成および容量で利用できます。 

ほとんどのお客様は、まず評価のために **Free** レベルから始め、その後開発および運用環境のデプロイ用に、さらに高い有料レベルのいずれかに移行します。 **Free** レベルでは、リソースを集中的に使用するコグニティブ検索に関するものも含むすべてのクイック スタートとチュートリアルを実行できます。

> [!NOTE]
> Storage Optimized サービス レベルは、現在、フィードバックを収集するためのテストおよび実験の目的で、割引価格でプレビューとして使用できます。 最終的な価格は、これらのレベルが一般提供されるときに発表されます。 運用アプリケーションではこれらのレベルを使用しないことをお勧めします。

レベルは (機能ではなく) サービスをホストしているハードウェアの特性を反映していて、以下によって差別化されています。

+ 作成可能なインデックスの数
+ パーティション (物理ストレージ) のサイズと速度

**Free** レベルを含むすべてのレベルで、一般に機能パリティを提供しますが、ワークロードが大きいほど、より高いレベルの要件を必要とする可能性があります。 たとえば、[Cognitive Services による AI インデックス作成](cognitive-search-concept-intro.md)には、データ セットのサイズが小さい場合を除いて Free サービスではタイムアウトになってしまう、実行時間の長いスキルがあります。

> [!NOTE] 
> 機能パリティの例外は[インデクサー](search-indexer-overview.md)で、これは S3HD では利用できません。
>

レベル内では、[レプリカとパーティションのリソースを調整する](search-capacity-planning.md)ことによって、スケールを大きくしたり小さくしたりできます。 それぞれ 1、2 個から始めて、大きなインデックス作成ワークロード用に一時的に計算能力を高めることができます。 レベル内でリソース レベルを調整する機能により、柔軟性が加わりますが、分析もやや複雑になります。 大きいリソースやレプリカで下位レベルの方が、小さいリソースで上位レベルよりも、優れた値とパフォーマンスが得られるかどうかを確認する実験が必要になる可能性があります。 容量を調整するタイミングと理由の詳細については、「[Azure Search のパフォーマンスと最適化に関する考慮事項](search-performance-optimization.md)」を参照してください。

## <a name="tiers-for-azure-search"></a>Azure Search のレベル

次の表は使用できるレベルの一覧です。 レベルに関する他の情報ソースとしては、[価格に関するページ](https://azure.microsoft.com/pricing/details/search/)、[サービスとデータの制限](search-limits-quotas-capacity.md)、およびサービスをプロビジョニングするときのポータル ページがあります。

|レベル | 容量 |
|-----|-------------|
|無料 | 他のサブスクライバーと共有されます。 スケーラブルではなく、3 個のインデックスと 50 MB のストレージに制限されます。 |
|Basic | 小規模の運用ワークロードのための専用コンピューティング リソースです。 1 個の 2 GB パーティションと、最大 3 個のレプリカです。 |
|Standard 1 (S1) | S1 以上は、すべてのレベルでさらに多くのストレージや処理能力を持つ専用マシンです。 S1 のパーティション サイズは 25 GB/パーティション (サービスあたり最大 300 GB) です。 |
|Standard 2 (S2) | S1 に似ていますが、100 GB/パーティション (サービスあたり最大 1.2 TB) です。 |
|Standard 3 (S3) | 200 GB/パーティション (サービスあたり最大 2.4 TB) です。 |
|Standard 3 High-density (S3-HD) | 高密度は、S3 用の "*ホスティング モード*" です。 基になるハードウェアは多数の小さいインデックス用に最適化されており、マルチテナント シナリオ向けです。 S3-HD のユニットあたりの料金は S3 と同じですが、ハードウェアは数多くの小さいインデックスでの高速ファイル読み取り用に最適化されています。|
|Storage Optimized 1 (L1) | 1 TB/パーティション (サービスあたり最大 12 TB) です。 |
|Storage Optimized 2 (L2) | 2 TB/パーティション (サービスあたり最大 24 TB) です。 |

> [!NOTE] 
> Storage Optimized レベルでは、Standard レベルより安い TB あたりの価格で、大容量のストレージが提供されます。 主なトレードオフとしてクエリの待ち時間が長くなるので、特定のアプリケーションの要件に対して妥当かどうかを確認する必要があります。  このレベルのパフォーマンスに関する考慮事項について詳しくは、[パフォーマンスと最適化の考慮事項](search-performance-optimization.md)に関する記事をご覧ください。
>

## <a name="how-billing-works"></a>請求体系について

Azure Search には、3 種類の費用負担方法があり、固定要素と可変要素があります。 このセクションでは、各課金要素について説明します。

### <a name="1-core-service-costs-fixed-and-variable"></a>1.コア サービスのコスト (固定および可変)

サービス自体については、最低料金は最初の検索単位 (1 レプリカ x 1 パーティション) であり、これより小さい構成ではサービスは実行できないため、この金額はサービスの有効期間を通して一定です。 

次のスクリーンショットは、Free、Basic、S1 のユニット単位価格を示したものです (S2、S3、L1、L2 は示されていません)。 **Basic**、**Standard**、または **Storage Optimized** サービスを作成した場合、月間のコストは、それぞれ *price-1* および *price-2* に表示される値の平均になります。 連続する各レベルでコンピューティング能力とストレージ容量が大きくなるため、ユニット コストはレベルごとに上昇します。

![ユニットあたりの料金](./media/search-sku-tier/per-unit-pricing.png "ユニットあたりの料金")

追加のレプリカとパーティションは、初期料金に追加されます。 検索サービスでは 1 つのレプリカと 1 つのパーティションが必要なので、最小構成はそれぞれ 1 つです。 最小構成を超える場合は、レプリカとパーティションを個別に追加します。 たとえば、レプリカだけ、またはパーティションだけを追加できます。 

追加のレプリカとパーティションは、[数式](#search-units)に基づいて課金されます。 コストは線形ではありません (容量を 2 倍にすると、コストは 2 倍以上になります)。 数式による計算の例については、「[レプリカとパーティションを割り当てる方法](search-capacity-planning.md#how-to-allocate-replicas-and-partitions)」を参照してください。

### <a name="2-data-egress-charges-during-indexing"></a>2.インデックス作成時のデータ エグレス料金

[Azure Search インデクサー](search-indexer-overview.md)を使用すると、サービスの場所によっては課金に影響が出る場合があります。 Azure Search サービスをデータと同じリージョンに作成すれば、データ エグレス料金が発生する事態を回避できます。

+ Azure 上のどのサービスも、インバウンド データには料金がかかりません。

+ Azure Search からのアウトバウンド データには料金がかかりません。

+ SQL DB、Cosmos、Blob Storage からのアウトバウンド (Azure Search へのインバウンド) のデータまたはファイルには、すべてのサービスが同じリージョン内にある限り、料金がかかりません。

+ ストレージと Azure Search が異なるリージョンにある場合、アウトバウンドのデータまたはファイルには料金が適用されます。

Azure リージョン間でデータがルーティングされる場合、それらのリソースに関する請求書に帯域幅の料金が記載されます。 これらの料金は Azure Search の請求金額の一部ではありませんが、インデクサーを使用してネットワーク経由でデータまたはファイルをプルする場合、その料金が全体の請求書に示されるため、ここで説明してあります。

インデクサーを使用していない場合、帯域幅の料金はかかりません。 

### <a name="3-ai-enriched-indexing-using-cognitive-services"></a>手順 3.Cognitive Services を使用する AI で強化されたインデックス作成

[Cognitive Services による AI インデックス作成](cognitive-search-concept-intro.md)の場合にのみ、ドキュメント解析中の画像抽出が、ドキュメントから抽出された画像の数に基づいて課金対象になります。 現在、テキストの抽出は無料です。 自然言語処理など、[組み込みのコグニティブ スキル](cognitive-search-predefined-skills.md)に基づく他のエンリッチメントは、Cognitive Services リソースに対して課金されます。 エンリッチメントは、Cognitive Services を直接使用してそのタスクを実行した場合と同じレートで課金されます。

<a name="search-units"></a>

### <a name="billing-based-on-search-units"></a>検索ユニット数に基づく課金

Azure Search 操作について理解する必要がある最も重要な課金の概念は、*検索ユニット* (SU) です。 Azure Search は、インデックス作成とクエリについてレプリカとパーティションの両方に依存しているため、この片方のみを基準に課金しても意味がありません。 このため、この両方を合わせた単位に基づいて課金されます。 

SU は、サービスによって使用される*レプリカ*と*パーティション*の積 **`(R X P = SU)`** です。

すべてのサービスは、最小値として、1 SU (1 つのレプリカと 1 つのパーティションの積) から開始します。 すべてのサービスの最大値は 36 SU ですが、複数の方法で実現できます。たとえば、6 パーティション x 6 レプリカ、3 パーティション x 12 レプリカなどです。 合計容量まで使わないことが一般的です。 たとえば、3 レプリカ、3 パーティションのサービスは、9 SU として課金されます。 有効な組み合わせの概要については、[こちらのグラフ](search-capacity-planning.md#chart)をご覧ください。

課金は **SU ごとの時間単位**で、レベルごとに料金が高くなっていきます。 レベルが高いほど、パーティションは大きく高速になり、そのレベルの全体的な時間ごとの料金が高くなります。 各レベルの価格は、「 [Search の価格](https://azure.microsoft.com/pricing/details/search/)」を参照してください。 

ほとんどのお客様は、総容量の一部だけをオンラインにし、残りを取っておきます。 課金の観点からいうと、オンラインで使用するパーティションとレプリカの数を SU 式を使用して計算すれば、時間単位で実際に支払う金額が割り出せます。

### <a name="billing-for-image-extraction-in-cognitive-search"></a>コグニティブ検索での画像抽出の課金

コグニティブ検索のインデックス作成パイプラインでファイルから画像を抽出する場合、Azure Search の請求書でその操作に対する料金が課金されます。 画像抽出をトリガーするパラメーターは、[インデクサー構成](https://docs.microsoft.com/rest/api/searchservice/create-indexer#indexer-parameters)の **imageAction** です。 **imageAction** が none (既定値) に設定されている場合、画像の抽出は無料です。

価格は変更されることがありますが、Azure Search の [[価格の詳細]](https://azure.microsoft.com/pricing/details/search/) ページに常に記載されています。 

### <a name="billing-for-built-in-skills-in-cognitive-search"></a>コグニティブ検索での組み込みスキルの課金

エンリッチメント パイプラインを設定すると、そのパイプラインで使用される[組み込みスキル](cognitive-search-predefined-skills.md)はすべて機械学習モデルに基づきます。 このようなモデルは Cognitive Services に用意されています。 インデックス作成時のこのようなモデルの使用量には、リソースを直接要求した場合と同じレートで課金されます。

たとえば、スキャン画像の JPEG ファイルに対する光学式文字認識 (OCR) で構成されるパイプラインがあるとします。この場合、結果のテキストは自由形式の検索クエリの Azure Search インデックスにプッシュされます。 インデックス作成パイプラインには [OCR スキル](cognitive-search-skill-ocr.md)を持つインデクサーが含まれ、そのスキルが [Cognitive Services リソースにアタッチ](cognitive-search-attach-cognitive-services.md)されます。 インデクサーを実行すると、Cognitive Resources の請求書に OCR の実行に関する料金が表示されます。

## <a name="tips-for-reducing-costs"></a>コスト削減のためのヒント

課金を抑えるためにサービスをシャットダウンすることはできません。 専用リソースは、24 時間 365 日動作し、サービスの有効期間のあいだお客様専用に割り当てられています。 課金を抑える唯一の方法は、レプリカとパーティションをまだ許容可能なパフォーマンスと [SLA コンプライアンス](https://azure.microsoft.com/support/legal/sla/search/v1_0/)を提供する低いレベルに下げることです。 

コストを削減する 1 つの手段は、時間あたりの料金が低いレベルを選択することです。 S1 の時間あたりの料金は S2 または S3 の料金よりも低くなります。 負荷予測の下限を狙ってサービスをプロビジョニングすると仮定した場合、サービスが拡大したら、2 番目に高いレベルのサービスを作成し、その 2 番目のサービスで、インデックスを再構築してから、最初のサービスを削除することができます。 

オンプレミスのサーバーで容量計画を行った場合、予測される成長を処理できるように、"買い増し" することはふつうです。 ただし、クラウド サービスでは、特定の購入に固定されないため、より積極的にコスト節約を追求できます。 現在のサービスが不十分であれば、より高いレベルのサービスにいつでも切り替えることができます。

### <a name="capacity-drill-down"></a>容量のドリルダウン

Azure Search では、容量は*レプリカ*と*パーティション*で構成されています。 

+ レプリカは、検索サービスのインスタンスで、各レプリカは、インデックスの負荷分散されたコピーを 1 つ ホストします。 たとえば、6 つのレプリカを持つサービスには、サービスに読み込まれているすべてのインデックスのコピーが 6 つあります。 

+ パーティションはインデックスを格納し、自動的に検索可能なデータを分割します。たとえば、2 つのパーティションによりインデックスが半分に、3 つのパーティションでは 3 分の 1 に分割されます。 容量の意味では、*パーティション サイズ*が、複数の価格レベルの中で大きな違いのある機能です。

> [!NOTE]
> **Standard** および **Storage Optimized** のすべてのレベルでは、[レプリカとパーティションを柔軟に組み合わせる](search-capacity-planning.md#chart)ことができます。これにより、バランスを変更することにより、[速度とストレージ量のどちらを重視するか](search-performance-optimization.md)を決定できます。 **Basic** レベルでは、3 つのレプリカが使用できるため可用性が高くなりますが、パーティションは 1 つのみです。 **Free** レベルでは、専用のリソースが提供されません。コンピューティング リソースは複数のサブスクライバー間で共有されます。

### <a name="more-about-service-limits"></a>サービスの制限の詳細

インデックス、インデクサーなどのホスト リソースを提供します。 各価格レベルには、作成できるリソース量に対する[サービス制限](search-limits-quotas-capacity.md)があります。 そのため、インデックス (およびその他のオブジェクト) の上限数は、複数の価格レベルで第二の差別化要素になります。 ポータルで各オプションを確認し、インデックスの数の制限に注意してください。 インデクサー、データ ソース、およびスキルセットなどのその他のリソースにはインデックスに対する制限が設定されます。

## <a name="consumption-patterns"></a>消費パターン

ほとんどのお客様が、**Free** サービスから始め、これを無期限に維持しながら、重要な開発または運用ワークロードのために **Standard** または **Storage Optimized** レベルを選択します。 

![Azure search の価格レベル](./media/search-sku-tier/tiers.png "Azure search の価格レベル")

これに対し、重要で特殊な消費パターンのために **Basic** と **S3 HD** が存在します。 **Basic** は、小規模な運用ワークロード用で、SLA、専用のリソース、高可用性を提供しますが、ストレージは 合計 2 GB を上限としており大きくはありません。 この価格レベルは、使用する容量が利用可能な容量を一貫して下回るお客様のために作られています。 反対に、**S3 HD** は、 ISV、パートナー、[マルチテナント ソリューション](search-modeling-multitenant-saas-applications.md)、または小さなインデックスを大量に必要とする構成に典型的なワークロードのために作られています。 多くの場合、**Basic** と **S3 HD** 価格レベルのどちらが適切かは明白ですが、さらにガイダンスが必要な場合は、[StackOverflow](https://stackoverflow.com/questions/tagged/azure-search) に投稿して確認するか、または [Azure サポートに問い合わせてください](https://azure.microsoft.com/support/options/)。

より一般的に使用される Standard レベルの **S1-S3** 価格レベルでは、パーティションのサイズ、インデックス、インデクサー、推論リソースの最大数が変化した時点で、容量を段階的に増量できます。

|  | S1 | S2 | S3 |  |  |  |  |
|--|----|----|----|--|--|--|--|
| パーティション サイズ|  25 GB | 100 GB | 200 GB |  |  |  |  |
| インデックスとインデクサーの制限| 50 | 200 | 200 |  |  |  |  |

**S1** は専用のリソースと複数のパーティションが必要な場合に、一般的な選択肢です。 最大 12 の 25 GB のパーティションを使用して、レプリカに対しパーティションを最大化した場合、**S1** のサービス当たりの限界は合計 300 GB です (よりバランスの取れた構成については [ パーティションとレプリカの割り当て](search-capacity-planning.md#chart)を参照)。

ポータルと料金のページでは、パーティションのサイズとストレージが強調されていますが、各価格レベルのすべてのコンピューティング機能 (ディスク容量、速度、CPU) は価格と共に線形に増加します。 **S2** レプリカは **S1** より高速で、**S3** は **S2** より高速です。 **S3** レベルでは、格段に I/O が速いため、一般に線形パターンであるコンピューティング機能と価格の関係から逸脱します。 I/O のボトルネックを予測している場合、**S3** はこれより低い価格レベルよりはるかに高い IOPS を提供します。

**S3** と **S3 HD** は同一の大容量インフラストラクチャを使用していますが、上限に達する方法が異なります。 **S3** は、少数の非常に大きいインデックスのために作られています。 したがって、上限はリソースに左右されます (サービスあたり 2.4 TB)。 **S3 HD** は、大量の非常に小さいインデックスのために作られています。 インデックスが 1,000 個になった時点で、**S3 HD** は、インデックス制約という形の制限に達します。 **S3 HD** を使用しているお客様で、1,000 を超えるインデックスが必要な場合は、Microsoft サポートにお問い合わせください。

> [!NOTE]
> 以前は、ドキュメントの制限が考慮事項でしたが、新しいサービスに適用されなくなりました。 ドキュメントの制限が引き続き適用される条件の詳細については、[サービスの制限: ドキュメントの制限](search-limits-quotas-capacity.md#document-limits)に関する記事を参照してください。
>

Storage Optimized レベル (**L1 - L2**) は、必要なデータは多くても、エンド ユーザーの数は比較的少なく、クエリの待ち時間を最小に抑えることが最優先事項ではないアプリケーションに最適です。  

|  | L1 | L2 |  |  |  |  |  |
|--|----|----|--|--|--|--|--|
| パーティション サイズ|  1 TB (テラバイト) | 2 TB |  |  |  |  |  |
| インデックスとインデクサーの制限| 10 | 10 |  |  |  |  |  |

*L2* で提供される全体的なストレージ容量は、*L1* の 2 倍です。  インデックスで必要と思われる最大データ量に基づいて、レベルを選択してください。  *L1* レベルのパーティションは 1 TB 単位の増分で最大 12 TB までスケールアップするのに対し、*L2* はパーティションごとに 2 TB ずつ最大 24 TB まで増加します。

## <a name="evaluate-capacity"></a>容量の評価

容量が大きいほど、サービスの実行にかかるコストも高くなります。 価格レベルでは、ストレージとリソースの 2 つのレベルで制限が課せられます。どちらか先に上限に達した方が実質的な制限になりますので、この両方を考慮する必要があります。 

通常は、ビジネス要件によって必要なインデックスの数が規定されます。 たとえば、ドキュメントの大規模なリポジトリのグローバル インデックス、または、リージョン、アプリケーション、またはビジネス分野などによって複数のインデックスが必要になります。

インデックスのサイズを特定するには、インデックスを 1 つ[構築](search-create-index-portal.md)する必要があります。 Azure Search のデータ構造は、主に、[転置インデックス](https://en.wikipedia.org/wiki/Inverted_index)でソース データとは異なる特性があります。 転置インデックスのサイズと複雑性は、コンテンツによって決まり、必ずしも、フィードするデータ量によっては決まりません。 冗長性の高い大規模なデータ ソースの場合、変動の多いコンテンツを含む小さいデータセットの場合よりも、インデックスのサイズが小さくなることがあります。 そのため、元のデータ セットのサイズに基づいてインデックスのサイズを推測できることはほとんどありません。

> [!NOTE] 
> インデックスとストレージの将来のニーズの予測は当て推量のように感じるかもしれませんが、行う価値があります。 ある価格レベルの容量が少なすぎることがわかった場合は、それより上の価格レベルで新しいサービスをプロビジョニングしたうえで、[インデックスを再読み込み](search-howto-reindex.md)する必要があります。 同じサービスで、特定の SKU から別の SKU へのインプレース アップグレードを実行することはできません。
>

### <a name="step-1-develop-rough-estimates-using-the-free-tier"></a>手順 1:Free レベルを使用して大まかな見積もりを作成する

容量を見積もる方法の一つは、まず **Free** レベルを使用することです。 **Free** サービスでは、50 MB のストレージ、最大 3 つのインデックス、2 分間のインデックス作成時間が提供されます。 これらの制約の中で予想インデックス サイズを見積もることは簡単ではありませんが、次の例で一つの方法を示します。

+ [無料サービスを作成します](search-create-service-portal.md)
+ 少量の代表的なデータ セットを準備します (たとえば、5,000 のドキュメントと 10% のサンプル サイズとします)。
+ [最初のインデックスを構築](search-create-index-portal.md)し、ポータルに表示されるサイズを確認します (たとえば、30 MB とします)。

サンプルが代表的でデータ ソース全体の 10% だったとすると、すべてのドキュメントにインデックスが付けられた場合、30 MB のインデックスは約 300 MB になります。 2 つのインデックス (開発用と運用用) に割り当てるためにこの予測値を 2 倍にし、合計 600 MB のストレージ要件を割り出せます。 この要件は **Basic** レベルで簡単に満たせるため、このレベルから利用を開始します。

### <a name="step-2-develop-refined-estimates-using-a-billable-tier"></a>手順 2:課金対象レベルを使用して詳細な見積もりを作成する

お客様によっては、大量のサンプリングと処理時間に対応できる専用リソースからまず始め、開発段階でインデックスの量、サイズ、クエリ量の現実的な予想を立てることを選択することもできます。 当初は、サービスは最善の推測による見積もりを基にプロビジョニングされ、その後、開発プロジェクトが成熟するに伴って、通常は、既存のサービスの容量が予想される運用ワークロードを上回るか下回るかを予想することができます。 

1. [各価格レベルのサービス制限を確認](https://docs.microsoft.com/azure/search/search-limits-quotas-capacity#index-limits)して、より低い価格レベルで、必要なインデックス数に対応できるかどうかを判断してください。 間で、**Basic**-**S1**-**S2** レベルでのインデックス制限は、それぞれ 15、50、200 です。  **Storage Optimized** レベルは、少数の非常に大きいインデックスをサポートするように設計されているため、10 インデックスに制限されています。

1. [課金対象レベルでサービスを作成します](search-create-service-portal.md)。

    + 学習曲線の初めの段階では、**Basic** または **S1** の低レベルから始めます。
    + サイズの大きなインデックスの作成とクエリの読み込みが明らかに必要な場合は、**S2** または **S3** から始めます。
    + 社内のビジネス アプリケーションのように、インデックスを付けるデータの量が多く、クエリの負荷が比較的低い場合は、Storage Optimized (**L1** または **L2**) を使用します。

1. [最初のインデックスを構築](search-create-index-portal.md)して、ソース データがどのようにインデックスに変換されるかを特定します。 これは、インデックスのサイズを推測する唯一の方法です。

1. ポータルで、[ストレージ、サービス制限、クエリ量、および待機時間を監視](search-monitor-usage.md)します。 秒当たりのクエリ数、調整されたクエリ数、および検索の待機時間がポータルに表示されます。これらすべてから、適切なレベルを選択したかどうかを決定できます。 ポータルのメトリックに加え、[検索トラフィック分析](search-traffic-analytics.md)を有効にすることで、クリックスルー分析などの詳細な監視を構成できます。 

ストレージ (パーティション) を使い果たした、またはリソース (インデックス、インデクサーなど) の最大限界に達した時点で最大制限に達するため、インデックス数とサイズのいずれも同様に重要です。 ポータルの [概要] ページでは、現在の使用状況と最大制限が並んで表示されるため、両方を追跡できます。

> [!NOTE]
> ドキュメントに余分なデータが含まれている場合は、ストレージの要件が過剰になる可能性があります。 ドキュメントには、検索機能に必要なデータのみが含まれていることが理想的な状態です。 検索不可能なバイナリ データは別の場所 (たとえば Azure テーブルまたは Blob Storage) に保存し、外部データへの URL 参照を保持するフィールドをインデックスに追加します。 個々のドキュメントの最大サイズは 16 MB です (1 回の要求で複数のドキュメントを一括アップロードする場合は、それより小さくなります)。 詳細については、「[Azure Search サービスの制限](search-limits-quotas-capacity.md)」をご覧ください。
>

**クエリ数に関する考慮事項**

クエリ/秒 (QPS) は、パフォーマンスのチューニング中に注目されるメトリックですが、一般に、最初からクエリ数が多いことが予想される場合を除いては、価格レベルの考慮事項にはなりません。

Standard レベルでは、レプリカとパーティションのバランスが取られているため、負荷分散のための追加のレプリカを使用することによってクエリの応答時間を短縮したり、並列処理のためにパーティションが追加されたりします。 サービスがプロビジョニングされた後に、パフォーマンスをチューニングできます。

最初から大量のクエリ数が継続することが予想される場合は、より強力なハードウェアを使用する、より高い **Standard** レベルを検討してください。 その後、現実にはこれらのクエリ数に達しなかった場合、パーティションとレプリカをオフラインにするか、またはより低い価格レベルのサービスに切り替えることができます。 クエリ スループットの計算方法の詳細については、「[Azure Search のパフォーマンスと最適化に関する考慮事項](search-performance-optimization.md)」を参照してください。

Storage Optimized レベルは、クエリ待ち時間要件がある程度緩く、サポートする使用可能な全体的インデックス ストレージが多い、大規模なデータ ワークロード向けです。  それでも、負荷分散のためにはレプリカを追加し、並列処理のためにはパーティションを追加する必要があります。 サービスがプロビジョニングされた後に、パフォーマンスをチューニングできます。

**サービス レベル アグリーメント**

**Free** レベルおよびプレビュー機能には、[サービス レベル アグリーメント (SLA)](https://azure.microsoft.com/support/legal/sla/search/v1_0/) がありません。 課金対象のすべてのレベルで、SLA が有効になるのは、サービスにとって十分な冗長性がプロビジョニングされるときです。 クエリ (読み取り) の SLA には複数のレプリカが必要です。 クエリとインデックス作成 (読み取り/書き込み) の SLA には 3 つ以上のレプリカが必要です。 パーティション数は SLA には関係ありません。 

## <a name="tips-for-tier-evaluation"></a>レベルの評価に関するヒント

+ 効率的なインデックスを構築する方法と、どの更新方法が最も影響が少ないかについて説明します。 [検索トラフィック分析](search-traffic-analytics.md)を実行して、クエリ アクティビティに関する洞察を得ることをお勧めします。

+ クエリに関するメトリックを構築し、利用パターン (業務時間中のクエリ数、オフピーク時のインデックス作成) に関するデータを収集し、このデータを使用して、今後のサービス プロビジョニングに関する決定に役立つ情報を取得します。 時間ごと、または毎日の周期では実用的ではない場合、パーティションやリソースを動的に調節して、クエリ数の計画された変化に対応したり、措置を取る間、そのレベルで対応できる場合は、計画外の持続した変化に対応できます。

+ 過小なプロビジョニングの唯一の欠点は、実際の要件が見積もりより大きかった場合に、サービスを中断する必要があることに注意してください。 サービスの中断を回避するには、同じサブスクリプション内のより高いレベルで新しいサービスを作成し、すべてのアプリと要求が新しいエンドポイントを指すようになるまで並行して実行します。

## <a name="next-steps"></a>次の手順

**Free** レベルから始め、データのサブセットを使用し最初のインデックスを構築することで、その特性を理解します。 Azure Search のデータ構造は転置インデックスで、転置インデックスのサイズと複雑性はコンテンツによって決まります。 冗長性の高いコンテンツでは、不規則なコンテンツよりもインデックスのサイズが小さくなる傾向があります。 そのため、インデックス ストレージの要件を決定するのは、データ セットのサイズではなく、コンテンツの特性です。

インデックスのサイズが見積もれたら、この記事で説明されている**Basic**、**Standard**、または **Storage Optimized** レベルのいずれかの[課金対象のサービスをプロビジョニング](search-create-service-portal.md)します。 データ のサイズ決定に対する人為的な制約を緩和し、実際に検索可能にする必要があるすべてのデータが含まれるよう、[インデックスを再構築](search-howto-reindex.md)します。

必要なパフォーマンスとスケールに合わせて[パーティションとレプリカを割り当て](search-capacity-planning.md)ます。

パフォーマンスと容量に問題なければ完了です。 問題がある場合は、より密接にニーズに適合するよう、別のレベルで検索サービスを再作成します。

> [!NOTE]
> ご不明な点がある場合は、[StackOverflow](https://stackoverflow.com/questions/tagged/azure-search) に投稿するか、[Azure サポートにお問い合わせ](https://azure.microsoft.com/support/options/)ください。
