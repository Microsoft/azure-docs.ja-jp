---
title: "Azure Search 用の SKU または価格レベルの選択 | Microsoft Docs"
description: "Azure Search は無料、Basic、Standard の各 SKU にプロビジョニングできます。Standard は、複数のリソース構成および容量レベルで使用できます。"
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 8d4b7bca-02a5-43ee-b3f8-03551dfb32fd
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/24/2016
ms.author: heidist
translationtype: Human Translation
ms.sourcegitcommit: fc2f30569acc49dd383ba230271989eca8a14423
ms.openlocfilehash: 259c59133499a4a3beb0e5f6f3700944df5ab8a9

---

# <a name="choose-a-sku-or-pricing-tier-for-azure-search"></a>Azure Search 用の SKU または価格レベルの選択
Azure Search では、特定の価格レベルまたは SKU で[サービスがプロビジョニングされます](search-create-service-portal.md)。 指定できる選択肢には、**Free**、**Basic**、**Standard** があります。このうち **Standard** は、複数の構成および容量で指定できます。

この記事では、こうしたレベルを選択するための情報を提供します。 容量が少なすぎることがわかった場合は、上位の価格レベルで新しいサービスをプロビジョニングしたうえで、インデックスを再度読み込む必要があります。 同じサービスで、特定の SKU から別の SKU へのインプレース アップグレードを実行することはできません。

> [!NOTE]
> レベルを選択し、[Search サービスをプロビジョニング](search-create-service-portal.md)したら、サービス内でレプリカ数とパーティション数を増やすことができます。 詳細については、[クエリとインデックスのワークロードに応じたリソース レベルのスケール](search-capacity-planning.md)に関するページをご覧ください。
>
>

## <a name="how-to-approach-a-pricing-tier-decision"></a>価格レベルを決める方法
Azure Search では、価格レベルにより、利用できる機能ではなく容量が決まります。 一般的に、すべての価格レベルで機能 (プレビュー機能を含む) を利用できますが、 1 つの例外として、S3 HD でインデクサーを使用することはできません。

> [!TIP]
> 小規模のプロジェクト用としていつでも利用できるように、常に **Free** サービスをプロビジョニングするようお勧めしています (サブスクリプションごとに 1 つで、有効期限はありません)。 **Free** サービスはテストや評価向けに利用できますが、運用向け、またはより大規模なテスト ワークロード向けには **Basic** レベルまたは **Standard** レベルで課金対象サービスを別途作成します。
>
>

容量が大きいほど、サービスの実行にかかるコストも高くなります。 この記事の情報は、どの SKU で適切なバランスが得られるかを判断するのに役立ちますが、そのためには少なくとも、以下の点について大まかな見積もりを行う必要があります。

* 作成する予定のインデックスの数とサイズ
* アップロードするドキュメントの数とサイズ
* 1 秒あたりのクエリ数 (QPS) を単位としたクエリ量の概算

容量の上限は、サービス内のインデックスやドキュメントの数、またはサービスによって使用されるリソース (ストレージやレプリカ) に対するハード制限によって決まるため、数とサイズが重要です。 サービスの実質的な上限は、リソースとオブジェクトのうち先に使い果たした方の使用量になります。

見積もりが得られたら、次の手順によってプロセスを簡素化できます。

* **手順 1.** 以降の SKU に関する説明を読み、どのようなオプションが利用できるかを確認します。
* **手順 2.** 以下の質問事項を確認して、仮決定を行います。
* **手順 3.** ストレージと価格に対するハードウェアの制限を確認し、前の手順での決定事項を確定します。

## <a name="sku-descriptions"></a>SKU の説明
次の表に、それぞれの価格レベルについての説明を示します。

| レベル | 主なシナリオ |
| --- | --- |
| **Free** |評価、調査、または小規模なワークロードに使用される、課金なしの共有サービス。 他のサブスクライバーと共有されるため、クエリのスループットとインデックス数は、サービスを使用している他のサブスクライバーに基づいて変化します。 容量は小です (50 MB、または 3 つのインデックスと、インデックスごとに最大 10,000 個のドキュメント)。 |
| **Basic** |専用ハードウェア上の小規模な実稼働ワークロード。 高可用性。 容量は最大で 3 つのレプリカと 1 つのパーティション (2 GB) です。 |
| **S1** |Standard 1 はパーティション (12) とレプリカ (12) の柔軟な組み合わせをサポートし、専用ハードウェア上の中規模の実稼働ワークロードに対して使用されます。 最大 36 個の請求可能な検索単位でサポートされる組み合わせで、レプリカとパーティションを割り当てることができます。 この価格レベルでは、パーティションはそれぞれ 25 GB で、QPS は約 15 クエリ/秒です。 |
| **S2** |Standard 2 は S1 と同じ 36 検索単位を使用しながら、より大きいサイズのパーティションとレプリカで、より大規模な実稼働ワークロードを実行できます。 この価格レベルでは、パーティションはそれぞれ 100 GB で、QPS は約 60 クエリ/秒です。 |
| **S3** |Standard 3 はハイエンド システムで、最大 12 個のパーティションまたは 12 個のレプリカから成る構成 (36 検索単位以内) で、より大規模な実稼働ワークロードを実行できます。 この価格レベルでは、パーティションはそれぞれ 200 GB で、QPS は 60 クエリ/秒を超えます。 |
| **S3 HD** |Standard 3 High Density は、多数の小さいインデックス向けです。 パーティションは最大 3 個で、それぞれ 200 GB です。 QPS は 60 クエリ/秒を超えます。 |

> [!NOTE]
> レプリカとパーティションの最大値は検索単位 (サービスごとに最大 36 単位) として課金されるため、表に示された最大値よりも実際の上限は低くなります。 たとえば、最大 12 個のレプリカを使用する場合、使用できるパーティションは最大で 3 個となります (12 * 3 = 36 単位)。 同様に、最大数のパーティションを使用する場合は、レプリカの数を 3 個に減らす必要があります。 使用できる組み合わせの一覧については、「 [Azure Search でクエリとインデックス作成のワークロードに応じてリソース レベルをスケールする](search-capacity-planning.md) 」をご覧ください。
>
>

## <a name="review-limits-per-tier"></a>レベルごとの制限を確認する
次の表は、「 [Azure Search サービスの制限](search-limits-quotas-capacity.md)」から制限の一部を抜粋したものです。 この表には、SKU の決定に最も影響しやすい要因を示しています。 以下の質問事項を確認する際は、この表を参考にしてください。

| リソース | 無料 | 基本 | S1 | S2 | S3 | S3 HD |
| --- | --- | --- | --- | --- | --- | --- |
| サービス レベル アグリーメント (SLA) |なし <sup>1</sup> |はい |あり |あり |あり |はい |
| インデックスの制限 |3 |5 |50 |200 |200 |1000 <sup>2</sup> |
| ドキュメントの制限 |合計 10,000 |サービスあたり 100 万 |パーティションあたり 1,500 万 |パーティションあたり 6,000 万 |パーティションあたり 1 億 2,000 万 |インデックスあたり 100 万 |
| 最大パーティション数 |該当なし |1 |12 |12 |12 |3 <sup>2</sup> |
| パーティション サイズ |合計 50 MB |サービスあたり 2 GB |パーティションあたり 25 GB |パーティションあたり 100 GB (サービスあたり最大 1.2 TB)  |パーティションあたり 200 GB (サービスあたり最大 2.4 TB) |200 GB (サービスあたり最大 600 GB) |
| 最大レプリカ数 |該当なし |3 |12 |12 |12 |12 |
| 秒間クエリ |該当なし |レプリカあたり最大 3 |レプリカあたり最大 15 |レプリカあたり最大 60 |レプリカあたり 60 以上 |レプリカあたり 60 以上 |

<sup>1</sup> Free およびプレビューの SKU には SLA がありません。 SKU が一般公開されると、SLA が適用されます。

<sup>2</sup> S3 と S3 HD は同じ大容量インフラストラクチャでサポートされますが、上限に達する方法はそれぞれ異なります。 S3 が対象とするインデックスは非常に大きく、その数は抑えられています。 したがって、上限はリソースに左右されます (サービスあたり 2.4 TB)。 S3 HD の対象は、非常に小さな多数のインデックスです。 インデックスが 1,000 個になった時点で、S3 HD は、インデックス制約という形でその制限に達します。 S3 HD を使用している場合、1,000 を超えるインデックスが必要なときは、Microsoft サポートにその後の処理についてお問い合わせください。

## <a name="eliminate-skus-that-dont-meet-requirements"></a>要件を満たしていない SKU を排除する
次の質問は、ワークロードに対する適切な SKU の決定に役立ちます。

1. **サービス レベル アグリーメント (SLA)** の要件はありますか? SKU の決定を Basic、またはプレビュー以外の Standard に絞り込んでください。
2. **何個のインデックス** が必要ですか? SKU の決定に最も大きな影響を与える変数の 1 つが、各 SKU でサポートされるインデックスの数です。 インデックスのサポート内容は、低い価格レベルでは著しく異なります。 インデックス数の要件は、SKU を決めるための主要な決定要因となる可能性があります。
3. **何個のドキュメント** が読み込まれますか? ドキュメントの数とサイズは、インデックスの最終的なサイズを決定します。 インデックスの予測サイズを見積もることができると仮定した場合、そのサイズを SKU あたりのパーティション サイズ、およびそのサイズのインデックスを格納するために必要なパーティション数と比較して検討できます。
4. **予想されるクエリ負荷はどのくらいですか**? ストレージの要件を把握した後は、クエリのワークロードについて検討します。 S2 SKU および S3 の両方の SKU は同等に近いスループットを提供しますが、プレビュー SKU は SLA の要件から除外されます。
5. S2 レベルまたは S3 レベルを検討している場合は、[インデクサー](search-indexer-overview.md)が必要かどうかを確認します。 インデクサーは、S3 HD レベルではまだ使用できません。 また、インデックス更新のプッシュモデルを使用することもできます。このモデルでは、アプリケーション コードを記述して、データ セットをインデックスにプッシュします。

ほとんどの場合、こうした質問に対する回答に基づいて、特定の SKU を検討するか除外するかを決定できます。 それでもまだ、どの SKU が適切かわからない場合は、MSDN または StackOverflow フォーラムで質問を投稿するか、Azure サポートまでお問い合わせください。

## <a name="decision-validation-does-the-sku-offer-sufficient-storage-and-qps"></a>意思決定の検証: SKU が十分なストレージと QPS を提供するか
最後の手順として、[価格に関するページ](https://azure.microsoft.com/pricing/details/search/)と、[サービスの制限に関するページのサービスごとの制限とインデックスごとの制限の各セクション](search-limits-quotas-capacity.md)を見直し、サブスクリプションとサービスの制限に照らして見積もりをもう一度確認します。

価格またはストレージの要件が範囲外にある場合は、(たとえば) 複数の小規模なサービス間でワークロードをリファクタリングすることができます。 より細かいレベルでは、インデックスを小さく設計し直したり、フィルターを使用してクエリの効率を高めたりすることもできます。

> [!NOTE]
> ドキュメントに余分なデータが含まれている場合は、ストレージの要件が過剰になる可能性があります。 ドキュメントは、検索可能なデータまたはメタデータのみで構成されているのが理想的です。 検索不可能なバイナリ データは別の場所 (たとえば Azure テーブルまたは Blob Storage) に保存し、外部データへの URL 参照を保持するフィールドをインデックスに追加します。 個々のドキュメントの最大サイズは 16 MB です (1 回の要求で複数のドキュメントを一括アップロードする場合は、それより小さくなります)。 詳細については、「 [Azure Search サービスの制限](search-limits-quotas-capacity.md) 」をご覧ください。
>
>

## <a name="next-step"></a>次のステップ
どの SKU が適切であるかを決定した後は、次の手順に進みます。

* [ポータルで Search サービスを作成する](search-create-service-portal.md)
* [サービスをスケールするためにパーティションとレプリカの割り当てを変更する](search-capacity-planning.md)



<!--HONumber=Nov16_HO3-->


