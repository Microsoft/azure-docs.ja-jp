---
title: 価格レベル - Azure Database for MariaDB
description: コンピューティング世代、ストレージの種類、ストレージのサイズ、仮想コア、メモリ、バックアップのリテンション期間など、Azure Database for MariaDB のさまざまな価格レベルについて説明します。
author: ajlam
ms.author: andrela
ms.service: mariadb
ms.topic: conceptual
ms.date: 8/13/2020
ms.openlocfilehash: cb785a6d988772ba160806621e44900d630b7e61
ms.sourcegitcommit: 152c522bb5ad64e5c020b466b239cdac040b9377
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/14/2020
ms.locfileid: "88225718"
---
# <a name="azure-database-for-mariadb-pricing-tiers"></a>Azure Database for MariaDB の価格レベル

Azure Database for MariaDB サーバーは、次の 3 つの価格レベルのいずれかで作成できます: Basic、汎用、メモリ最適化。 価格レベルは、プロビジョニングできる仮想コアでのコンピューティング量、仮想コアあたりのメモリ、およびデータの格納に使用されるストレージ テクノロジによって区別されています。 リソースはすべて、MariaDB サーバー レベルでプロビジョニングされます。 1 つのサーバーには 1 つ以上のデータベースを含めることができます。

| リソース | **Basic** | **汎用** | **メモリ最適化** |
|:---|:----------|:--------------------|:---------------------|
| コンピューティング世代 | Gen 5 |Gen 5 | Gen 5 |
| 仮想コア | 1、2 | 2、4、8、16、32、64 |2、4、8、16、32 |
| 仮想コアあたりのメモリ | 2 GB | 5 GB | 10 GB |
| ストレージ サイズ | 5 GB ～ 1 TB | 5 GB ～ 4 TB | 5 GB ～ 4 TB |
| データベース バックアップのリテンション期間 | 7 ～ 35 日間 | 7 ～ 35 日間 | 7 ～ 35 日間 |

価格レベルを選択する場合は、まず次の表を参考にしてください。

| Pricing tier | 対象のワークロード |
|:-------------|:-----------------|
| Basic | 低負荷なコンピューティングと I/O パフォーマンスを必要とするワークロード。 たとえば、開発やテスト、使用頻度の低い小規模なアプリケーションに使用するサーバーがこれに該当します。 |
| General Purpose | 負荷分散されたコンピューティングとメモリ、およびスケーラブルな I/O スループットを必要とする大部分のビジネス ワークロード。 たとえば、Web アプリやモバイル アプリ、その他のエンタープライズ アプリケーションをホストするためのサーバーが挙げられます。|
| メモリ最適化 | 高速トランザクション処理と高いコンカレンシーを実現するためのインメモリ パフォーマンスを必要とする、高パフォーマンス データベース ワークロード。 たとえば、リアルタイム データと高パフォーマンスなトランザクション アプリや分析アプリを処理するためのサーバーが挙げられます。|

サーバーを作成したら、仮想コア数、および価格レベル (Basic への変更と Basic からの変更を除く) を数秒で増やしたり減らしたりできます。 また、アプリケーションのダウンタイムなしでストレージ (増量のみ) とバックアップのリテンション期間 (増減) を個別に調整できます。 バックアップ ストレージの種類は、サーバーの作成後に変更することはできません。 詳細については、「[リソースのスケール](#scale-resources)」セクションを参照してください。

## <a name="compute-generations-and-vcores"></a>コンピューティング世代と仮想コア

コンピューティング リソースは仮想コアとして提供されます。仮想コアは、基礎となるハードウェアの論理 CPU を表します。 Gen 5 論理 CPU は、Intel E5-2673 v4 (Broadwell) 2.3 GHz のプロセッサを基盤とします。

## <a name="storage"></a>ストレージ

プロビジョニングするストレージは、使用している Azure Database for MariaDB サーバーで使用可能なストレージ容量です。 ストレージは、データベース ファイル、一時ファイル、トランザクション ログ、および MariaDB サーバー ログに使用されます。 プロビジョニングするストレージの合計容量によって、ご利用のサーバーで使用できる I/O 容量も決まります。

| ストレージの属性   | Basic | General Purpose | メモリ最適化 |
|:---|:----------|:--------------------|:---------------------|
| ストレージの種類 | 基本的なストレージ | 汎用のストレージ | 汎用のストレージ |
| ストレージ サイズ | 5 GB ～ 1 TB | 5 GB ～ 4 TB | 5 GB ～ 4 TB |
| ストレージの増分サイズ | 1 GB | 1 GB | 1 GB |
| IOPS | 変数 |3 IOPS/GB<br/>最小 100 IOPS<br/>最大 6000 IOPS | 3 IOPS/GB<br/>最小 100 IOPS<br/>最大 6000 IOPS |

サーバーの作成中および作成後にさらにストレージ容量を追加でき、システムではワークロードのストレージ使用量に基づいて自動的にストレージを拡張することができます。

>[!NOTE]
> ストレージはスケールアップのみ可能で、スケールダウンすることはできません。

Basic レベルでは、IOPS 保証は提供されません。 汎用およびメモリ最適化の価格レベルでは、IOPS は、プロビジョニング済みのストレージ サイズに合わせて 3 対 1 の比率でスケーリングされます。

ご自身の I/O 使用量を監視するには、Azure Portal または Azure CLI コマンドを使用します。 監視すべき関連メトリックは、[容量の上限、ストレージの割合、ストレージの使用量、および IO の割合](concepts-monitoring.md)です。

### <a name="large-storage-preview"></a>大容量のストレージ (プレビュー)

汎用レベルおよびメモリ最適化レベルのストレージ制限の上限を引き上げています。 プレビューにオプトインされる新しく作成されたサーバーでは、最大 16 TB のストレージをプロビジョニングできます。 IOPS は、3:1 の比率で最大で 20,000 IOPS までスケーリングされます。 現在一般的に使用できるストレージと同様に、サーバーの作成後にさらにストレージ容量を追加でき、システムではワークロードのストレージ使用量に基づいて自動的にストレージを拡張できます。

| ストレージの属性 | General Purpose | メモリ最適化 |
|:-------------|:--------------------|:---------------------|
| ストレージの種類 | Azure Premium Storage | Azure Premium Storage |
| ストレージ サイズ | 32 GB ～ 16 TB| 32 ～ 16 TB |
| ストレージの増分サイズ | 1 GB | 1 GB |
| IOPS | 3 IOPS/GB<br/>最小 100 IOPS<br/>最大 20,000 IOPS| 3 IOPS/GB<br/>最小 100 IOPS<br/>最大 20,000 IOPS |

> [!IMPORTANT]
> 大容量ストレージは、現在、次のリージョンでパブリック プレビュー中です。米国東部、米国東部 2、米国中部、米国西部、米国中北部、米国中南部、北ヨーロッパ、西ヨーロッパ、英国南部、英国西部、東南アジア、東アジア、東日本、西日本、韓国中部、韓国南部、オーストラリア東部、オーストラリア東南部、米国西部 2、米国中西部。

### <a name="reaching-the-storage-limit"></a>容量の上限に到達

プロビジョニングされたストレージが 100 GB 以下のサーバーでは、空きストレージが、プロビジョニングされたストレージ サイズの 5% 未満になると、読み取り専用とマークされます。 プロビジョニングされたストレージが 100 GB を超えるサーバーは、空きストレージが 5 GB 未満である場合、読み取り専用とマークされます。

たとえば、110 GB のストレージをプロビジョニングしていて、実際の使用量が 105 GB を超えた場合、サーバーは読み取り専用とマークされます。 または、5 GB のストレージをプロビジョニングしているときに、ストレージの空き容量が 256 MB 未満になった場合、サーバーは読み取り専用としてマークされます。

サービスがサーバーを読み取り専用にしようとしている間、すべての新しい書き込みトランザクション要求はブロックされ、既存のアクティブなトランザクションの実行は継続されます。 サーバーが読み取り専用に設定された場合、後続のすべての書き込み操作とトランザクションのコミットは失敗します。 読み取りクエリは、中断せずに作業を続行します。 プロビジョニングされたストレージを増やすと、サーバーはもう一度書き込みトランザクションを受け入れる準備ができます。

ストレージの自動拡張を有効にするか、サーバーのストレージがしきい値に近づいたときに通知するためのアラートを設定しておくことをお勧めします。そうすると、読み取り専用状態に入ることを防止できます。 詳細については、[アラートの設定方法](howto-alert-metric.md)に関するドキュメントをご覧ください。

### <a name="storage-auto-grow"></a>ストレージの自動拡張

ストレージの自動拡張により、サーバーのストレージが不足して読み取り専用になることを防ぎます。 ストレージの自動拡張が有効になっている場合は、ワークロードに影響を与えることなく、ストレージが自動的に拡張します。 プロビジョニングされたストレージが 100 GB 以下のサーバーでは、空きストレージが、プロビジョニングされたストレージの 10% を下回ると、プロビジョニングされるストレージ サイズが 5 GB 単位で増加します。 プロビジョニングされたストレージが 100 GB を超えるサーバーの場合、空きストレージ領域が、プロビジョニングされたストレージ サイズの 10 GB を下回ると、プロビジョニングされるストレージ サイズが 5% 単位で増加します。 上で指定されている最大ストレージの制限が適用されます。

たとえば、1000 GB のストレージをプロビジョニングしていて、実際の使用量が 990 GB を超えた場合、サーバーのストレージ サイズは 1050 GB に増加します。 あるいは、10 GB のストレージをプロビジョニングしている場合、ストレージ サイズは空きストレージが 1 GB 未満になると 15 GB に増加します。

ストレージはスケールアップのみ可能で、スケールダウンはできないことに注意してください。

## <a name="backup"></a>バックアップ

Azure Database for MariaDB は、プロビジョニングされているサーバー ストレージの 100% までを追加コストなしでバックアップ ストレージとして利用できます。 この量を超えて使用するバックアップ ストレージは、月ごとに GB 単位で請求されます。 たとえば、サーバーを 250 GB のストレージでプロビジョニングする場合は、サーバーのバックアップに 250 GB の追加のストレージを追加料金なしで利用できます。 250 GB を超えるバックアップのストレージについては、[価格モデル](https://azure.microsoft.com/pricing/details/mariadb/)に従って請求されます。 バックアップ ストレージの使用状況に影響を与える要素を理解し、バックアップ ストレージのコストを監視および制御するには、[バックアップに関するドキュメント](concepts-backup.md)を参照してください。

## <a name="scale-resources"></a>リソースのスケール

サーバーの作成後に、仮想コア数、価格レベル (Basic への変更、および Basic からの変更を除く)、ストレージ量、およびバックアップのリテンション期間を個別に変更できます。 バックアップ ストレージの種類は、サーバーの作成後に変更することはできません。 仮想コアの数は増やしたり減らしたりできます。 バックアップのリテンション期間は、7 日から 35 日の間でスケールアップまたはスケールダウンできます。 ストレージ サイズは増やすことのみ可能です。 ポータルまたは Azure CLI を使用して、リソースのスケーリングを実行できます。 

仮想コア数または価格レベルを変更すると、新しいコンピューティング割り当てを使用して元のサーバーのコピーが作成されます。 新しいサーバーが実行されると、接続が新しいサーバーに切り替わります。 システムが新しいサーバーに切り替わるほんの短時間、新しい接続を確立できず、コミットされていないすべてのトランザクションがロールバックされます。 この時間の長さは変動しますが、ほとんどの場合 1 分未満です。

ストレージのスケーリングおよびバックアップのリテンション期間の変更は、本当の意味でのオンライン操作です。 ダウンタイムはなく、アプリケーションには影響しません。 IOPS はプロビジョニングされたストレージのサイズに合わせてスケーリングされるため、サーバーで使用できる IOPS を増やすには、ストレージをスケールアップします。

## <a name="pricing"></a>価格

最新の料金情報については、サービスの[料金ページ](https://azure.microsoft.com/pricing/details/mariadb/)を参照してください。 必要な構成のコストについては、[Azure Portal](https://portal.azure.com/#create/Microsoft.MariaDBServer) で、選択したオプションに基づいて表示される **[価格レベル]** タブの月額コストを確認します。 Azure サブスクリプションを取得していない場合は、Azure 料金計算ツールを使用して見積もり価格を確認できます。 [Azure 料金計算ツール](https://azure.microsoft.com/pricing/calculator/)の Web サイトで **[項目の追加]** を選択し、 **[データベース]** カテゴリを展開し、 **[Azure Database for MariaDB]** を選択してオプションをカスタマイズします。

## <a name="next-steps"></a>次のステップ
- [サービスの制限事項](concepts-limits.md)を確認します。
- [Azure portal で MariaDB サーバーを作成](quickstart-create-mariadb-server-database-using-azure-portal.md)する方法を確認します。