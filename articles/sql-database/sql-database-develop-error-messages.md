---
title: SQL エラー コード - データベース接続エラー | Microsoft Docs
description: 'よくあるデータベース接続エラー、データベース コピーの問題、一般エラーなど、SQL Database クライアント アプリケーションの SQL エラー コードについて説明します。 '
keywords: SQL エラー コード,SQL へのアクセス,データベース接続エラー,SQL エラー コード
services: sql-database
ms.service: sql-database
ms.subservice: development
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: stevestein
ms.author: sstein
ms.reviewer: ''
ms.date: 10/02/2019
ms.openlocfilehash: 19febc5a0a6e4a72cfebfaecd917185538130152
ms.sourcegitcommit: f9e81b39693206b824e40d7657d0466246aadd6e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/08/2019
ms.locfileid: "72035025"
---
# <a name="sql-error-codes-for-sql-database-client-applications-database-connection-errors-and-other-issues"></a>SQL Database クライアント アプリケーションの SQL エラー コード: データベース接続エラーとその他の問題

この記事では、データベース接続エラー、一時的なエラー (一時的な障害)、リソース ガバナンス エラー、データベース コピーの問題、エラスティック プール、その他のエラーなど、SQL Database クライアント アプリケーションの SQL エラー コードの一覧を示します。 大半は Azure SQL Database に固有のカテゴリで、Microsoft SQL Server には当てはまりません。 [システム エラー メッセージ](https://technet.microsoft.com/library/cc645603(v=sql.105).aspx)もご覧ください。

## <a name="database-connection-errors-transient-errors-and-other-temporary-errors"></a>データベース接続エラー、一時的なエラー、その他の一時的なエラー

次の表では、接続喪失エラーや、アプリケーションから SQL Database にアクセスしようとしたときに発生する恐れがある一時的なエラーの SQL エラー コードが掲載されています。 Azure SQL Database への接続方法のチュートリアルの概要については、 [Azure SQL Database への接続](sql-database-libraries.md)に関するページをご覧ください。

### <a name="most-common-database-connection-errors-and-transient-fault-errors"></a>最も一般的なデータベース接続エラーと一時的な障害エラー

Azure インフラストラクチャには、SQL Database サービス内で負荷の大きいワークロードが生じた場合に、サーバーを動的に再構成する機能があります。  この動的な動作によって、クライアント プログラムが SQL Database への接続を失うことがあります。 この種のエラーは、 *「一時的な障害」* と呼ばれます。

クライアント プログラムに再試行ロジックを含めて、一時障害に自動的に修復する時間を与えた後、接続の再確立を試行できるようにすることをお勧めします。  最初に再試行する前に、5 秒間待つことをお勧めします。 5 秒未満で再試行すると、クラウド サービスに過度の負荷がかかるおそれがあります。 再試行するたびに、待ち時間を比例して、最大 60 秒まで長くする必要があります。

一時的な障害が現れると、通常、クライアント プログラムから次のエラー メッセージのいずれか 1 つが表示されます。

* サーバー &lt;Azure_instance&gt; 上のデータベース &lt;db_name&gt; は現在使用できません。 後で接続を再試行してください。 問題が解決しない場合は、&lt;session_id&gt; のセッション トレース ID を控えてカスタマー サポートに問い合わせてください。
* サーバー &lt;Azure_instance&gt; 上のデータベース &lt;db_name&gt; は現在使用できません。 後で接続を再試行してください。 問題が解決しない場合は、&lt;session_id&gt; のセッション トレース ID を控えてカスタマー サポートに問い合わせてください。 (Microsoft SQL Server、エラー:40613)
* リモート ホストによって、既存の接続は強制的に切断されました。
* System.Data.Entity.Core.EntityCommandExecutionException:コマンド定義の実行中にエラーが発生しました。 詳細については、内部例外を参照してください。 ---> System.Data.SqlClient.SqlException:サーバーから結果を受信しているときに、トランスポート レベルのエラーが発生しました。 (プロバイダー:セッション プロバイダー、エラー:19 - 物理的な接続は使用できません)
* プライマリ データベースのアクティブ トランザクション中に、データベースが再構成プロセス中で新しいページを適用しているため、セカンダリ データベースへの接続試行が失敗しました。 

再試行ロジックのコード例については、以下のページを参照してください。

* [SQL Database と SQL Server の接続ライブラリ](sql-database-libraries.md) 
* [SQL Database における接続エラーと一時的なエラーを修正するための措置](sql-database-connectivity-issues.md)

ADO.NET を使用するクライアントの *ブロック期間* については、「 [SQL Server の接続プール (ADO.NET)](https://msdn.microsoft.com/library/8xx3tyca.aspx)」を参照してください。

### <a name="transient-fault-error-codes"></a>一時的な障害のエラー コード

次のエラーは一時的なもので、アプリケーション ロジックで再試行を行う必要があります。 

| エラー コード | 重大度 | 説明 |
| ---:| ---:|:--- |
| 4060 |16 |ログインで要求されたデータベース "%.&#x2a;ls" を開くことができません。 ログインに失敗しました。 詳細については、[エラー 4000 から 4999](https://docs.microsoft.com/sql/relational-databases/errors-events/database-engine-events-and-errors#errors-4000-to-4999) を参照してください。|
| 40197 |17 |要求の処理中にサービスでエラーが発生しました。 もう一度実行してください。 エラー コード %d。<br/><br/>ソフトウェアやハードウェアのアップグレード、ハードウェアの障害、その他フェールオーバーに関する問題によってサービスがダウンしたときに、このエラーが発生します。 障害の種類や発生したフェールオーバーに関する追加情報は、[エラー 40197 のメッセージに埋め込まれた](sql-database-develop-error-messages.md#embedded-error-codes)エラー コード (%d) から得られます。 エラー 40197 のメッセージ内に埋め込まれているエラー コードは、40020、40143、40166、40540 などです。<br/><br/>SQL Database サーバーに再接続すると、自動的にデータベースの正常なコピーに接続されます。 アプリケーションでエラー 40197 をキャッチし、メッセージに埋め込まれているエラー コード (%d) をログに記録してトラブルシューティングに備えたうえで、リソースが復旧して接続が再度確立されるまで SQL Database への再接続を試みる必要があります。 詳細については、「[一時エラー](sql-database-connectivity-issues.md#transient-errors-transient-faults)」を参照してください。|
| 40501 |20 |サービスは現在ビジー状態です。 10 秒後に要求を再試行してください。 インシデント ID: %ls。 コード: %d。 詳細については、次を参照してください。 <br/>&bull; &nbsp;[データベース サーバーのリソース制限](sql-database-resource-limits-database-server.md)<br/>&bull; &nbsp;[単一データベースに関する DTU ベースの制限](sql-database-service-tiers-dtu.md)<br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md)|
| 40613 |17 |サーバー '%.&#x2a;ls' のデータベース '%.&#x2a;ls' は現在使用できません。 後で接続を再試行してください。 問題が解決しない場合は、'%.&#x2a;ls' のセッション トレース ID を控えてカスタマー サポートに問い合わせてください。<br/><br/> このエラーは、データベースに対して専用管理者接続 (DAC) が既に確立されている場合に発生する可能性があります。 詳細については、「[一時エラー](sql-database-connectivity-issues.md#transient-errors-transient-faults)」を参照してください。|
| 49918 |16 |要求を処理できません。 要求を処理するリソースが十分ではありません。<br/><br/>サービスは現在ビジー状態です。 後で要求を再試行してください。 詳細については、次を参照してください。 <br/>&bull; &nbsp;[データベース サーバーのリソース制限](sql-database-resource-limits-database-server.md)<br/>&bull; &nbsp;[単一データベースに関する DTU ベースの制限](sql-database-service-tiers-dtu.md)<br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md) |
| 49919 |16 |要求を処理、作成、更新できません。 サブスクリプション "%ld" に対して進行中の作成または更新操作が多すぎます。<br/><br/>サービスが、サブスクリプションまたはサーバーに対する複数の作成または更新要求の処理でビジ―状態です。 現在、要求はリソースの最適化のためにブロックされています。 クエリ [sys.dm_operation_status](https://msdn.microsoft.com/library/dn270022.aspx) を実行して保留中の操作を確認します。 保留中の作成要求または更新要求が完了するまで待つか、いずれかの保留中の要求を削除して後で要求を再試行します。 詳細については、次を参照してください。 <br/>&bull; &nbsp;[データベース サーバーのリソース制限](sql-database-resource-limits-database-server.md)<br/>&bull; &nbsp;[単一データベースに関する DTU ベースの制限](sql-database-service-tiers-dtu.md)<br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md) |
| 49920 |16 |要求を処理できません。 サブスクリプション "%ld" に対して進行中の操作が多すぎます。<br/><br/>サービスが、このサブスクリプションに対する複数の要求の処理でビジー状態です。 現在、要求はリソースの最適化のためにブロックされています。 クエリ [sys.dm_operation_status](https://msdn.microsoft.com/library/dn270022.aspx) を実行して操作の状態を確認します。 保留中の要求が完了するまで待つか、いずれかの保留中の要求を削除して後で要求を再試行します。 詳細については、次を参照してください。 <br/>&bull; &nbsp;[データベース サーバーのリソース制限](sql-database-resource-limits-database-server.md)<br/>&bull; &nbsp;[単一データベースに関する DTU ベースの制限](sql-database-service-tiers-dtu.md)<br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md) |
| 4221 |16 |'HADR_DATABASE_WAIT_FOR_TRANSITION_TO_VERSIONING' を長時間待機しているため、read-secondary へのログインに失敗しました。 レプリカのリサイクル時に実行中だったトランザクションに行のバージョンがないため、レプリカはログインに使用できません。 この問題を解決するには、プライマリ レプリカのアクティブ トランザクションをロール バックするか、コミットします。 プライマリ上の長い書き込みトランザクションを避けることでこの状態が発生することを最小限に抑えられます。 |

## <a name="embedded-error-codes"></a>埋め込みエラー コード

次のエラーは、より一般的なエラーコード 40197 に埋め込まれています。

```
The service has encountered an error processing your request. Please try again. Error code %d.
```

| エラー コード | 重大度 | 説明 | 
| ---:| ---:|:---|
|  1104 |17 |書き込み中に TEMPDB の領域が不足しました。 オブジェクトを削除して領域を作成するか、クエリを書き直して使用行数を少なくします。 それでも問題が解決しない場合は、より高いサービス レベル目標にアップグレードすることを検討してください。|
| 40020 |16 |データベースが遷移中であり、トランザクションは終了されています。|
| 40143 |16 |要求されたパーティションに対してデータ ノードでホストされているレプリカがプライマリではありません。|
| 40166 |16 |CloudDB の再構成が実行中であり、新しいユーザー トランザクションはすべて中止されます。|
| 40540 |16 |データベースが読み取り専用モードに移行されたため、トランザクションは中止されました。 これは一時的な状況です。操作をやり直してください。|

その他の埋め込みエラーの詳細については `sys.messages` のクエリを実行してください。

```sql
SELECT * FROM sys.[messages] WHERE [message_id] = <error_code>
```

## <a name="database-copy-errors"></a>データベース コピー エラー

次のエラーは、Azure SQL Database でデータベースをコピーしているときに発生する可能性があります。 詳細については、「 [Azure SQL Database のコピー](sql-database-copy.md)」を参照してください。

| エラー コード | 重大度 | 説明 |
| ---:| ---:|:--- |
| 40635 |16 |IP アドレス '%.&#x2a;ls' のクライアントは一時的に無効化されています。 |
| 40637 |16 |データベース コピーの作成は現在無効です。 |
| 40561 |16 |データベースのコピーに失敗しました。 ソースまたはターゲットのデータベースが存在しません。 |
| 40562 |16 |データベースのコピーに失敗しました。 ソース データベースは削除されました。 |
| 40563 |16 |データベースのコピーに失敗しました。 ターゲット データベースは削除されました。 |
| 40564 |16 |データベースのコピーに失敗しました。内部エラーが発生しました。 ターゲット データベースを削除してやり直してください。 |
| 40565 |16 |データベースのコピーに失敗しました。 同じソースから複数のデータベース コピーを同時に実行することはできません。 ターゲット データベースを削除してやり直してください。 |
| 40566 |16 |データベースのコピーに失敗しました。内部エラーが発生しました。 ターゲット データベースを削除してやり直してください。 |
| 40567 |16 |データベースのコピーに失敗しました。内部エラーが発生しました。 ターゲット データベースを削除してやり直してください。 |
| 40568 |16 |データベースのコピーに失敗しました。 ソース データベースが使用できなくなりました。 ターゲット データベースを削除してやり直してください。 |
| 40569 |16 |データベースのコピーに失敗しました。 ターゲット データベースが使用できなくなりました。 ターゲット データベースを削除してやり直してください。 |
| 40570 |16 |データベースのコピーに失敗しました。内部エラーが発生しました。 ターゲット データベースを削除してやり直してください。 |
| 40571 |16 |データベースのコピーに失敗しました。内部エラーが発生しました。 ターゲット データベースを削除してやり直してください。 |

## <a name="resource-governance-errors"></a>リソース ガバナンス エラー

次のエラーは、Azure SQL Database を使って作業しているときに、リソースの過剰使用によって発生します。 例:

* トランザクションが長時間開いている。
* トランザクションで保持されているロックが多すぎる。
* アプリケーションで消費されるメモリが多すぎる。
* アプリケーションで消費される `TempDb` の領域が多すぎる。

関連トピック:

* 詳細については、次を参照してください。
  * [データベース サーバーのリソース制限](sql-database-resource-limits-database-server.md)
  * [単一データベースに関する DTU ベースの制限](sql-database-service-tiers-dtu.md)
  * [エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)
  * [単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)
  * [エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)
  * [Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md) 

| エラー コード | 重大度 | 説明 |
| ---:| ---:|:--- |
| 10928 |20 |リソース ID: %d。 データベースの %s 制限の %d に達しました。 詳細については、「[単一データベースとプールされたデータベースに関する SQL Database のリソース制限](sql-database-resource-limits-database-server.md)」を参照してください。<br/><br/>リソース ID は、制限に達したリソースを示します。 ワーカー スレッドの場合、リソース ID = 1 となります。 セッションの場合、リソース ID = 2 です。<br/><br/>このエラーの詳細および解決方法については、 <br/>&bull; &nbsp;[データベース サーバーのリソース制限](sql-database-resource-limits-database-server.md)<br/>&bull; &nbsp;[単一データベースに関する DTU ベースの制限](sql-database-service-tiers-dtu.md)<br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md) |
| 10929 |20 |リソース ID: %d。 %s の最低限保証は %d、最大値は %d 、データベースの現在の使用状況は %d です。 ただし、サーバーは現在ビジー状態であり、このデータベースの %d を超える要求をサポートできません。 リソース ID は、制限に達したリソースを示します。 ワーカー スレッドの場合、リソース ID = 1 となります。 セッションの場合、リソース ID = 2 です。 詳細については、次を参照してください。 <br/>&bull; &nbsp;[データベース サーバーのリソース制限](sql-database-resource-limits-database-server.md)<br/>&bull; &nbsp;[単一データベースに関する DTU ベースの制限](sql-database-service-tiers-dtu.md)<br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md) <br/>それ以外の場合は、後でもう一度やり直してください。 |
| 40544 |20 |データベースのサイズ クォータに達しました。 データをパーティション分割するか、データを削除するか、インデックスを削除してください。その他の解決方法についてはドキュメントを参照してください。 データベースのスケーリングについては、[単一データベースのリソースのスケーリング](sql-database-single-database-scale.md)に関する記事と、[エラスティック プールのリソースのスケーリング](sql-database-elastic-pool-scale.md)に関する記事を参照してください。|
| 40549 |16 |トランザクションが長時間実行されているため、セッションを終了しました。 トランザクションを短くしてください。 バッチ処理については、「[バッチ処理を使用して SQL Database アプリケーションのパフォーマンスを強化する方法](sql-database-use-batching-to-improve-performance.md)」を参照してください。|
| 40550 |16 |取得したロックの数が多すぎるため、セッションを終了しました。 1 つのトランザクションで読み取る行または変更する行の数を減らしてください。 バッチ処理については、「[バッチ処理を使用して SQL Database アプリケーションのパフォーマンスを強化する方法](sql-database-use-batching-to-improve-performance.md)」を参照してください。|
| 40551 |16 |`TEMPDB` の使用領域が多すぎるため、セッションを終了しました。 クエリを変更して一時テーブルの使用領域を減らしてください。<br/><br/>一時オブジェクトを使用している場合は、セッションで不要となった一時オブジェクトを削除して `TEMPDB` データベースの領域を節約してください。 SQL Database での tempdb の使用については、「[SQL Database の Tempdb データベース](https://docs.microsoft.com/sql/relational-databases/databases/tempdb-database#tempdb-database-in-sql-database)」を参照してください。|
| 40552 |16 |トランザクション ログの使用領域が多すぎるため、セッションを終了しました。 1 回のトランザクションで変更する行を減らしてください。 バッチ処理については、「[バッチ処理を使用して SQL Database アプリケーションのパフォーマンスを強化する方法](sql-database-use-batching-to-improve-performance.md)」を参照してください。<br/><br/>`bcp.exe` ユーティリティまたは `System.Data.SqlClient.SqlBulkCopy` クラスを使用して一括挿入を実行する場合は、1 回のトランザクションでサーバーにコピーされる行数を `-b batchsize` オプションまたは `BatchSize` オプションで制限してください。 `ALTER INDEX` ステートメントでインデックスを再構築する場合は、`REBUILD WITH ONLINE = ON` オプションの使用を検討してください。 仮想コア購入モデルでのトランザクション ログ サイズについては、次を参照してください。 <br/>&bull; &nbsp;[単一データベースに関する仮想コアベースの制限](sql-database-vcore-resource-limits-single-databases.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[Managed Instance のリソースの制限](sql-database-managed-instance-resource-limits.md)|
| 40553 |16 |メモリの使用量が多すぎるため、セッションを終了しました。 クエリを変更して、処理する行を減らしてください。<br/><br/>Transact-SQL コード内の `ORDER BY` 操作と `GROUP BY` 操作の数を減らすことで、クエリのメモリ要件を抑えられます。 データベースのスケーリングについては、[単一データベースのリソースのスケーリング](sql-database-single-database-scale.md)に関する記事と、[エラスティック プールのリソースのスケーリング](sql-database-elastic-pool-scale.md)に関する記事を参照してください。|

## <a name="elastic-pool-errors"></a>エラスティック プールのエラー

次のエラーは、エラスティック プールの作成と使用に関連しています。

| エラー コード | 重大度 | 説明 | 是正措置 |
|:--- |:--- |:--- |:--- |
| 1132 | 17 |エラスティック プールが、その記憶域の上限に達しました。 エラスティック プールの記憶域の使用率が (%d) MB を超えることはできません。 エラスティック プールの記憶域が上限に達したときに、データベースにデータを書き込もうとしています。 リソース制限については以下を参照してください。 <br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md) <br/> |可能であれば、エラスティック プールの DTU を増やすかストレージを追加して、その記憶域の上限を上げることを検討するか、エラスティック プール内の個々のデータベースで使用される記憶域を減らすか、あるいはエラスティック プールからデータベースを削除してください。 エラスティック プールのスケーリングについては、[エラスティック プールのリソースのスケーリング](sql-database-elastic-pool-scale.md)に関する記事を参照してください。|
| 10929 | 16 |%s の最低限保証は %d、最大値は %d 、データベースの現在の使用状況は %d です。 ただし、サーバーは現在ビジー状態であり、このデータベースの %d を超える要求をサポートできません。 リソース制限については、以下を参照してください。 <br/>&bull; &nbsp;[エラスティック プールに関する DTU ベースの制限](sql-database-dtu-resource-limits-elastic-pools.md)<br/>&bull; &nbsp;[エラスティック プールに関する仮想コアベースの制限](sql-database-vcore-resource-limits-elastic-pools.md) <br/> それ以外の場合は、後でもう一度やり直してください。 データベースあたりの DTU/仮想コア最小値、データベースあたりの DTU/仮想コア最大値。 エラスティック プール内のすべてのデータベース間での同時実行ワーカー (要求) の合計数が、プールの制限を超えようとしました。 |可能であれば、エラスティック プールの DTU または仮想コアを増やしてワーカーの上限を上げることを検討するか、エラスティック プールからデータベースを削除してください。 |
| 40844 | 16 |サーバー '%ls' のデータベース '%ls' は、エラスティック プールの '%ls' エディションのデータベースであり、連続コピー リレーションシップを持つことはできません。  |該当なし |
| 40857 | 16 |サーバー '%ls ' のエラスティック プールが見つかりませんでした。エラスティック プール名は ' %ls ' です。 指定されたエラスティック プールが、指定されたサーバー内にありません。 | 有効なエラスティック プール名を指定してください。 |
| 40858 | 16 |エラスティック プール '%ls' は サーバー '%ls' に既に存在します。 指定されたエラスティック プールは、指定された SQL Database サーバー内に既に存在します。 | 新しいエラスティック プール名を指定してください。 |
| 40859 | 16 |エラスティック プールでは、サービス階層 '%ls' はサポートされていません。 指定されたサービス階層は、エラスティック プールのプロビジョニングにはサポートされていません。 |正しいエディションを指定するか、既定のサービス階層を使用する場合はサービス階層を空のままにしてください。 |
| 40860 | 16 |エラスティック プール '%ls' とサービス目標 '%ls' の組み合わせが正しくありません。 エラスティック プールとサービス レベルは、リソース タイプが 'ElasticPool' に指定されている場合にのみ同時に指定できます。 |エラスティック プールとサービス レベルの適切な組み合わせを指定してください。 |
| 40861 | 16 |データベース エディション '%.*ls' は、エラスティック プールのサービス層 '%.ls' と同じにする必要があります*。 データベースのエディションがサービス階層と異なります。 |エラスティック プールのサービス階層と異なるデータベース エディションを指定しないでください。  データベースのエディションを指定する必要がないことにご注意ください。 |
| 40862 | 16 |エラスティック プールのサービス目標が指定されている場合は、エラスティック プール名を指定する必要があります。 エラスティック プールのサービス目標は、エラスティック プールを一意に識別することはできません。 |エラスティック プールのサービス目標を使用する場合は、エラスティック プール名を指定してください。 |
| 40864 | 16 |エラスティック プールの DTU は、サービス階層 '%.*ls' に対して (%d) DTU 以上である必要があります。 最小値を下回るエラスティック プールの DTU を設定しようとしています。 |エラスティック プールの DTU を最小値以上に設定し直してください。 |
| 40865 | 16 |エラスティック プールの DTU は、サービス階層 '%.*ls' に対して (%d) DTU を超えることはできません。 エラスティック プールの DTU を最大値を超える値に設定しようとしています。 |エラスティック プールの DTU を最大値を超えないように設定し直してください。 |
| 40867 | 16 |データベースあたりの DTU の最大値は、サービス階層 '%.*ls' (%d) 以上である必要があります。 サポートされている制限を下回るデータベースあたりの DTU 最大値を設定しようとしています。 | 目的の設定をサポートするエラスティック プールのサービス階層を使用することをご検討ください。 |
| 40868 | 16 |データベースあたりの DTU の最大値は、サービス階層 '%.*ls' に対して (%d) を超えることはできません。 サポートされている制限を超えるデータベースあたりの DTU 最大値を設定しようとしています。 | 目的の設定をサポートするエラスティック プールのサービス階層を使用することをご検討ください。 |
| 40870 | 16 |データベースあたりの DTU 最小値は、サービス階層 '%.*ls' に対して (%d) を超えることはできません。 サポートされている制限を超えるデータベースあたりの DTU 最小値を設定しようとしています。 | 目的の設定をサポートするエラスティック プールのサービス階層を使用することをご検討ください。 |
| 40873 | 16 |データベース数 (%d) と データベースあたりの DTU の最小値 (%d) は、エラスティック プールの DTU (%d) を超えることはできません。 エラスティック プールの DTU を超えるエラスティック プール内のデータベースあたりの DTU 最小値を指定しようとしています。 | エラスティック プールの DTU を増やすか、データベースあたりの DTU 最小値を減らす、またはエラスティック プール内のデータベース数を減らすことをご検討ください。 |
| 40877 | 16 |データベースが含まれていない場合を除いて、エラスティック プールを削除できません。 エラスティック プールに、1 つ以上のデータベースが含まれているため、削除できません。 |エラスティック プールからデータベースを削除して、エラスティック プールを削除してください。 |
| 40881 | 16 |エラスティック プール '%.*ls' のデータベース数が上限に達しました。  エラスティック プールのデータベース数上限は、(%d) DTU を含むエラスティック プールの場合、(%d) を超えることはできません。 エラスティック プールのデータベース数が上限に達したときに、データベースを作成またはエラスティック プールにデータベースを追加しようとしています。 | 可能であれば、エラスティック プールの DTU を増やして、データベースの上限を上げることを検討するか、エラスティック プールからデータベースを削除してください。 |
| 40889 | 16 |エラスティック プール '%.*ls' の DTU または記憶域の上限を下げることはできません。下げると、データベースに十分な記憶域スペースを提供できなくなるためです。 記憶域の使用率を下回るエラスティック プールの記憶域の上限を下げようとしています。 | エラスティック プール内の個々のデータベースの記憶域使用率を減らすことを検討するか、その DTU または記憶域の上限を下げるためにプールからデータベースを削除してください。 |
| 40891 | 16 |データベースあたりの DTU 最小値 (%d) は、データベースあたりの DTU 最大値 (%d) を超えることはできません。 データベースあたりの DTU 最大値を超えるデータベースあたりの DTU 最小値を設定しようとしています。 |データベースあたりの DTU の最小値がデータベースあたりの DTU 最大値を超えていないことをご確認ください。 |
| TBD | 16 |エラスティック プール内の個々のデータベースの記憶域サイズは、サービス階層のエラスティック プール '%.*ls' で許可されている最大サイズを超えることはできません。 データベースの最大サイズが、エラスティック プールのサービス階層によって許可されている最大サイズを超えています。 |データベースの最大サイズを、エラスティック プールのサービス階層によって許可されている最大サイズの制限内に設定してください。 |

関連トピック:

* [エラスティック プールの作成 (C#)](sql-database-elastic-pool-manage-csharp.md)
* [エラスティック プールの管理 (C#)](sql-database-elastic-pool-manage-csharp.md)
* [エラスティック プールの作成 (PowerShell)](sql-database-elastic-pool-manage-powershell.md)
* [エラスティック プールの監視と管理 (PowerShell)](sql-database-elastic-pool-manage-powershell.md)

## <a name="general-errors"></a>一般エラー

次のエラーは、上記のカテゴリには当てはまりません。

| エラー コード | 重大度 | 説明 |
| ---:| ---:|:--- |
| [15006](https://docs.microsoft.com/sql/relational-databases/errors-events/database-engine-events-and-errors#errors-15000-to-15999) |16 |(AdministratorLogin) は無効な文字を含んでいるため、有効な名前ではありません。|
| [18452](https://docs.microsoft.com/sql/relational-databases/errors-events/database-engine-events-and-errors#errors-18000-to-18999) |14 |ログインできませんでした。 このログインは信頼されていないドメインからのログインであるため、Windows 認証では使用できません。%.*ls (Windows ログインは、このバージョンの SQL Server ではサポートされていません。) |
| [18456](https://docs.microsoft.com/sql/relational-databases/errors-events/database-engine-events-and-errors#errors-18000-to-18999) |14 |ユーザー '%.&#x2a;ls' はログインできませんでした。%.&#x2a;ls%.&#x2a;ls(ユーザー "%.&#x2a;ls" はログインできませんでした。) |
| [18470](https://docs.microsoft.com/sql/relational-databases/errors-events/database-engine-events-and-errors#errors-18000-to-18999) |14 |ユーザー '%.&#x2a;ls' はログインできませんでした。 理由:このアカウントは無効です。%.&#x2a;ls |
| 40014 |16 |同じトランザクションで複数のデータベースを使用することはできません。 |
| 40054 |16 |クラスター化インデックスのないテーブルは、このバージョンの SQL Server ではサポートされていません。 クラスター化インデックスを作成してからやり直してください。 |
| 40133 |15 |この操作は、このバージョンの SQL Server ではサポートされていません。 |
| 40506 |16 |指定された SID は、このバージョンの SQL Server では無効です。 |
| 40507 |16 |このバージョンの SQL Server では、'%.&#x2a;ls' の呼び出しでパラメーターを使用することはできません。 |
| 40508 |16 |USE ステートメントを使用してデータベースを切り替えることはできません。 別のデータベースに接続するには新しい接続を使用してください。 |
| 40510 |16 |ステートメント '%.&#x2a;ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40511 |16 |組み込み関数 '%.&#x2a;ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40512 |16 |非推奨の機能 '%ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40513 |16 |サーバー変数 '%.&#x2a;ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40514 |16 |'%ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40515 |16 |このバージョンの SQL Server では、'%.&#x2a;ls' でデータベース名やサーバー名を参照することはできません。 |
| 40516 |16 |グローバル一時オブジェクトは、このバージョンの SQL Server ではサポートされていません。 |
| 40517 |16 |キーワードまたはステートメントのオプション '%.&#x2a;ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40518 |16 |DBCC コマンド '%.&#x2a;ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40520 |16 |セキュリティ保護可能なクラス '%S_MSG' は、このバージョンの SQL Server ではサポートされていません。 |
| 40521 |16 |セキュリティ保護可能なクラス '%S_MSG' は、このバージョンの SQL Server ではサーバー スコープでサポートされていません。 |
| 40522 |16 |データベース プリンシパル '%.&#x2a;ls' の型は、このバージョンの SQL Server ではサポートされていません。 |
| 40523 |16 |このバージョンの SQL Server では、ユーザー '%.&#x2a;ls' を暗黙的に作成することはできません。 ユーザーを明示的に作成してから使用してください。 |
| 40524 |16 |データ型 '%.&#x2a;ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40525 |16 |WITH '%.ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40526 |16 |行セット プロバイダー '%.&#x2a;ls' は、このバージョンの SQL Server ではサポートされていません。 |
| 40527 |16 |リンク サーバーは、このバージョンの SQL Server ではサポートされていません。 |
| 40528 |16 |このバージョンの SQL Server では、ユーザーを資格情報、非対称キー、または Windows ログインにマップすることはできません。 |
| 40529 |16 |このバージョンの SQL Server では、組み込み関数 '%.&#x2a;ls' を権限借用コンテキストで使用することはできません。 |
| 40532 |11 |ログインにより要求されたサーバー "%.&#x2a;ls" を開けません。 ログインに失敗しました。 |
| 40553 |16 |メモリの使用量が多すぎるため、セッションを終了しました。 クエリを変更して、処理する行を減らしてください。<br/><br/> Transact-SQL コード内の `ORDER BY` 操作と `GROUP BY` 操作の数を減らすことで、クエリのメモリ要件を抑えられます。 |
| 40604 |16 |サーバーのクォータを超えるため、CREATE/ALTER DATABASE できませんでした。 |
| 40606 |16 |データベースのアタッチは、このバージョンの SQL Server ではサポートされていません。 |
| 40607 |16 |Windows ログインは、このバージョンの SQL Server ではサポートされていません。 |
| 40611 |16 |サーバーで定義できるファイアウォール規則は最大 128 個です。 |
| 40614 |16 |ファイアウォールの規則の開始 IP アドレスに終了 IP アドレスを超える値を指定することはできません。 |
| 40615 |16 |ログインにより要求されたサーバー {0} を開けません。 IP アドレス '{1}' のクライアントはこのサーバーへのアクセスが許可されていません。<br /><br />アクセスできるようにするには、SQL Database ポータルを使用するか、マスター データベースで run sp\_set\_firewall\_rule を実行して、この IP アドレスまたはアドレス範囲のファイアウォールの規則を作成します。 この変更が有効になるまで最大で 5 分かかる場合があります。 |
| 40617 |16 |(rule name) で始まるファイアウォール規則の名前は長すぎます。 最大長は 128 です。 |
| 40618 |16 |ファイアウォール規則の名前を空にすることはできません。 |
| 40620 |16 |ユーザー "%.&#x2a;ls" はログインできませんでした。 パスワードを変更できませんでした。 このバージョンの SQL Server ではログイン時にパスワードを変更することはできません。 |
| 40627 |20 |サーバー '{0}' およびデータベース '{1}' で操作を実行中です。 数分待ってから、再試行してください。 |
| 40630 |16 |パスワードの検証に失敗しました。 パスワードの文字数が不足していて、ポリシーで指定された基準を満たしていません。 |
| 40631 |16 |指定したパスワードが長すぎます。 パスワードは 128 文字以下で指定してください。 |
| 40632 |16 |パスワードの検証に失敗しました。 パスワードは、複雑さが不十分なため、ポリシーの要件を満たしていません。 |
| 40636 |16 |予約されているデータベース名 '%.&#x2a;ls' をこの操作で使用することはできません。 |
| 40638 |16 |無効なサブスクリプション ID (subscription-id)。 サブスクリプションが存在しません。 |
| 40639 |16 |要求がスキーマに準拠していません: (schema error)。 |
| 40640 |20 |サーバーで予期しない例外が発生しました。 |
| 40641 |16 |指定された場所が無効です。 |
| 40642 |17 |サーバーは現在ビジー状態です。 後でもう一度やり直してください。 |
| 40643 |16 |指定された x-ms-version ヘッダー値が無効です。 |
| 40644 |14 |指定されたサブスクリプションへのアクセスの承認に失敗しました。 |
| 40645 |16 |サーバー名 (servername) を空や null にすることはできません。 小文字アルファベットの 'a' - 'z'、数字の 0 - 9、およびハイフンでのみ構成されている必要があります。 名前の先頭や末尾にハイフンを使用することはできません。 |
| 40646 |16 |サブスクリプションの ID を空にすることはできません。 |
| 40647 |16 |サブスクリプション (subscription-id) にサーバー (servername) がありません。 |
| 40648 |17 |多くの要求が行われています。 後で再試行してください。 |
| 40649 |16 |無効なコンテンツ タイプが指定されました。 サポートされているのは application/xml のみです。 |
| 40650 |16 |サブスクリプション (subscription-id) が存在しないか、操作の準備が整っていません。 |
| 40651 |16 |サブスクリプション (subscription-id) が無効であるため、サーバーを作成できませんでした。 |
| 40652 |16 |サーバーを移動または作成できません。 サブスクリプション (subscription-id) がサーバーのクォータを超えています。 |
| 40671 |17 |ゲートウェイと管理サービスの間で通信エラーが発生しました。 後で再試行してください。 |
| 40852 |16 |\*ログインで必要とされるサーバー '%.ls' 上のデータベース '%.ls' を開くことができません。\*データベースへのアクセスは、セキュリティが有効な接続文字列を使用した場合のみ許可されます。 このデータベースにアクセスするには、接続文字列を変更して、サーバーの FQDN に 'secure' を含めます。 このデータベースにアクセスするには、FQDN のサーバーの文字列が ‘secure’ を含むように変更します。例えば、'server name'.database.windows.net は 'server name'.database.`secure`.windows.net に変更する必要があります。 |
| 40914 | 16 | ログインで要求されたサーバー ' *[サーバー名]* ' を開くことができません。 クライアントはサーバーへのアクセスが許可されていません。<br /><br />修正するには、[仮想ネットワーク規則](sql-database-vnet-service-endpoint-rule-overview.md)を追加します。 |
| 45168 |16 |SQL Azure システムに負荷がかかっているため、SQL Database サーバー 1 台あたりの同時実行 DB CRUD 操作 (データベースの作成など) に上限を設定しています。 エラー メッセージに示されているサーバーは、最大コンカレント接続数を超過しました。 後でもう一度やり直してください。 |
| 45169 |16 |SQL Azure システムに負荷がかかっているため、サブスクリプション 1 つあたりの同時実行サーバー CRUD 操作 (サーバーの作成など) に上限を設定しています。 エラー メッセージに示されているサブスクリプションは、最大コンカレント接続数を超過したため、要求が拒否されました。 後でもう一度やり直してください。 |

## <a name="next-steps"></a>次の手順

* [Azure SQL Database の機能](sql-database-features.md)を確認する。
* [DTU ベースの購入モデル](sql-database-service-tiers-dtu.md)を確認する。
* [仮想コアベースの購入モデル](sql-database-service-tiers-vcore.md)を確認する。

