---
title: "StorSimple ストレージ アカウントの管理 | Microsoft Docs"
description: "StorSimple Manager の [構成] ページを使用してストレージ アカウントを追加、編集、または削除する方法や、ストレージ アカウントのセキュリティ キーのローテーションを行う方法について説明します。"
services: storsimple
documentationcenter: NA
author: SharS
manager: carmonm
editor: 
ms.assetid: 93207c40-e0eb-489e-8724-59fb94907081
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: TBD
ms.date: 04/29/2016
ms.author: v-sharos
translationtype: Human Translation
ms.sourcegitcommit: 219dcbfdca145bedb570eb9ef747ee00cc0342eb
ms.openlocfilehash: 8e12de291ad93f894967a41d1b29f67757ba0d6c


---
# <a name="use-the-storsimple-manager-service-to-manage-your-storage-account"></a>StorSimple Manager サービスを使用してストレージ アカウントを管理する
## <a name="overview"></a>概要
**[構成]** ページには、StorSimple Manager サービスで作成できるすべてのグローバル サービス パラメーターが表示されます。 これらのパラメーターはこのサービスに接続されているすべてのデバイスに適用でき、次のものが含まれます。

* ストレージ アカウント 
* 帯域幅テンプレート 
* アクセス制御レコード 

このチュートリアルでは、 **[構成]** ページを使用してストレージ アカウントを追加、編集、または削除する方法や、ストレージ アカウントのセキュリティ キーのローテーションを行う方法について説明します。

 ![[構成] ページ](./media/storsimple-manage-storage-accounts/HCS_ConfigureService.png)  

ストレージ アカウントには、クラウド サービス プロバイダーを使用してストレージ アカウントにアクセスするためにデバイスで使用される資格情報が含まれます。 Microsoft Azure ストレージ アカウントの場合、これらはアカウント名やプライマリ アクセス キーなどの資格情報です。 

**[構成]** ページには、課金サブスクリプションに対して作成されるすべてのストレージ アカウントが、次の情報を含む表形式で表示されます。

* **[名前]** - アカウントの作成時に割り当てられた一意の名前。
* **[SSL が有効]** - SSL が有効で、デバイスとクラウドの間の通信がセキュア チャネル経由かどうか。
* **[使用元]** - ストレージ アカウントを使用しているボリュームの数。

**[構成]** ページで実行できるストレージ アカウント関連の最も一般的なタスクは、次のとおりです。

* ストレージ アカウントの追加 
* ストレージ アカウントの編集 
* ストレージ アカウントの削除 
* ストレージ アカウントのキー ローテーション 

## <a name="types-of-storage-accounts"></a>ストレージ アカウントの種類
StorSimple デバイスで使用できるストレージ アカウントには、次の 3 つの種類があります。

* **自動生成されたストレージ アカウント** - 名前のとおり、このストレージ アカウントは、サービスが最初に作成されるときに自動的に生成されます。 このストレージ アカウントの作成方法の詳細については、「[オンプレミスの StorSimple デバイスのデプロイ](storsimple-deployment-walkthrough.md)」の「[手順 1. 新しいサービスを作成する](storsimple-deployment-walkthrough-u1.md#step-1-create-a-new-service)」をご覧ください。 
* **サービス サブスクリプションのストレージ アカウント** - サービスと同じサブスクリプションに関連付けられている Azure ストレージ アカウントです。 このストレージ アカウントの作成方法の詳細については、 [Azure ストレージ アカウント](../storage/storage-create-storage-account.md)に関するページを参照してください。 
* **サービス サブスクリプションの外部のストレージ アカウント** - これらは、サービスに関連付けられていない、サービスが作成される前に存在していた可能性のある Azure ストレージ アカウントです。

## <a name="add-a-storage-account"></a>ストレージ アカウントの追加
ストレージ アカウントを追加するには、一意の表示名と、(指定されたクラウド サービス プロバイダーによって) ストレージ アカウントにリンクされているアクセス資格情報を指定します。 SSL (Secure Sockets Layer) モードを有効にして、デバイスとクラウド間のネットワーク通信用にセキュリティで保護されたチャネルを作成することもできます。

特定のクラウド サービス プロバイダーに対して複数のアカウントを作成できます。 ただし、ストレージ アカウントを作成した後はクラウド サービス プロバイダーを変更できないことに注意してください。

ストレージ アカウントの保存中、サービスは、クラウド サービス プロバイダーとの通信を試みます。 この時点で、資格情報と指定したアクセス マテリアルが認証されます。 ストレージ アカウントは、認証が成功した場合にのみ作成されます。 認証に失敗した場合は、適切なエラー メッセージが表示されます。

Azure ポータルで作成された Resource Manager のストレージ アカウントは StorSimple でもサポートされます。 ボリューム コンテナーを作成する際、Resource Manager のストレージ アカウントは、ドロップダウン リストに選択対象として表示されません。Azure クラシック ポータルで作成されたストレージ アカウントだけが表示されます。 次に説明するストレージ アカウントの追加手順に従って、Resource Manager のストレージ アカウントを追加する必要があります。

> [!NOTE]
> ストレージ アカウントを追加する手順は、使用する StorSimple ソフトウェアのバージョンによって異なります。 使用する StorSimple のバージョンの手順に必ず従ってください。
> 
> 

[!INCLUDE [add-a-storage-account-update1](../../includes/storsimple-configure-new-storage-account-u1.md)]

[!INCLUDE [add-a-storage-account](../../includes/storsimple-configure-new-storage-account.md)]

## <a name="edit-a-storage-account"></a>ストレージ アカウントの編集
ボリューム コンテナーで使用されるストレージ アカウントを編集できます。 現在使用中のストレージ アカウントを編集する場合、変更できるフィールドは、ストレージ アカウントのアクセス キーに限られます。 新しいストレージ アクセス キーを指定し、更新された設定を保存できます。

#### <a name="to-edit-a-storage-account"></a>ストレージ アカウントを編集するには
1. サービスのランディング ページでサービスを選択し、サービス名をダブルクリックします。**[構成]** をクリックします。
2. **[ストレージ アカウントの追加/編集]**をクリックします。
3. **[ストレージ アカウントの追加/編集]** ダイアログ ボックスで、次の操作を行います。
   
   1. **[ストレージ アカウント]**ボックスの一覧で、変更する既存のアカウントを選択します。 これには、サービスを最初に作成したときに自動的に生成されたストレージ アカウントも含まれます。
   2. 必要に応じて、 **[SSL モードを有効にする]** の設定を変更できます。
   3. ストレージ アカウント アクセス キーのローテーションを行うことを選択できます。 キーのローテーションを行う方法の詳細については、「 [ストレージ アカウントのキー ローテーション](#key-rotation-of-storage-accounts) 」を参照してください。
   4. チェック マーク アイコン ![チェック マーク アイコン](./media/storsimple-manage-storage-accounts/HCS_CheckIcon.png) をクリックして、設定を保存します。 **[構成]** ページの設定が更新されます。 **[保存]** をクリックして、新しく更新された設定を保存します。
      
      ![ストレージ アカウントの編集](./media/storsimple-manage-storage-accounts/HCs_AddEditStorageAccount.png)

## <a name="delete-a-storage-account"></a>ストレージ アカウントの削除
> [!IMPORTANT]
> ストレージ アカウントは、ボリューム コンテナーで使用されていない場合にのみ削除できます。 ストレージ アカウントがボリューム コンテナーで使用されている場合は、最初にボリューム コンテナーを削除し、次に関連するストレージ アカウントを削除します。
> 
> 

#### <a name="to-delete-a-storage-account"></a>ストレージ アカウントを削除するには
1. StorSimple Manager サービスのランディング ページでサービスを選択し、サービス名をダブルクリックします。**[構成]** をクリックします。
2. ストレージ アカウントの表形式のリストで、削除するアカウントにマウス ポインターを合わせます。
3. そのストレージ アカウントの右端の列に削除アイコン (**[x]**) が表示されます。 資格情報を削除するために、 **[x]** アイコンをクリックします。
4. 確認を求めるメッセージが表示されたら、 **[はい]** をクリックして削除操作を続行します。 表形式のリストが更新され、変更が反映されます。

## <a name="key-rotation-of-storage-accounts"></a>ストレージ アカウントのキー ローテーション
セキュリティ上の理由から、データ センターではキー ローテーションが必要になることがよくあります。 

> [!NOTE]
> 次のキー ローテーション情報と交代手順は、Microsoft Azure ストレージ アカウントのみに適用されます。 別のクラウド サービス プロバイダーを使用している場合は、そのプロバイダーのダッシュ ボードからストレージ アカウント キーを管理できます。
> 
> 

ストレージ アカウントは、各 Microsoft Azure サブスクリプションにつき 1 つまたは複数作成できます。 これらのアカウントへのアクセスは、各ストレージ アカウントのサブスクリプションとアクセス キーによって制御されます。 

ストレージ アカウントを作成するときに、Microsoft Azure によって 2 つの 512 ビット ストレージ アクセス キーが生成されます。これらは、ストレージ アカウントにアクセスするときに認証の目的で使用されます。 2 つのストレージ アクセス キーがあると、ストレージ サービスまたはそのサービスへのアクセスを中断することなくキーを再生成できます。 現在使用されているキーは*プライマリ* キーと呼ばれ、バックアップ キーは*セカンダリ* キーと呼ばれます。 Microsoft Azure StorSimple デバイスがクラウド ストレージ サービス プロバイダーにアクセスするときは、これら 2 つのキーのどちらかを指定する必要があります。

## <a name="what-is-key-rotation"></a>キーのローテーションとは
通常、アプリケーションは、キーの 1 つだけを使用してデータにアクセスします。 一定の期間が経過した後、アプリケーションで使用するキーを 2 番目のキーに切り替えることができます。 アプリケーションを 2 番目のキーに切り替えた後、最初のキーを廃棄して新しいキーを生成できます。 2 つのキーをこの方法で使用することにより、アプリケーションはダウンタイムなしでデータにアクセスできます。

ストレージ アカウント キーは、常に、暗号化された形式でサービスに格納されます。 ただし、これらは、StorSimple Manager サービスを使用してリセットできます。 このサービスは、Storage サービスで作成されたアカウントや、StorSimple Manager サービスが最初に作成されたときに生成された既定のストレージ アカウントなど、同じサブスクリプション内のすべてのストレージ アカウントに対してプライマリ キーとセカンダリ キーを取得できます。 StorSimple Manager サービスは常に、Azure クラシック ポータルからこれらのキーを取得し、暗号化して格納します。

## <a name="rotation-workflow"></a>ローテーションのワークフロー
Microsoft Azure 管理者は、(Microsoft Azure Storage サービス経由で) ストレージ アカウントに直接アクセスすることによって、プライマリ キーまたはセカンダリ キーを再生成または変更できます。 StorSimple Manager サービスは、この変更を自動的に認識しません。

StorSimple Manager サービスにこの変更を認識させるには、StorSimple Manager サービスにアクセスし、ストレージ アカウントにアクセスし、(変更されたキーに応じて) プライマリ キーまたはセカンダリ キーを同期する必要があります。 その後、サービスは最新のキーを取得し、キーを暗号化して、デバイスに送信します。

#### <a name="to-synchronize-keys-for-storage-accounts-in-the-same-subscription-as-the-service-azure-only"></a>サービスと同じサブスクリプション内のストレージ アカウントのキーを同期するには (Azure のみ)
1. **[サービス]** ページで、**[構成]** タブをクリックします。
2. **[ストレージ アカウントの追加/編集]**をクリックします。
3. ダイアログ ボックスで、次の操作を行います。
   
   1. キーを同期するストレージ アカウントを選択します。 ストレージ アカウント キーは表示されるときに暗号化されます。
   2. StorSimple Manager サービスで、Microsoft Azure Storage サービスで以前に変更されたキーを更新する必要があります。 プライマリ アクセス キーが変更 (再生成) されている場合は、 **[プライマリ キーの同期]**をクリックします。 セカンダリ キーが変更されている場合は、 **[セカンダリ キーの同期]**をクリックします。
      
      ![キーの同期](./media/storsimple-manage-storage-accounts/HCS_KeyRotationStorageAccountSameSubscriptionAsService.png)

#### <a name="to-synchronize-keys-for-storage-accounts-outside-of-the-service-subscription"></a>サービス サブスクリプションの外部のストレージ アカウントのキーを同期するには
1. **[サービス]** ページで、**[構成]** タブをクリックします。
2. **[ストレージ アカウントの追加/編集]**をクリックします。
3. ダイアログ ボックスで、次の操作を行います。
   
   1. アクセス キーを更新するストレージ アカウントを選択します。
   2. ストレージ アクセス キーは、StorSimple Manager サービスで更新する必要があります。 この場合は、ストレージ アクセス キーを見ることができます。 **[ストレージ アカウント アクセス キー]**ボックスに新しいキーを入力します。 
   3. 変更を保存します。 ストレージ アカウント アクセス キーが更新されます。

## <a name="next-steps"></a>次のステップ
* [StorSimple のセキュリティの詳細](storsimple-security.md)
* [StorSimple Manager サービスを使用した StorSimple デバイスの管理の詳細](storsimple-manager-service-administration.md)




<!--HONumber=Nov16_HO3-->


