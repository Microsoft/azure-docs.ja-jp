---
title: Azure Data Lake Storage Gen2 プレビューの階層構造の名前空間
description: Azure Data Lake Storage Gen2 プレビューの階層構造の名前空間の概念を説明します。
services: storage
author: jamesbak
ms.service: storage
ms.topic: conceptual
ms.date: 12/06/2018
ms.author: jamesbak
ms.component: data-lake-storage-gen2
ms.openlocfilehash: 13483333c2135f858191f62b255e2887c0e61f01
ms.sourcegitcommit: 5d837a7557363424e0183d5f04dcb23a8ff966bb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/06/2018
ms.locfileid: "52976875"
---
# <a name="azure-data-lake-storage-gen2-preview-hierarchical-namespace"></a>Azure Data Lake Storage Gen2 プレビューの階層構造の名前空間

Azure Data Lake Storage Gen2 プレビューは、オブジェクト ストレージのスケールおよび価格でファイル システムのパフォーマンスが得られますが、それを可能にした最大の要因の 1 つは、**階層構造の名前空間**を追加したことです。 これにより、コンピューター上のファイル システムを編成するのと同じ方法で、アカウント内のオブジェクト/ファイルのコレクションを、ディレクトリおよびネストされたサブディレクトリの階層に編成できるようになりました。 階層型名前空間を有効にすると、ストレージ アカウントは、分析エンジンおよびフレームワークでよく使用されるファイル システム セマンティクスで、オブジェクト ストレージのスケーラビリティとコスト効率を提供することができます。

## <a name="the-benefits-of-the-hierarchical-namespace"></a>階層構造の名前空間の利点

BLOB データに対する階層構造の名前空間が実装されたファイル システムには、以下のような利点があります。

- **アトミック ディレクトリ操作:** オブジェクト ストアでは、ディレクトリ階層を模倣するために、パスの区切りを示すスラッシュ (/) をオブジェクト名に埋め込むという規則が採用されています。 この規則は、オブジェクトを編成する場合は役立ちますが、ディレクトリの移動、名前変更、削除などの操作を行う場合は役立ちません。 アプリケーションは、実際のディレクトリなしに、何百万もの個々の BLOB を処理して、ディレクトリ レベルのタスクを達成する必要があります。 一方、階層構造の名前空間は、単一のエントリ (親ディレクトリ) を更新して、これらのタスクを処理します。

    多くのビッグ データ分析フレームワークでは、この効果的な最適化が特に重要です。 多くの場合、Hive や Spark などのツールは、一時的な場所に出力を書き込み、ジョブの最後にその場所の名前を変更します。 階層構造の名前空間がないと、その名前変更に要する時間が、分析プロセス自体より長くなることが多くなります。 ジョブの待ち時間が短いほど、分析ワークロードの総保有コスト (TCO) が抑えられます。

- **見慣れたインターフェイス スタイル:** ファイル システムは、開発者もユーザーも同様によく理解しています。 Data Lake Storage Gen2 で表示されるファイル システム インターフェイスは、すべてのサイズのコンピューターで使用されるパラダイムと同じです。そのため、クラウドに移行しても、新しいストレージ パラダイムを学ぶ必要はありません。

これまでオブジェクト ストアで階層構造の名前空間がサポートされていなかった理由の 1 つは、そのスケールに制限があったためです。 しかし、Data Lake Storage Gen2 の階層構造の名前空間は、スケールが線形で、データ容量もパフォーマンスも低下しません。

## <a name="when-to-enable-the-hierarchical-namespace"></a>階層構造の名前空間を有効にするタイミング

ストレージ ワークロードが、ディレクトリを操作するファイル システム用に設計されている場合は、階層構造の名前空間をオンにすることをお勧めします。 これには、分析処理を主な目的としたすべてのワークロードが含まれます。 高度な編成が必要なデータセットも、階層構造の名前空間を有効にすることにより、メリットが得られます。

階層構造の名前空間を有効にする理由は、TCO 分析によって判別されます。 一般に、ストレージの加速化によってワークロードの待ち時間を短くするには、そのための計算リソースが必要です。 多くの場合、ワークロードの待ち時間は、階層構造の名前空間で使用できるアトミック ディレクトリ操作によって改善できます。 多くのワークロードでは、計算リソースが総保有コストの 85% を超えています。そのため、ワークロードの待ち時間を少し削減するだけでも、TCO を大幅に節約できます。 階層構造の名前空間を有効にするとストレージ コストが増加する場合でも、計算コストの削減によって、TCO は低下します。

## <a name="when-to-disable-the-hierarchical-namespace"></a>階層構造の名前空間を無効にするタイミング

オブジェクト ストア ワークロードによっては、階層構造の名前空間を有効にしても、メリットが得られない場合があります。 それらのワークロードの例としては、バックアップや画像ストレージをはじめ、オブジェクト編成がオブジェクト自体とは別に (独立したデータベース "*などに*") 保存されるアプリケーションがあります。


## <a name="next-steps"></a>次の手順

- [Create a Storage account](./data-lake-storage-quickstart-create-account.md) (ストレージ アカウントを作成する)