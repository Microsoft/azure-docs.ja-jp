---
title: BLOB のホット、クール、アーカイブ アクセス層 - Azure Storage
description: Azure Blob Storage のホット、クール、およびアーカイブ アクセス層について説明します。 階層制御がサポートされるストレージ アカウントを確認します。 ブロック BLOB ストレージ オプションを比較します。
author: mhopkins-msft
ms.author: mhopkins
ms.date: 03/23/2019
ms.service: storage
ms.subservice: blobs
ms.topic: conceptual
ms.reviewer: clausjor
ms.openlocfilehash: a46597087a3eee03f7c5b8d1c9746f968ea1980d
ms.sourcegitcommit: 7fe8df79526a0067be4651ce6fa96fa9d4f21355
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/06/2020
ms.locfileid: "87849728"
---
# <a name="azure-blob-storage-hot-cool-and-archive-access-tiers"></a>Azure Blob Storage: ホット、クール、アーカイブ ストレージ層

Azure Storage からはさまざまなアクセス層が提供され、最もコスト効果の高い方法で BLOB オブジェクト データを格納できます。 利用できるアクセス層:

- **ホット** - 頻繁にアクセスされるデータの格納に最適化されています。
- **クール** - アクセスされる頻度は低いものの、少なくとも 30 日以上保管されるデータの格納に最適化されています。
- **アーカイブ** - ほとんどアクセスされず、少なくとも 180 日以上保管され、待ち時間の要件が柔軟 (数時間単位) であるデータの格納に最適化されています。

次の考慮事項は、さまざまなアクセス層に当てはまります。

- アカウント レベルで設定できるのはホット アクセス層とクール アクセス層だけです。 アーカイブ アクセス層はアカウント レベルでは使用できません。
- ホット、クール、アーカイブの層は、アップロード中またはアップロード後に BLOB レベルで設定できます。
- クール アクセス層に格納されるデータについては、可用性が若干低くても許容できますが、ホット データと同程度の高い持続性、取得待ち時間、およびスループット特性が必要です。 クール データの場合、ホット データと比較して可用性のサービス レベル アグリーメント (SLA) が若干低く、アクセス コストが高めであっても、ストレージ コストが低ければ許容できます。
- アーカイブ ストレージは、データをオフラインで格納し、ストレージ コストは最も低くなりますが、データのリハイドレート コストおよびアクセス コストが最も高くなります。

クラウド内の格納データが急激に増加しています。 ストレージのニーズが拡大する中でコストを管理するには、アクセスの頻度や予定保有期間などの属性に基づいてデータを整理し、コストを最適化する方法が効果的です。 クラウドに格納されるデータは、有効期間を通じてどのように生成、処理、アクセスされるかに基づいて異なる場合があります。 有効期間を通じて活発にアクセスおよび変更されるデータもあれば、 有効期間の初期に頻繁にアクセスされ、古くなるにつれて大幅にアクセスが減るデータもあります。 また、クラウド内でアイドル状態のままとなり、格納されてからはほとんどアクセスされないデータもあります。

各データ アクセス シナリオは、特定のアクセス パターン用に最適化された異なるアクセス層の利点を利用しています。 Azure Blob Storage は、ホット、クール、アーカイブの各アクセス層によって、分化されたアクセス層のニーズに異なる価格モデルで対応しています。

[!INCLUDE [storage-multi-protocol-access-preview](../../../includes/storage-multi-protocol-access-preview.md)]

## <a name="storage-accounts-that-support-tiering"></a>階層制御をサポートするストレージ アカウント

ホット、クール、アーカイブの間でのオブジェクト ストレージ データの階層制御は、BLOB ストレージ アカウントと General Purpose v2 (GPv2) アカウントでのみサポートされています。 General Purpose v1 (GPv1) アカウントでは階層制御はサポートされていません。 既存の GPv1 アカウントまたは BLOB ストレージ アカウントは、Azure portal で GPv2 アカウントに簡単に変換できます。 GPv2 では、BLOB、ファイル、キューに対して新しい価格と機能が提供されます。 一部の機能と値引きは、GPv2 アカウントでのみ提供されています。 価格を総合的に検討した後、GPv2 アカウントを使用して評価してください。 ワークロードによっては、GPv2 は GPv1 より高額になることがあります。 詳細については、「[Azure ストレージ アカウントの概要](../common/storage-account-overview.md)」を参照してください。

BLOB ストレージと GPv2 アカウントからは、アカウント レベルで**アクセス層**属性が公開されます。 この属性では、オブジェクト レベルでアクセス層が明示的に設定されていない BLOB に対して、既定のアクセス層を指定できます。 オブジェクト レベルで階層が設定されているオブジェクトについては、アカウントの階層は適用されません。 アーカイブ層は、オブジェクト レベルでのみ適用することができます。 これらのアクセス層はいつでも切り替えることができます。

## <a name="hot-access-tier"></a>ホット アクセス層

ホット アクセス層は、クール層とアーカイブ層に比べてストレージ コストが高くなるものの、アクセス コストが最も低くなります。 ホット アクセス層の使用シナリオの例には、次のようなものがあります。

- 活発に使用されたり、頻繁にアクセス (読み取りまたは書き込み) されると予想されるデータ。
- 処理段階にあり、最終的にはクール アクセス層に移行されるデータ。

## <a name="cool-access-tier"></a>クール アクセス層

クール アクセス層は、ホット ストレージに比べてストレージ コストが低くなり、アクセス コストが高くなります。 この層は、少なくとも 30 日以上クール層で保持されるデータを対象としています。 クール アクセス層の使用シナリオの例には、次のようなものがあります。

- 短期的なバックアップおよびディザスター リカバリーのデータセット。
- 既に頻繁に参照されなくなっているものの、アクセスされたときにはすぐに利用できることが期待されている、古いメディア コンテンツ。
- 今後処理するためにさらにデータが収集されている場合に、コスト効率の高い方法で格納する必要がある、大規模なデータ セット ("*たとえば*"、長期保存する科学データや、製造施設からの未加工のテレメトリ データ)。

## <a name="archive-access-tier"></a>アーカイブ アクセス層

アーカイブ アクセス層では、ストレージ コストは最も低くなります。 しかし、ホット層やクール層と比べて、データ取得コストは高くなります。 データは、少なくとも 180 日間、アーカイブ層に保持される必要があります。そうでない場合、早期削除料金の対象になります。 アーカイブ アクセス層のデータの取得には、リハイドレートの優先度によっては、数時間かかることがあります。 小さいオブジェクトの場合、優先度の高いリハイドレートは 1 時間未満でアーカイブからオブジェクトを取得できます。 「[アーカイブ層から BLOB データをリハイドレートする](storage-blob-rehydration.md)」で詳細を確認してください。

BLOB がアーカイブ ストレージ内にある間、BLOB データはオフラインであり、読み取り、上書き、または変更を行うことはできません。 アーカイブ内の BLOB を読み取るかダウンロードするには、最初にそれをオンライン層にリハイドレートする必要があります。 アーカイブ ストレージ内の BLOB のスナップショットを作成することはできません。 ただし、BLOB メタデータはオンラインのままで使用でき、BLOB、そのプロパティ、メタデータ、および BLOB インデックス タグを一覧表示できます。 アーカイブ中の BLOB メタデータの設定または変更は許可されていません。ただし、BLOB インデックス タグは設定および変更できます。 アーカイブにある BLOB に対する有効な操作は、GetBlobProperties、GetBlobMetadata、SetBlobTags、GetBlobTags、FindBlobsByTags、ListBlobs、SetBlobTier、CopyBlob、および DeleteBlob のみです。

アーカイブ アクセス層の使用シナリオの例には、次のようなものがあります。

- 長期バックアップ、セカンダリ バックアップ、アーカイブ データセット
- 最終的に使用可能な形式に処理した後も保持する必要がある、元の (未加工の) データ
- 長期間格納しておく必要があり、ほとんどアクセスされることがない、コンプライアンスおよびアーカイブ データ

## <a name="account-level-tiering"></a>アカウント レベルの階層制御

この 3 つのアクセス階層に保存されているすべての BLOB は、同一アカウントに共存させることができます。 層が明示的に割り当てられていない BLOB では、アカウントのアクセス層の設定から層が推定されます。 アクセス層がアカウントから取得されている場合、BLOB の**推定されたアクセス層**プロパティは "true" に設定され、**アクセス層**プロパティはアカウントの階層と一致します。 Azure portal では、_アクセス層の推定_ プロパティが、**ホット (推定)** や**クール (推定)** として BLOB アクセス層と共に表示されます。

アカウント アクセス層の変更は、アカウントに格納されている、層が明示的に設定されていないすべての "_推定されたアクセス層_" オブジェクトに適用されます。 アカウントの階層をホットからクールに切り替えた場合、層が設定されていない全 BLOB に関して書き込み操作 (10,000 件単位) の料金が適用されます。この料金が適用されるのは GPv2 アカウントのみです。 BLOB ストレージ アカウントでは、この変更に関しての料金は発生しません。 BLOB ストレージ アカウントまたは GPv2 アカウントでクールからホットに切り替えた場合は、読み取り操作 (10,000 件単位) とデータ取得 (GB 単位) の両方の料金が発生します。

## <a name="blob-level-tiering"></a>BLOB レベルの階層制御

BLOB レベルの階層制御では、[Put Blob](/rest/api/storageservices/put-blob) または [Put Block List](/rest/api/storageservices/put-block-list) 操作を使用して、選択したアクセス層にデータをアップロードし、[Set Blob Tier](/rest/api/storageservices/set-blob-tier) 操作または[ライフサイクル管理](#blob-lifecycle-management)機能を使用して、オブジェクト レベルでデータの層を変更できます。 必要なアクセス層にデータをアップロードし、その後、使用パターンの変化に応じて、アカウント間でデータを移動することなく、BLOB のアクセス層をホット、クール、アーカイブに簡単に変更することができます。 すべての階層変更要求はすぐに発生し、ホットとクール間の層の変更は瞬時に行われます。 ただし、アーカイブからの BLOB のリハイドレートには、数時間かかる場合があります。

BLOB 層が最後に変更された時間は、BLOB の**アクセス層変更時間**プロパティを介して公開されます。 ホット層またはクール層の BLOB を上書きするとき、作成時に新しい BLOB アクセス層を明示的に設定しない限り、新しく作成された BLOB では上書きされた BLOB の階層を引き継ぎます。 BLOB がアーカイブ層にあると、上書きできないため、このシナリオでは、同じ BLOB をアップロードすることは許可されません。 

> [!NOTE]
> アーカイブ ストレージと BLOB レベルの階層制御では、ブロック BLOB のみがサポートされます。

### <a name="blob-lifecycle-management"></a>BLOB のライフサイクル管理

Blob Storage のライフサイクル管理には優れたルールベースのポリシーが用意されており、これを使用して、最適なアクセス層にデータを移行し、ライフサイクルの最後にデータを期限切れにすることができます。 詳細については、「[Azure Blob Storage のライフサイクルの管理](storage-lifecycle-management-concepts.md)」を参照してください。  

> [!NOTE]
> ブロック BLOB ストレージ アカウント (Premium パフォーマンス) に格納されているデータは、現在、[BLOB 層の設定](/rest/api/storageservices/set-blob-tier)または Azure Blob Storage のライフサイクル管理を使用して、ホット、クールまたはアーカイブに階層化することはできません。
> データを移動するには、[Put Block From URL API](/rest/api/storageservices/put-block-from-url) を使用するか、この API をサポートするバージョンの AzCopy を使用して BLOB をブロック BLOB ストレージ アカウントから別のアカウントのホット アクセス層に同期的にコピーする必要があります。
> *Put Block From URL* API は、サーバー上でデータを同期的にコピーします。つまり、呼び出しは、すべてのデータが元のサーバーの場所から移動先の場所に移動された場合にのみ完了します。

### <a name="blob-level-tiering-billing"></a>BLOB レベルの階層制御の課金

BLOB がホット、クール、またはアーカイブ層にアップロードまたは移動されると、階層の変更直後に対応する料金が請求されます。

BLOB をよりクールな層 (ホットからクール、ホットからアーカイブ、またはクールからアーカイブ) に移動するとき、この操作は移動先の層への書き込み操作として課金され、移動先の層の書き込み操作 (10,000 件単位) およびデータ書き込み (GB 単位) の料金が適用されます。

BLOB をよりホットな層 (アーカイブからクール、アーカイブからホット、またはクールからホット) に移動するとき、この操作は移動元の層からの読み取りとして課金され、移動元の層の読み取り操作 (10,000 件単位) およびデータ取得 (GB 単位) の料金が適用されます。 クール層またはアーカイブ層から移動された BLOB については、早期削除料金も適用される場合があります。 [アーカイブからのデータのリハイドレート](storage-blob-rehydration.md)には時間がかかり、データがオンラインに復元され、BLOB 層がホットまたはクールに変更されるまで、データにはアーカイブ料金が課金されます。 次の表には、各層の変更料金をまとめてあります。

| | **書き込み料金 (操作 + アクセス)** | **読み取り料金 (操作 + アクセス)**
| ---- | ----- | ----- |
| **SetBlobTier の向き** | ホット -> クール、<br> ホット -> アーカイブ、<br> クール -> アーカイブ | アーカイブ -> クール、<br> アーカイブ -> ホット、<br> クール -> ホット

### <a name="cool-and-archive-early-deletion"></a>クールおよびアーカイブの早期削除

クール層 (GPv2 アカウントのみ) に移動された BLOB には、30 日のクール早期削除期間が適用されます。 アーカイブ層に移動された BLOB には、180 日のアーカイブ早期削除期間が適用されます。 この料金は日割り計算されます。 たとえば、BLOB をアーカイブに移動し、45 日後に削除するかホット層に移動した場合、その BLOB のアーカイブへの保存について、135 (180 - 45) 日分に相当する早期削除料金が適用されます。

アクセス層の変更がなかった場合は、BLOB プロパティ **Last-Modified** を使用して、早期削除を計算できます。 それ以外の場合は、BLOB プロパティ **access-tier-change-time** を表示して、アクセス層が最後にクールまたはアーカイブに変更されたときを確認できます。 BLOB プロパティの詳細については、「[Get Blob Properties](https://docs.microsoft.com/rest/api/storageservices/get-blob-properties)」を参照してください。

## <a name="comparing-block-blob-storage-options"></a>ブロック BLOB ストレージ オプションの比較

次の表は、Premium パフォーマンス ブロック BLOB ストレージ、ホット アクセス層、クール アクセス層、アーカイブ アクセス層を比較したものです。

|                                           | **Premium パフォーマンス**   | **ホット層** | **クール層**       | **アーカイブ層**  |
| ----------------------------------------- | ------------------------- | ------------ | ------------------- | ----------------- |
| **可用性**                          | 99.9%                     | 99.9%        | 99%                 | オフライン           |
| **可用性** <br> **(RA-GRS 読み取り)**  | 該当なし                       | 99.99%       | 99.9%               | オフライン           |
| **利用料金**                         | より高いストレージ コスト、より低いアクセスおよびトランザクション コスト | より高いストレージ コスト、より低いアクセスおよびトランザクション コスト | より低いストレージ コスト、より高いアクセスおよびトランザクション コスト | 最も低いストレージ コスト、最も高いアクセスおよびトランザクション コスト |
| **最小オブジェクト サイズ**                   | 該当なし                       | 該当なし          | 該当なし                 | 該当なし               |
| **最小ストレージ存続期間**              | 該当なし                       | 該当なし          | 30 日<sup>1</sup> | 180 日
| **待機時間** <br> **(1 バイト目にかかる時間)** | 1 桁ミリ秒 | ミリ秒 | ミリ秒        | 数時間<sup>2</sup> |

<sup>1</sup> GPv2 アカウントのクール層のオブジェクトには、30 日の最小リテンション期間があります。 BLOB ストレージ アカウントには、クール層の最小リテンション期間はありません。

<sup>2</sup> Archive Storage では、取得待ち時間が異なる High と Standard の 2 つのリハイドレート優先度が現在サポートされています。 詳細については、「[アーカイブ層から BLOB データをリハイドレートする](storage-blob-rehydration.md)」を参照してください。

> [!NOTE]
> BLOB ストレージ アカウントは、汎用 v2 ストレージ アカウントと同じパフォーマンスとスケーラビリティ ターゲットをサポートしています。 詳細については、「[BLOB ストレージのスケーラビリティとパフォーマンスのターゲット](scalability-targets.md)」を参照してください。

## <a name="quickstart-scenarios"></a>クイックスタート シナリオ

このセクションでは、Azure portal と PowerShell を使用して、次のシナリオについて説明します。

- GPv2 または BLOB ストレージ アカウントの既定のアクセス層を変更する方法。
- GPv2 または BLOB ストレージ アカウントの BLOB のアクセス層を変更する方法。

### <a name="change-the-default-account-access-tier-of-a-gpv2-or-blob-storage-account"></a>GPv2 または Blob Storage アカウントの既定のアクセス層を変更する

# <a name="portal"></a>[ポータル](#tab/azure-portal)
1. [Azure portal](https://portal.azure.com) にサインインします。

1. Azure portal で、 **[すべてのリソース]** を検索して選択します。

1. 使うストレージ アカウントを選びます。

1. **[設定]** で **[構成]** を選択し、アカウント構成を表示および変更します。

1. ニーズに応じた適切なアクセス層を選択します。 **[アクセス層]** を **[クール]** と **[ホット]** のいずれかに設定します。

1. 上部にある **[保存]** をクリックします。

![ストレージ アカウント層を変更する](media/storage-tiers/account-tier.png)

# <a name="powershell"></a>[PowerShell](#tab/azure-powershell)
次の PowerShell スクリプトを使用すると、アカウント層を変更できます。 `$rgName` 変数は、ご自身のリソース グループ名で初期化する必要があります。 `$accountName` 変数は、ご自身のストレージ アカウント名で初期化する必要があります。 
```powershell
#Initialize the following with your resource group and storage account names
$rgName = ""
$accountName = ""

#Change the storage account tier to hot
Set-AzStorageAccount -ResourceGroupName $rgName -Name $accountName -AccessTier Hot
```
---

### <a name="change-the-tier-of-a-blob-in-a-gpv2-or-blob-storage-account"></a>GPv2 または BLOB ストレージ アカウントの BLOB のアクセス層を変更する
# <a name="portal"></a>[ポータル](#tab/azure-portal)
1. [Azure portal](https://portal.azure.com) にサインインします。

1. Azure portal で、 **[すべてのリソース]** を検索して選択します。

1. 使うストレージ アカウントを選びます。

1. コンテナーを選択し、お使いのBLOB を選択します。

1. **[BLOB のプロパティ]** で、 **[層の変更]** を選択します。

1. **[ホット]** 、 **[クール]** 、または **[アーカイブ]** アクセス層を選択します。 BLOB が現在アーカイブ内にあるときに、オンライン層にリハイドレートする場合は、リハイドレート優先度として **[標準]** または **[高]** を選択することもできます。

1. 下部にある **[保存]** を選択します。

![ストレージ アカウント層を変更する](media/storage-tiers/blob-access-tier.png)

# <a name="powershell"></a>[PowerShell](#tab/azure-powershell)
次の PowerShell スクリプトを使用すると、BLOB 層を変更できます。 `$rgName` 変数は、ご自身のリソース グループ名で初期化する必要があります。 `$accountName` 変数は、ご自身のストレージ アカウント名で初期化する必要があります。 `$containerName` 変数は、ご自身のコンテナー名で初期化する必要があります。 `$blobName` 変数は、ご自身の BLOB 名で初期化する必要があります。 
```powershell
#Initialize the following with your resource group, storage account, container, and blob names
$rgName = ""
$accountName = ""
$containerName = ""
$blobName == ""

#Select the storage account and get the context
$storageAccount =Get-AzStorageAccount -ResourceGroupName $rgName -Name $accountName
$ctx = $storageAccount.Context

#Select the blob from a container
$blob = Get-AzStorageBlob -Container $containerName -Blob $blobName -Context $ctx

#Change the blob’s access tier to archive
$blob.ICloudBlob.SetStandardBlobTier("Archive")
```
---

## <a name="pricing-and-billing"></a>価格と課金

すべてのストレージ アカウントでは、各 BLOB の層に基づいたブロック BLOB ストレージの価格モデルを採用しています。 次の課金に関する考慮事項に留意してください。

- **ストレージ コスト**:データの格納のコストは、格納されているデータの量だけでなく、アクセス層にも左右されます。 よりクールな層になるほど、ギガバイトあたりのコストが下がります。
- **データ アクセス コスト**:データ アクセス料金は、よりクールな層になるほど高くなります。 クール アクセス層およびアーカイブ アクセス層のデータの場合、読み取りに対して、ギガバイト単位のデータ アクセス料金が課金されます。
- **トランザクション コスト**:すべての層に対してトランザクションごとに課金されます。よりクールな層になるほどコストが高くなります。
- **geo レプリケーション データ転送コスト**:GRS と RA-GRS を含む geo レプリケーションが構成されているアカウントだけに適用されます。 geo レプリケーション データ転送には、ギガバイトあたりの料金がかかります。
- **送信データ転送コスト**:送信データ転送 (Azure リージョン外に転送されるデータ) では、帯域幅使用量に対する課金が 1 ギガバイトごとに発生します。これは、汎用ストレージ アカウントと同じです。
- **アクセス層の変更**:アカウント アクセス層を変更すると、アカウントに格納されている、層が明示的に設定されていない "_推定されたアクセス層_" の BLOB に対する階層変更料金が発生します。 1 つの BLOB のアクセス層の変更について詳しくは、「[BLOB レベルの階層制御の課金](#blob-level-tiering-billing)」を参照してください。

> [!NOTE]
> ブロック BLOB の価格の詳細については、[Azure Storage の価格](https://azure.microsoft.com/pricing/details/storage/blobs/)に関するページを参照してください。 送信データ転送の価格の詳細については、[データ転送の料金詳細](https://azure.microsoft.com/pricing/details/data-transfers/)に関するページを参照してください。

## <a name="faq"></a>よく寄せられる質問

**データを階層制御する場合、BLOB ストレージまたは GPv2 アカウントを使う必要があるのでしょうか。**

階層制御には BLOB ストレージ アカウントではなく GPv2 の使用をお勧めします。 GPv2 は、BLOB ストレージ アカウントで利用できるすべての機能をサポートしており、それ以外にもさまざまな機能を利用できます。 BLOB ストレージと GPv2 の料金体系はほぼ同じですが、いくつかの新機能と値下げの対象は GPv2 アカウントに限られています。 GPv1 アカウントでは、階層制御がサポートされません。

GPv1 アカウントと GPv2 アカウントとでは料金体系が異なります。GPv2 アカウントをご使用になる前に、両者を慎重に比較して評価してください。 既存の BLOB ストレージ アカウントまたは GPv1 アカウントは、簡単なワンクリックのプロセスで GPv2 に変換することができます。 詳細については、「[Azure ストレージ アカウントの概要](../common/storage-account-overview.md)」を参照してください。

**同じアカウントの 3 つすべて (ホット、クール、アーカイブ) のアクセス層にオブジェクトを格納することはできますか。**

はい。 アカウント レベルで設定された**アクセス層**属性は、明示的に層が設定されていない、そのアカウント内のすべてのオブジェクトに適用される既定のアカウント層です。 BLOB レベルの階層制御では、アカウントで設定されているアクセス層に関係なく、オブジェクト レベルでアクセス層を設定できます。 3 つのアクセス層 (ホット、クール、アーカイブ) のいずれの BLOB も同じアカウント内に存在することができます。

**BLOB または GPv2 ストレージ アカウントの既定のアクセス層を変更することはできますか。**

はい。ストレージ アカウントの**アクセス層**属性を設定して、既定のアカウント層を変更することができます。 アカウント層の変更は、アカウントに格納されている、層が明示的に設定されていないすべてのオブジェクトに適用されます (たとえば、**ホット (推定)** や**クール (推定)** など)。 アカウント層をホットからクールに切り替えた場合、GPv2 アカウントについてのみ、階層が設定されていないすべての BLOB に関して、書き込み操作 (10,000 件単位) の料金が発生します。クールからホットへの切り替えでは、BLOB ストレージ アカウントと GPv2 アカウントのすべての BLOB に関して、読み取り操作 (10,000 件単位) とデータ取得 (GB 単位) の両方の料金が発生します。

**既定のアカウント アクセス層をアーカイブに設定することはできますか。**

いいえ。 既定のアカウント アクセス層として設定できるのは、ホット アクセス層とクール アクセス層だけです。 アーカイブは、オブジェクト レベルでのみ設定することができます。 BLOB のアップロードでは、既定のアカウント層に関係なく、選択するアクセス層をホット、クール、アーカイブのいずれにするかを指定します。 この機能により、データを直接アーカイブ層に書き込み、BLOB ストレージでデータを作成した瞬間からコストを削減することができます。

**ホット、クール、アーカイブのアクセス層は、どのリージョンで利用できるのですか。**

ホット アクセス層とクール アクセス層は、BLOB レベルの階層制御と共に、すべてのリージョンでご利用いただけます。 アーカイブ ストレージは、初めは提供されるリージョンが限定されます。 詳細なリストについては、[Azure のリージョン別の利用可能な製品](https://azure.microsoft.com/regions/services/)に関するページを参照してください。

**クール アクセス層の BLOB の動作と、ホット アクセス層の BLOB の動作は異なりますか。**

ホット アクセス層内の BLOB の待ち時間は、GPv1、GPv2、BLOB ストレージ アカウントの BLOB と同じになります。 クール アクセス層内の BLOB の待ち時間は、GPv1、GPv2、BLOB ストレージ アカウントの BLOB と類似しています (ミリ秒)。 アーカイブ アクセス層の BLOB の待ち時間は、GPv1、GPv2、BLOB ストレージ アカウントのいずれにおいても数時間に及びます。

クール アクセス層内の BLOB は、ホット アクセス層に格納された BLOB よりも可用性サービス レベル (SLA) が若干低くなります。 詳細については、「[Storage の SLA](https://azure.microsoft.com/support/legal/sla/storage/v1_5/)」を参照してください。

**ホット、クール、アーカイブの各層間で操作は同じですか。**

ホットとクールとの間では、すべての操作に 100% の一貫性があります。 GetBlobProperties、GetBlobMetadata、SetBlobTags、GetBlobTags、FindBlobsByTags、ListBlobs、SetBlobTier、および DeleteBlob を含む有効なアーカイブ操作はすべて、ホットとクールで 100% 一致しています。 アーカイブ層の BLOB データは、リハイドレートするまで読み取ったり変更したりできません。アーカイブ中は、BLOB メタデータの読み取り操作のみがサポートされます。 ただし、アーカイブ中に BLOB インデックス タグの読み取り、設定、または変更を行うことはできます。

**BLOB をアーカイブ層からホット層またはクール層にリハイドレートするとき、リハイドレートが完了したことは、どのようにしてわかるのですか。**

リハイドレート中は、BLOB のプロパティの取得操作を使用して**アーカイブ ステータス**属性をポーリングし、層変更がいつ完了したかを確認できます。 ステータスは、変更先の層に応じて "rehydrate-pending-to-hot" または "rehydrate-pending-to-cool" になります。 完了すると、アーカイブ ステータス プロパティが削除され、BLOB の**アクセス層**プロパティに新しい階層としてホット層またはクール層が反映されます。 「[アーカイブ層から BLOB データをリハイドレートする](storage-blob-rehydration.md)」で詳細を確認してください。

**BLOB の層を設定した後、いつから該当料金で課金されるのですか。**

それぞれの BLOB は常に、BLOB の**アクセス層**プロパティによって示された階層に基づいて課金されます。 BLOB に新しいオンライン層を設定すると、**アクセス層**プロパティに、すべての切り替えに対する新しい層がすぐに反映されます。 ただし、アーカイブ層からホット層またはクール層に BLOB をリハイドレートするには、数時間かかる場合があります。 この場合、**アクセス層**プロパティに新しい層が反映されて、リハイドレートが完了するまで、アーカイブの料金が適用されます。 オンライン層にリハイドレートされると、その BLOB に対してホットまたはクールの料金が課金されます。

**クール層またはアーカイブ層から BLOB を移動したとき、早期削除料金が発生したかどうかは、どのようにしてわかるのですか。**

クール層 (GPv2 アカウントのみ) またはアーカイブ層から、それぞれ 30 日前または 180 日前に削除または移動された BLOB には、日割り計算された早期削除料金が発生します。 BLOB がクール層またはアーカイブ層に保管されていた時間は、BLOB の**アクセス層変更時間**プロパティを調べて、最後に層変更が実行されたタイムスタンプを得ることで判断できます。 BLOB の階層が変更されていない場合は、**Last Modified** BLOB プロパティを確認できます。 詳細については、「[クールとアーカイブの早期削除](#cool-and-archive-early-deletion)」を参照してください。

**BLOB レベルの階層制御とアーカイブ ストレージは、どの Azure ツールと SDK でサポートされていますか。**

BLOB レベルの階層制御とアーカイブ ストレージは、Azure Portal、PowerShell、CLI の各ツールに加え、.NET、Java、Python、Node.js の各クライアント ライブラリでサポートされます。  

**ホット、クール、アーカイブの各層には、どの程度の量のデータを保存できますか。**

データ ストレージの上限は、アクセス層ごとに設定されるのではなく、その他の制限と共にアカウント レベルで設定されます。 すべての制限を 1 つの層で使用するか、3 つすべての層で使用するかは、ユーザーが選択できます。 詳しくは、「[標準ストレージ アカウントのスケーラビリティとパフォーマンスのターゲット](../common/scalability-targets-standard-account.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json)」を参照してください。

## <a name="next-steps"></a>次のステップ

GPv2 および BLOB ストレージ アカウントにおけるホット、クール、アーカイブの評価

- [ホット、クール、アーカイブのリージョンごとの提供状況を確認する](https://azure.microsoft.com/regions/#services)
- [Azure Blob Storage のライフサイクルの管理](storage-lifecycle-management-concepts.md)
- [アーカイブ層から BLOB データをリハイドレートする方法を確認する](storage-blob-rehydration.md)
- [Premium パフォーマンスがアプリにとってメリットがあるかどうかを判断する](storage-blob-performance-tiers.md)
- [Azure Storage のメトリックを有効にして現在のストレージ アカウントの使用状況を評価する](../common/storage-enable-and-view-metrics.md)
- [BLOB ストレージ アカウントと GPv2 アカウントのホット、クール、アーカイブのリージョンごとの料金を確認する](https://azure.microsoft.com/pricing/details/storage/)
- [データ転送の価格を確認する](https://azure.microsoft.com/pricing/details/data-transfers/)
