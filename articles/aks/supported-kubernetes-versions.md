---
title: Azure Kubernetes Service でサポートされている Kubernetes のバージョン
description: Azure Kubernetes Service (AKS) の Kubernetes バージョン サポート ポリシーとクラスターのライフサイクルを理解する
services: container-service
author: sauryadas
ms.service: container-service
ms.topic: article
ms.date: 05/20/2019
ms.author: saudas
ms.openlocfilehash: 27b180d8d95d7dad967b8ac2495a795ed70836b9
ms.sourcegitcommit: aaa82f3797d548c324f375b5aad5d54cb03c7288
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/29/2019
ms.locfileid: "70147233"
---
# <a name="supported-kubernetes-versions-in-azure-kubernetes-service-aks"></a>Azure Kubernetes Service (AKS) でサポートされている Kubernetes のバージョン

Kubernetes コミュニティでは、おおよそ 3 か月おきにマイナー バージョンをリリースしています。 これらのリリースには、新しい機能と機能強化が含まれます。 修正プログラムのリリースは、より頻繁で (場合によっては毎週)、マイナー バージョンでの重要なバグ修正のみを目的としています。 これらの修正プログラム リリースには、セキュリティの脆弱性や、多くの顧客や Kubernetes に基づく運用環境で実行されている製品に影響を与える主なバグの修正プログラムが含まれます。

AKS は、リリースの安定性によって異なりますが、アップストリーム リリースから 30 日以内に Kubernetes の新しいバージョンを認証およびリリースすることを目標としています。

## <a name="kubernetes-versions"></a>Kubernetes のバージョン

Kubernetes は、標準の[セマンティック バージョニング](https://semver.org/)のバージョン管理スキームを使用します。 これは、Kubernetes の各バージョンがこの番号付け方式に従うことを意味します。

```
[major].[minor].[patch]

Example:
  1.12.14
  1.12.15
```

バージョンのそれぞれの数字は、前のバージョンとの一般的な互換性を示します。

* メジャー バージョンは、互換性のない API の変更や下位互換性が破棄されている可能性があるときに変更されます。
* マイナー バージョンは、その他のマイナー リリースに対する下位互換性のある機能の変更が行われたときに変更されます。
* 修正プログラムのバージョンは、下位互換性のあるバグ修正が行われたときに変更されます。

通常、ユーザーは、実行中のマイナー バージョンの最新の修正プログラムのリリースを実行するよう努める必要があります。たとえば、運用環境クラスターが *1.12.14* 上にあり、*1.12.15* が *1.12* シリーズ用に使用できる最新の使用可能な修正プログラムのバージョンである場合は、クラスターに完全にパッチが適用されサポートされていることを確認できるようになったらすぐに、*1.12.15* にアップグレードする必要があります。

## <a name="kubernetes-version-support-policy"></a>Kubernetes バージョン サポート ポリシー

AKS では、Kubernetes の 4 つのマイナー バージョンがサポートされています。

* AKS (N) でリリースされている現在のマイナー バージョン
* 3 つの以前のマイナー バージョン。 各サポートされているマイナー バージョンは 2 つの安定性の高い修正プログラムもサポートしています。

これは、"N-3" - (N (最新リリース) - 3 (マイナー バージョン)) として知られています。

たとえば、AKS が *1.13.a* を本日導入した場合は、次のバージョンのサポートが提供されます。

新しいマイナー バージョン    |    サポートされているバージョンの一覧
-----------------    |    ----------------------
1.13.a               |    1.12.a、1.12.b、1.11.a、1.11.b、1.10.a、1.10.b

".a" と ".b" は代表的なパッチ バージョンです。1.13.a の "a" は 1.12.a とは異なる可能性があります。 たとえば、1.13.9 や 1.12.8 のようになります。

バージョンの変更と要件に関する通知の詳細については、以下の「通知」を参照してください。

新しいマイナー バージョンが導入されると、サポートされている最も古いマイナー バージョンと修正プログラムのリリースは、非推奨となり削除されます。 たとえば、現在サポートされているバージョンの一覧は次のとおりです。

```
1.12.a
1.12.b
1.11.a
1.11.b
1.10.a
1.10.b
1.9.a
1.9.b
```

また、AKS では 1.13. *をリリースしています。これは、1.9.* バージョン (すべての 1.9 バージョン) は削除され、サポート対象外になることを意味します。

> [!NOTE]
> なお、お客様がサポートされていない Kubernetes バージョンを実行している場合は、クラスターのサポートを要求したときにアップグレードするよう求められます。 サポートされていない Kubernetes リリースを実行しているクラスターは、[AKS サポート ポリシー](https://docs.microsoft.com/azure/aks/support-policies)の対象ではありません。


上記のマイナー バージョンに加え、AKS は、特定のマイナー バージョンの 2 つの最新の*修正プログラム** のリリースをサポートしています。 たとえば、次のようなサポートされているバージョンがあるとします。

```
Current Supported Version List
------------------------------
1.12.1, 1.12.2, 1.11.4, 1.11.5
```

Kubernetes が 1.12.3 および 1.11.6 をリリース済みで、AKS がそれらの修正プログラムのバージョンをリリースしている場合、最も古い修正プログラムのバージョンは非推奨となって削除され、サポートされているバージョンの一覧は次のようになります。

```
New Supported Version List
----------------------
1.12.*2*, 1.12.*3*, 1.11.*5*, 1.11.*6*
```

> [!NOTE]
> お客様は、クラスターの作成、CI またはその他の自動化されたジョブを特定の修正プログラムのリリースに固定しないでください。 

### <a name="communications"></a>通知

* 新しい**マイナー** バージョンの Kubernetes の場合
  * すべてのユーザーには、新しいバージョンと削除される予定のバージョンが公的に通知されます。
  * 新しい修正プログラムのバージョンがリリースされると、同時に最も古い修正プログラムのリリースが削除されます。
  * お客様は、公示日から **60 日間**の間に、サポートされているマイナー バージョンのリリースにアップグレードすることができます。
* 新しい**修正プログラム**のバージョンの Kubernetes の場合
  * すべてのユーザーには、リリースされている修正プログラムの新しいバージョンが通知され、最新の修正プログラムのリリースにアップグレードするよう通知されます。
  * ユーザーは、**30 日間**の間に、サポートされている新しい修正プログラム リリースにアップグレードすることができます。 ユーザーは、**30 日間** の間に、最も古いものが削除される前にサポートされている修正プログラムのリリースにアップグレードすることができます。

AKS は "リリース済み" を、すべての SLO/サービス品質の測定で有効であり、すべてのリージョンで利用可能な、一般公開として定義します。

> [!NOTE]
> マイナー バージョンが非推奨になるか削除されると、お客様には Kubernetes バージョンのリリースと非推奨が通知されます。ユーザーは、60 日間の間に、サポートされているリリースにアップグレードすることができます。 修正プログラムのリリースの場合、お客様は、30 日間の間にサポートされているリリースにアップグレードすることができます。

通知は次の方法で送信されます。

* [AKS リリース ノート](https://aka.ms/aks/releasenotes)
* Azure portal の通知
* [Azure 更新チャネル][azure-update-channel]

### <a name="policy-exceptions"></a>ポリシーの例外

AKS は、バグまたはセキュリティの問題に影響を与える 1 つ以上の重要な運用があることが識別された新しいバージョンまたは既存のバージョンを、予告なしに追加または削除する権利を留保します。

特定の修正プログラムのリリースは、バグまたはセキュリティの問題の重大度に応じて、スキップされるか、ロールアウトが高速になる場合があります。

### <a name="azure-portal-and-cli-default-versions"></a>Azure portal と CLI の既定のバージョン

ポータルまたは Azure CLI を使用して AKS クラスターをデプロイする場合、クラスターは常に N-1 マイナー バージョンおよび最新修正プログラムに設定されます。 たとえば、AKS でサポートされているのが *1.13.a*、*1.12.a* + *1.12.b*、*1.11.a* + *1.11.b*、*1.10.a* + *1.10b* であれば、新しいクラスターの既定のバージョンは *1.12.b* となります。

AKS では既定値は N-1 (minor.latestPatch、1.12.b など) で、既定では既知の安定した、修正プログラムが適用されたバージョンをお客様に提供します。

## <a name="list-currently-supported-versions"></a>現在サポートされているバージョンの一覧表示

ご使用のサブスクリプションとリージョンで現在使用可能なバージョンを確認するには、[az aks get-versions][az-aks-get-versions] コマンドを使用します。 次の例では、*EastUS* リージョンで使用可能な Kubernetes のバージョンが一覧表示されます。

```azurecli-interactive
az aks get-versions --location eastus --output table
```

出力は次の例のようになります。この例では、Kubernetes バージョン *1.14.6* が使用可能な最新バージョンです。

```
KubernetesVersion    Upgrades
-------------------  ------------------------
1.14.6               None available
1.14.5               1.14.6
1.13.10              1.14.5, 1.14.6
1.13.9               1.13.10, 1.14.5, 1.14.6
1.12.8               1.13.9, 1.13.10
1.12.7               1.12.8, 1.13.9, 1.13.10
1.11.10              1.12.7, 1.12.8
1.11.9               1.11.10, 1.12.7, 1.12.8
1.10.13              1.11.9, 1.11.10
1.10.12              1.10.13, 1.11.9, 1.11.10
```

## <a name="faq"></a>FAQ

**顧客がサポートされていないマイナー バージョンの Kubernetes クラスターをアップグレードするとどうなりますか。**

*n-4* バージョンを使用している場合は、サポート外であり、アップグレードするよう求められます。 バージョン n-4 から n-3 へのアップグレードに成功した場合は、サポート ポリシーの対象になります。 例:

- サポートされている AKS のバージョンが *1.13.a*、*1.12.b* + *1.12.c*、*1.11.d* + *1.11.e*、*1.10.f* + *1.10.g* であり、使用しているバージョンが *1.9.h* または *1.9.i* の場合はサポート対象外です。
- *1.9.h* または *1.9.i* から *1.10.f* または *1.10.g* へのアップグレードが成功すると、サポート ポリシー対象に戻ります。

*n-4* より前のバージョンへのアップグレードはサポートされていません。 このような場合は、顧客に新しい AKS クラスターを作成して、ワークロードを再デプロイすることをお勧めします。

**サポート外とは**

"サポート外" とは、実行しているバージョンがサポートされているバージョンの一覧に含まれていないことを意味し、サポートを要求すると、クラスターをサポートされているバージョンにアップグレードするよう求められます。 さらに、AKS は、サポートされているバージョンの一覧に含まれていないクラスターのランタイムなどを保証しません。

**顧客がサポートされていないマイナー バージョンの Kubernetes クラスターを拡大縮小するとどうなりますか。**

AKS でサポートされていないのマイナー バージョンについては、拡大縮小は問題なく動作します。

**顧客が Kubernetes バージョンをそのまま永久に使用し続けることはできますか。**

はい。 ただし、クラスターが AKS でサポートされているバージョンのいずれかにない場合、クラスターは AKS サポート ポリシー外となります。 Azure は、自動的にクラスターをアップグレードしたり削除したりすることはありません。

**エージェント クラスターがサポートされている AKS バージョンのいずれかにない場合、マスターはどのバージョンをサポートしますか。**

マスターは、サポートされている最新バージョンに自動的に更新されます。

## <a name="next-steps"></a>次の手順

クラスターをアップグレードする方法の詳細については、「[Azure Kubernetes Service (AKS) クラスターのアップグレード][aks-upgrade]」をご覧ください。

<!-- LINKS - External -->
[aks-engine]: https://github.com/Azure/aks-engine
[azure-update-channel]: https://azure.microsoft.com/updates/?product=kubernetes-service

<!-- LINKS - Internal -->
[aks-upgrade]: upgrade-cluster.md
[az-aks-get-versions]: /cli/azure/aks#az-aks-get-versions
