---
title: Azure Active Directory B2C で年齢制限を有効にする | Microsoft Docs
description: アプリケーションを使用している未成年者を特定する方法について説明します。
services: active-directory-b2c
author: msmimart
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: how-to
ms.date: 11/13/2018
ms.author: mimart
ms.subservice: B2C
ms.openlocfilehash: 6bd93f9062f8446ce20436a7a04e2054aaf5be71
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/02/2020
ms.locfileid: "85386133"
---
# <a name="enable-age-gating-in-azure-active-directory-b2c"></a>Azure Active Directory B2C で年齢制限を有効にする

>[!IMPORTANT]
>この機能はパブリック プレビュー段階にあります。 運用アプリケーションにはこの機能を使わないでください。
>

Azure Active Directory B2C (Azure AD B2C) の年齢制御を使うと、アプリケーションを使おうとしている未成年者を識別することができます。 未成年者がアプリケーションにサインインするのをブロックできます。 ユーザーはアプリケーションに戻り、自分の年齢グループと、保護者の同意の状況を確認することもできます。 Azure AD B2C では、保護者の同意がない未成年者をブロックできます。 また、未成年者の処理をアプリケーションが決定できるように、Azure AD B2C を設定することもできます。

[ユーザー フロー](user-flow-overview.md)で年齢制御を有効にすると、それ以降、ユーザーは生年月日と居住国/地域をたずねられます。 サインインしているユーザーが以前にその情報を入力していない場合、次にサインインするときに入力する必要があります。 ユーザーがサインインするたびに、ルールが適用されます。

Azure AD B2C では、ユーザーが入力した情報を使って、ユーザーが未成年かどうかが識別されます。 その後、アカウントの **AgeGroup** フィールドが更新されます。 値は、`null`、`Undefined`、`Minor`、`Adult`、`NotAdult` のいずれかです。  その後、**AgeGroup** フィールドと **consentProvidedForMinor** フィールドを使って、**legalAgeGroupClassification** の値が計算されます。

年齢制御には 2 つの年齢値が含まれます。もはや未成年と見なされなくなる年齢と、未成年者が保護者の同意を必要とする年齢です。 次の表では、未成年および同意を必要とする未成年の定義に使われる年齢ルールの一覧を示します。

| 国/リージョン | 国/地域名 | 同意が必要な未成年の年齢 | 未成年の年齢 |
| -------------- | ------------------- | ----------------- | --------- |
| Default | なし | なし | 18 |
| AE | アラブ首長国連邦 | なし | 21 |
| AT | オーストリア | 14 | 18 |
| BE | ベルギー | 14 | 18 |
| BG | ブルガリア | 16 | 18 |
| BH | バーレーン | なし | 21 |
| CM | カメルーン | なし | 21 |
| CY | キプロス | 16 | 18 |
| CZ | チェコ共和国 | 16 | 18 |
| DE | ドイツ | 16 | 18 |
| DK | デンマーク | 16 | 18 |
| EE | エストニア | 16 | 18 |
| EG | エジプト | なし | 21 |
| ES | スペイン | 13 | 18 |
| FR | フランス | 16 | 18 |
| GB | イギリス | 13 | 18 |
| GR | ギリシャ | 16 | 18 |
| HR | クロアチア | 16 | 18 |
| HU | ハンガリー | 16 | 18 |
| IE | アイルランド | 13 | 18 |
| IT | イタリア | 16 | 18 |
| KR | 韓国 | 14 | 18 |
| LT | リトアニア | 16 | 18 |
| LU | ルクセンブルク | 16 | 18 |
| LV | ラトビア | 16 | 18 |
| MT | マルタ | 16 | 18 |
| NA | ナミビア | なし | 21 |
| NL | オランダ | 16 | 18 |
| PL | ポーランド | 13 | 18 |
| PT | ポルトガル | 16 | 18 |
| RO | ルーマニア | 16 | 18 |
| SE | スウェーデン | 13 | 18 |
| SG | シンガポール | なし | 21 |
| SI | スロベニア | 16 | 18 |
| SK | スロバキア | 16 | 18 |
| TD | チャド | なし | 21 |
| TH | タイ | なし | 20 |
| TW | 台湾 | なし | 20 |
| US | 米国 | 13 | 18 |

## <a name="age-gating-options"></a>年齢制限のオプション

### <a name="allowing-minors-without-parental-consent"></a>保護者の同意がない未成年者を許可する

サインアップ、サインイン、またはその両方を許可するユーザー フローでは、同意のない未成年者にアプリケーションの使用を許可することを選択できます。 保護者の同意がない未成年者は、通常どおりにサインインまたはサインアップすることが許可され、Active Directory B2C では**legalAgeGroupClassification** 要求を含む ID トークンが発行されます。 この要求では、保護者の同意の収集や **consentProvidedForMinor** フィールドの更新など、ユーザーのエクスペリエンスが定義されます。

### <a name="blocking-minors-without-parental-consent"></a>保護者の同意がない未成年者をブロックする

サインアップ、サインイン、またはその両方を許可するユーザー フローでは、アプリケーションからの同意のない未成年者をブロックすることを選択できます。 Azure AD B2C でのブロックされたユーザーの処理には、次のオプションが使われます。

- [JSON をアプリケーションに送り返します] - このオプションでは、未成年者がブロックされたことを示す応答がアプリケーションに返送されます。
- [エラー ページを表示します] - アプリケーションにアクセスできないことを知らせるページがユーザーに表示されます。

## <a name="set-up-your-tenant-for-age-gating"></a>年齢制限用にテナントを設定する

ユーザー フローで年齢制限を使うには、追加のプロパティが含まれるようにテナントを構成する必要があります。

1. 上部メニューの **[ディレクトリ + サブスクリプション]** フィルターを選択して、Azure AD B2C テナントを含むディレクトリを使っていることを確認します。 テナントが含まれるディレクトリを選択します。
2. Azure portal の左上隅の **[すべてのサービス]** を選択し、 **[Azure AD B2C]** を検索して選択します。
3. 左側のメニューで、テナントの **[プロパティ]** を選択します。
2. **[年齢制御]** セクションで、 **[構成]** をクリックします。
3. 操作が完了するまで待ちます。テナントは年齢制限対応に設定されます。

## <a name="enable-age-gating-in-your-user-flow"></a>ユーザー フローで年齢制限を有効にする

年齢制限を使うようにテナントを設定した後は、それが有効になっている[ユーザー フロー](user-flow-versions.md)でこの機能を使用できます。 次の手順に従って、年齢制限を有効にします。

1. 年齢制限が有効になっているユーザー フローを作成します。
2. ユーザー フローを作成した後、メニューで **[プロパティ]** を選択します。
3. **[年齢制御]** セクションで、 **[有効]** を選択します。
4. その後、未成年者として識別されたユーザーの管理方法を決定します。 **[Sign-up or sign-in]\(サインアップまたはサインイン\)** では、[`Allow minors to access your application`] または [`Block minors from accessing your application`] を選択します。 未成年者のブロックを選択した場合は、[`Send a JSON back to the application`] または [`Show an error message`] を選択します。




