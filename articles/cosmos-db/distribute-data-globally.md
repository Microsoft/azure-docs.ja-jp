---
title: Azure Cosmos DB でデータをグローバルに分散させる
description: グローバル分散型のマルチモデル データベース サービスである Azure Cosmos DB のグローバル データベースを使用した、地球規模の geo レプリケーション、マルチマスター、フェールオーバー、データ復旧について学習します。
author: markjbrown
ms.author: mjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 10/26/2018
ms.openlocfilehash: 3599875f96c6bd79ecace1d59c3580027fab3168
ms.sourcegitcommit: 8330a262abaddaafd4acb04016b68486fba5835b
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/04/2019
ms.locfileid: "54040355"
---
# <a name="global-data-distribution-with-azure-cosmos-db"></a>Azure Cosmos DB でのグローバルなデータの分散

現在のアプリケーションは、応答性に優れていて、常にオンラインである必要があります。 待機時間の短縮と高可用性を実現するには、これらのアプリケーションのインスタンスをそのユーザーの近くにあるデータ センターにデプロイする必要があります。 これらのアプリケーションは、通常は複数のデータ センターにデプロイされ、グローバル分散型と呼ばれています。 グローバル分散型アプリケーションには、アプリケーションでそのユーザーの近くにあるデータのコピーを操作できるようにするために、世界中のデータを透過的にレプリケートできる、グローバルに分散されたデータベースが必要です。 

Azure Cosmos DB は、待機時間の短縮、スループットのエラスティックなスケーラビリティ、データの一貫性を保つための明確に定義されたセマンティクス、および高可用性を確保するように設計された、グローバル分散データベース サービスです。 つまり、世界中のあらゆる場所で高速な応答時間を保証すること、常にオンラインであること、スループットとストレージの無制限でエラスティックなスケーラビリティを備えていることが、使用するアプリケーションで必要な場合は、Azure Cosmos DB を使用してアプリケーションを構築することを検討してください。

お客様は、そのデータベースを構成してグローバルに分散し、Azure リージョンのどこからでも利用できるようにできます。 待機時間を短縮するには、データをユーザーの所在地の近くに配置してください。 どのリージョンを選択するかは、アプリケーションのグローバル リーチと、ユーザーの所在地によって決まります。 Azure Cosmos DB では、アカウント内のデータが、アカウントに関連付けられている全リージョンに対して透過的にレプリケートされます。 グローバルに分散された Azure Cosmos データベースとコンテナーの単一のシステム イメージが利用できるようになっており、アプリケーションからは、読み取りと書き込みをローカルに実行することができます。 

Azure Cosmos DB に関してご利用のアカウントに関連付けられるリージョンは、いつでも追加したり削除したりすることができます。 リージョンの追加や削除のために、アプリケーションを一時停止したり再デプロイしたりする必要はありません。 サービスではマルチホーム機能が提供されるため、高い可用性が常に維持されます。

## <a name="key-benefits-of-global-distribution"></a>グローバル分散の主な利点

**グローバルなアクティブ/アクティブ アプリの構築。** マルチマスター機能により、すべてのリージョンが書き込みリージョンとなります。 また、それらは読み取り可能でもあります。 マルチマスター機能では次のことが保証されます。

- 無制限のエラスティック書き込みスケーラビリティ。 
- 全世界での 99.999% の読み取りおよび書き込みの可用性。
- 99 パーセンタイルで 10 ミリ秒未満の処理性能が保証された読み取りと書き込み。

Azure Cosmos DB のマルチホーム API を使用すると、ご利用のアプリケーションでは最も近いリージョンが認識されます。 これにより、要求はそのリージョンに送信されます。 構成には一切変更を加えることなく、最も近いリージョンが特定されます。 Azure Cosmos DB アカウントにリージョンを追加したり、そのアカウントからリージョンを削除したりする際に、アプリケーションを再デプロイする必要はありません。 アプリケーションの高可用性が維持されます。

**応答性に優れたアプリを構築できる。** 読み取りと書き込みをほぼリアルタイムに実行するアプリケーションを容易に設計できます。 ご利用のデータベース用に選択したすべてのリージョンに対し、待ち時間を 10 ミリ秒未満とすることができます。 Azure Cosmos DB では、リージョン間のデータのレプリケーションが内部的に処理されます。 結果として、Azure Cosmos DB アカウントに対して選択した一貫性レベルが保証されます。

マルチリージョン (ローカル) 書き込みを実行する機能に伴って得られるパフォーマンスの向上は、多くのアプリケーションにメリットをもたらします。 厳密な一貫性が要求される一部のアプリケーションでは、すべての書き込みを 1 つのリージョンに集中させるのが理想的です。 このようなアプリケーションのために、Azure Cosmos DB では、単一リージョンと複数リージョンの構成が両方ともサポートされています。

**可用性の高いアプリを構築する。** 複数のリージョンでデータベースを稼働させることによってデータベースの可用性が向上します。 あるリージョンが利用できない状態になった場合は、自動的に他のリージョンによってアプリケーションの要求が処理されます。 複数リージョンのデータベースを対象にした読み取りと書き込みに関して、Azure Cosmos DB は 99.999% の可用性を備えています。

**リージョン障害時にビジネス継続性を維持する。** Azure Cosmos DB では、リージョン障害時の[自動フェールオーバー](how-to-manage-database-account.md#automatic-failover)がサポートされています。 リージョン障害時にも、Azure Cosmos DB では、その待機時間、可用性、一貫性、スループットの SLA が引き続き維持されます。 ご利用のアプリケーション全体で高い可用性を確保するのに役立つように、Azure Cosmos DB には、リージョン障害をシミュレートするための手動フェールオーバー API が用意されています。 この API を使用することで、日常的なビジネス継続性の訓練を実施することができます。

**読み取りおよび書き込みのスループットのグローバルなスケーリング。** マルチマスター機能を使用することにより、読み取りと書き込みのスループットを世界規模でエラスティックにスケーリングすることができます。 マルチマスター機能では、Azure Cosmos DB のデータベースまたはコンテナーに対してご利用のアプリケーションで構成したスループットがすべてのリージョン全体で横断的に実現されることが保証されます。 また、スループットは[金銭的な補償を伴う SLA](https://aka.ms/acdbsla) によって保護されます。

**明確に定義された複数の一貫性モデルの中から選択する。** Azure Cosmos DB のレプリケーション プロトコルでは、明確に定義された、実際的かつ直感的な 5 つの一貫性モデルが提供されています。 各モデルには、一貫性とパフォーマンスのトレードオフがあります。 これらの一貫性モデルを使用することで、グローバル分散アプリケーションを容易に構築することができます。

## <a id="Next Steps"></a>次のステップ

以下の記事でグローバル分散の詳細についてご覧ください。

* [グローバル分散 - 内部のしくみ](global-dist-under-the-hood.md)
* [マルチホームに関するクライアントの構成](how-to-manage-database-account.md#configure-clients-for-multi-homing)
* [Azure Cosmos DB アカウントのリージョンを追加/削除する](how-to-manage-database-account.md#addremove-regions-from-your-database-account)
* [SQL API アカウント用のカスタム競合解決ポリシーを作成する](how-to-manage-conflicts.md#create-a-custom-conflict-resolution-policy)