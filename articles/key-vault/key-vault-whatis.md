---
title: Azure Key Vault とは - Azure Key Vault | Microsoft Docs
description: Azure Key Vault は、クラウド アプリケーションやサービスで使用される暗号化キーとシークレットをセキュリティで保護するために役立ちます。 Azure Key Vault を使用すると、キーとシークレット (認証キー、ストレージ アカウント キー、データ暗号化キー、PFX ファイル、パスワードなど) をハードウェア セキュリティ モジュール (HSM) で保護されたキーを使用して暗号化できます。
services: key-vault
documentationcenter: ''
author: barclayn
manager: mbaldwin
tags: azure-resource-manager
ms.assetid: e759df6f-0638-43b1-98ed-30b3913f9b82
ms.service: key-vault
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: conceptual
ms.date: 01/07/2019
ms.author: barclayn
ms.openlocfilehash: f3c198ab8a17df019f1735a9b62e27f1051f64c5
ms.sourcegitcommit: fbf0124ae39fa526fc7e7768952efe32093e3591
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/08/2019
ms.locfileid: "54076333"
---
# <a name="what-is-azure-key-vault"></a>Azure Key Vault とは

Azure Key Vault は、次の問題の解決に役立ちます。

- **シークレットの管理** - Azure Key Vault を使用すると、トークン、パスワード、証明書、API キー、その他のシークレットを安全に格納し、それらへのアクセスを厳密に制御できます。
- **キー管理** - Azure Key Vault は、キー管理ソリューションとしても使用できます。 Azure Key Vault により、データの暗号化に使用される暗号化キーの作成と制御が簡単になります。 
- **証明書の管理** - Azure Key Vault は、Azure および内部の接続されているリソースで使用するためのパブリックおよびプライベートの Secure Sockets Layer/Transport Layer Security (SSL/TLS) 証明書を簡単にプロビジョニング、管理、デプロイすることができるサービスでもあります。 
- **ハードウェア セキュリティ モジュールに基づくシークレットの格納** - シークレットとキーは、ソフトウェアまたは FIPS 140-2 レベル 2 検証済み HSM で保護できます。

## <a name="basic-concepts"></a>基本的な概念

Azure Key Vault は、シークレットを安全に保管し、それにアクセスするためのツールです。 シークレットは、API キー、パスワード、証明書など、アクセスを厳密に制御する必要がある任意のものです。 **Vault** はシークレットの論理グループです。 Key Vault で操作を行うには、まず、それに対して認証する必要があります。 

基本的には、次の 3 つの方法で Key Vault に対する認証ができます。

1. **[Azure リソースのマネージド ID](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview) の使用** (**推奨でありベスト プラクティス**):Azure の仮想マシンにアプリをデプロイするとき、Key Vault にアクセスできる仮想マシンに ID を割り当てることができます。 [こちら](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview)に記載されている他の Azure リソースにも ID を割り当てることができます。 この手法の利点は、最初のシークレットのローテーションがアプリ/サービスで管理されないことにあります。 Azure では、ID が自動的にローテーションされます。 
2. **サービス プリンシパルと証明書の使用:** 2 つ目のオプションは、サービス プリンシパルと、Key Vault にアクセスできる関連証明書を使用することです。 証明書ローテーションの責任はアプリケーションの所有者または開発者にあり、そのため、推奨されません。
3. **サービス プリンシパルとシークレットの使用:** 3 つ目のオプション (非推奨) は、サービス プリンシパルとシークレットを使用して Key Vault に対する認証を行うことです。

> [!NOTE]
> Key Vault に対する認証に使用するブートストラップ シークレットを自動ローテーションするのは難しいため、上記の 3 番目のオプションは使用すべきではありません。

以下に重要な用語を示します。

- **Tenant**: テナントは、Microsoft クラウド サービスの特定のインスタンスを所有および管理する組織です。 この用語は、組織の Azure と Office 365 のサービスのセットを正確に指すために最も頻繁に使用されます。
- **コンテナーの所有者**:コンテナー所有者は、キー コンテナーを作成し、それにフル アクセスして制御することができます。 コンテナー所有者は、だれがシークレットとキーにアクセスしたかをログに記録するように監査を設定することもできます。 管理者は、キーのライフサイクルを制御できます。 新しいバージョンのキーへの切り替え、キーのバックアップ、および関連タスクを行うことができます。
- **コンテナー コンシューマー**:コンテナー コンシューマーは、コンテナー所有者によってアクセスを許可されると、キー コンテナー内のアセットに対してアクションを実行できます。 使用可能なアクションは、付与されるアクセス許可によって異なります。
- **リソース**:リソースは、Azure を通じて使用できる、管理可能な要素です。 一般的なリソースとしては、仮想マシン、ストレージ アカウント、Web アプリ、データベース、仮想ネットワークなどがありますが、他にもさまざまなリソースが存在します。
- **[リソース グループ]**:リソース グループは、Azure ソリューションの関連するリソースを保持するコンテナーです。 リソース グループには、ソリューションのすべてのリソースか、グループとして管理したいリソースのみを含めることができます。 組織にとって最も有用になるように、リソースをリソース グループに割り当てる方法を決定します。
- **サービス プリンシパル** - Azure サービス プリンシパルは、ユーザーによって作成されたアプリやサービス、オートメーション ツールが特定の Azure リソースにアクセスする際に使うセキュリティ ID です。 アクセス許可が厳しく管理された、特定のロールが与えられた "ユーザー ID" (ユーザー名とパスワードまたは証明書) と考えてください。 一般的なユーザー ID とは異なり、サービス プリンシパルで行うタスクは制限する必要があります。 管理タスクを実行するために必要な最小限のアクセス許可レベルだけを与えるようにすれば、セキュリティは向上します。
- **[Azure Active Directory (Azure AD)](../active-directory/active-directory-whatis.md)**:Azure AD は、テナント向けの Active Directory サービスです。 各ディレクトリには、1 つまたは複数のドメインが存在します。 ディレクトリには複数のサブスクリプションを関連付けることができますが、テナントは 1 つだけです。 
- **Azure テナント ID**:テナント ID は、Azure サブスクリプション内で Azure AD インスタンスを識別するための独自の方法です。
- **Azure リソースのマネージド ID**:Azure Key Vault は、資格情報およびその他のキーやシークレットを安全に保管する方法を提供しますが、コードは Key Vault に認証してそれらを取得する必要があります。 マネージド ID を使用すると、Azure AD で自動的に管理される ID が Azure サービスに提供されるため、この問題の解決が簡単になります。 この ID を使用すると、コードに資格情報が含まれていなくても、Key Vault または Azure AD 認証をサポートする任意のサービスの認証を受けることができます。 詳細については、下の画像と [Azure リソースのマネージド ID の概要](../active-directory/managed-identities-azure-resources/overview.md)ページを参照してください。

    ![Azure リソースのマネージド ID の動作を表す図](./media/key-vault-whatis/msi.png)

## <a name="key-vault-roles"></a>Key Vault の役割

次の表を使用して、Key Vault が開発者やセキュリティ管理者のニーズを満たすのに役立つ方法を十分に理解します。

| Role | 問題の説明 | Azure Key Vault による解決 |
| --- | --- | --- |
| Azure アプリケーションの開発者 |"署名と暗号化のキーを使用する Azure のアプリケーションを作成したいが、ソリューションが地理的に分散したアプリケーションに合うように、これらのキーをアプリケーションの外部に設定したい。 <br/><br/>これらのキーとシークレットは、自分でコードを記述せずに保護したい。 さらに、簡単にアプリケーションから最適なパフォーマンスで使用できるようにしたい。" |√ キーは、資格情報コンテナーに格納され、必要に応じて、URI によって呼び出されます。<br/><br/> √ キーは、業界標準のアルゴリズム、キーの長さ、ハードウェア セキュリティ モジュールを使用して、Azure によってセキュリティで保護されています。<br/><br/> √ キーは、アプリケーションと同じ Azure データセンターに存在する HSM で処理されます。 この方法では、オンプレミスなどの別の場所に存在するキーより、信頼性が向上し、待機時間が削減されます。 |
| サービスとしてのソフトウェア (SaaS) の開発者 |"顧客のテナント キーやシークレットに対して義務や潜在的責任を負いたくない。 <br/><br/>顧客がキーを自分で所有して管理すれば、オペレーターは自分の専門分野である、中心的なソフトウェア機能を提供することに集中できます。 |√ 顧客は Azure に自分のキーをインポートして管理できます。 SaaS アプリケーションが顧客のキーを使用して暗号化操作を実行する必要がある場合は、Key Vault がアプリケーションに代わって、これらの操作を行います。 アプリケーションには、顧客のキーは表示されません。 |
| 最高セキュリティ責任者 (CSO) |"アプリケーションが、セキュリティで保護されたキー管理のために FIPS 140-2 レベル 2 HSM に準拠していることを確認したい。 <br/><br/>組織が、キーのライフサイクルを管理し、キーの使用状況を確実に監視できるようにしたい。 <br/><br/>複数の Azure サービスとリソースを使用しているが、Azure の 1 つの場所からキーを管理したい。" |√ HSM は、FIPS 140-2 レベル 2 で検証済みです。<br/><br/>√ Key Vault は、マイクロソフトがキーを確認または抽出しないように作られています。<br/><br/>√ キーの使用状況は、ほぼリアルタイムで記録されます。<br/><br/>√ コンテナーは、Azure にあるコンテナーの数、サポートするリージョン、使用するアプリケーションに関係なく、1 つのインターフェイスを提供します。 |

Azure サブスクリプションを持つユーザーはだれでも、Key Vault を作成して使用できます。 Key Vault は開発者とセキュリティ管理者にとってメリットがありますが、組織の他の Azure サービスを管理する組織の管理者がこれを実装し、管理できます。 たとえば、この管理者は Azure のサブスクリプションを使用してサインインし、キーの保存先に組織の資格情報コンテナーを作成し、次のような運用タスクを担当できます。

- キーやシークレットの作成やインポート
- キーやシークレットの取り消しや削除
- ユーザーまたはアプリケーションに Key Vault へのアクセスを許可します。結果、ユーザーまたはアプリケーションはそのキーおよびシークレットを管理または使用できるようになります。
- キーの使用状況の構成 (署名や暗号化など)
- キーの使用状況の監視

この管理者は、開発者にアプリケーションから呼び出す URI を提供し、セキュリティ管理者にキーの使用状況のログ情報を提供します。 

![Azure Key Vault の概要][1]

開発者は、API を使用してキーを直接管理することもできます。 詳細については、「 [Azure Key Vault 開発者ガイド](key-vault-developers-guide.md)」を参照してください。

## <a name="next-steps"></a>次の手順

[コンテナーをセキュリティで保護する](key-vault-secure-your-key-vault.md)方法について学ぶ
<!--Image references--> [1]: ./media/key-vault-whatis/AzureKeyVault_overview.png Azure Key Vault はほとんどのリージョンで利用できます。 詳細については、 [Key Vault の価格のページ](https://azure.microsoft.com/pricing/details/key-vault/)を参照してください。
