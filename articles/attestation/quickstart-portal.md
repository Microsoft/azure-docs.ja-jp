---
title: Azure portal を使用して Azure Attestation を設定する
description: Azure portal を使用して構成証明プロバイダーを設定、構成する方法。
services: attestation
author: msmbaldwin
ms.service: attestation
ms.topic: overview
ms.date: 08/31/2020
ms.author: mbaldwin
ms.openlocfilehash: 86adac557c6de133e95e97bfedbd302cc6a2b27e
ms.sourcegitcommit: eb546f78c31dfa65937b3a1be134fb5f153447d6
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/02/2021
ms.locfileid: "99429159"
---
# <a name="quickstart-set-up-azure-attestation-with-azure-portal"></a>クイックスタート: Azure portal を使用して Azure Attestation を設定する

## <a name="prerequisites"></a>前提条件

Azure サブスクリプションをお持ちでない場合は、開始する前に [無料アカウント](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) を作成してください。

Azure portal を使用して構成証明プロバイダーを管理するには、以下の手順に従います。

## <a name="1-attestation-provider"></a>1. 構成証明プロバイダー

### <a name="11-create-an-attestation-provider"></a>1.1 構成証明プロバイダーを作成する

#### <a name="111-to-configure-the-provider-with-unsigned-policies"></a>1.1.1 署名されていないポリシーを使用してプロバイダーを構成する

1.  Azure portal メニューまたは [ホーム] ページで、 **[リソースの作成]** を選択します
2.  検索ボックスに「**attestation**」と入力します
3.  結果リストから **[Microsoft Azure Attestation]** を選択します
4.  [Microsoft Azure Attestation] ページで **[作成]** を選択します
5.  [Create attestation provider]\(構成証明プロバイダーの作成\) ページで、次の情報を入力します。
    
    **サブスクリプション**:サブスクリプションを選択します。
    
    **[リソース グループ]** : 既存のリソース グループを選択するか、 **[新規作成]** を選択してリソース グループ名を入力します
    
    **[名前]** : 一意の名前が必要です

    **[場所]** : 場所を選択します 
    
    **[Policy signer certificates file]\(ポリシー署名者証明書ファイル\)** : 署名されていないポリシーを使用してプロバイダーを構成する場合、ポリシー署名者証明書ファイルはアップロードしません 
6.  必要な情報を入力したら、 **[Review+Create]\(確認および作成\)** をクリックします
7.  検証の問題がある場合は修正し、 **[作成]** をクリックします。

#### <a name="112-to-configure-the-provider-with-signed-policies"></a>1.1.2 署名済みのポリシーを使用してプロバイダーを構成するには

1.  Azure portal メニューまたは [ホーム] ページで、 **[リソースの作成]** を選択します
2.  検索ボックスに「**attestation**」と入力します
3.  結果リストから **[Microsoft Azure Attestation]** を選択します
4.  [Microsoft Azure Attestation] ページで **[作成]** を選択します
5.  [Create attestation provider]\(構成証明プロバイダーの作成\) ページで、次の情報を入力します。
    
    a. **サブスクリプション**:サブスクリプションを選択します。
    
    b. **[リソース グループ]** : 既存のリソース グループを選択するか、 **[新規作成]** を選択してリソース グループ名を入力します
    
    c. **[名前]** : 一意の名前が必要です

    d. **[場所]** : 場所を選択します 
    
    e. **[Policy signer certificates file]\(ポリシー署名者証明書ファイル\)** : ポリシー署名証明書を使用して構成証明プロバイダーを構成するには、証明書ファイルをアップロードします。 [こちら](./policy-signer-examples.md)の例を参照してください 
6.  必要な情報を入力したら、 **[Review+Create]\(確認および作成\)** をクリックします
7.  検証の問題がある場合は修正し、 **[作成]** をクリックします。

### <a name="12-view-attestation-provider"></a>1.2 構成証明プロバイダーを表示する

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力し、それを選択します

### <a name="13-delete-attestation-provider"></a>1.3 構成証明プロバイダーを削除する

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  チェック ボックスをオンにし、 **[削除]** をクリックします
4.  「yes」と入力し、 **[削除]** をクリックします。または...
1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  上部のメニューの **[削除]** をクリックし、 **[はい]** をクリックします


## <a name="2-attestation-policy-signers"></a>2. 構成証明ポリシーの署名者

### <a name="21-view-policy-signer-certificates"></a>2.1 ポリシー署名者証明書を表示する

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  左側のリソース メニューまたは下部のペインで **[Policy signer certificates]\(ポリシー署名者証明書\)** をクリックします
5.  **[Download policy signer certificates]\(ポリシー署名者証明書のダウンロード\)** をクリックします (このボタンは、ポリシー署名要件なしで作成された構成証明プロバイダーでは無効になります)
6.  ダウンロードされるテキスト ファイルには、すべての証明書が JWS 形式で含まれます。
a.  証明書の数とダウンロードされた証明書を確認します。

### <a name="22-add-policy-signer-certificate"></a>2.2 ポリシー署名者証明書を追加する

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  左側のリソース メニューまたは下部のペインで **[Policy signer certificates]\(ポリシー署名者証明書\)** をクリックします
5.  上部のメニューの **[追加]** をクリックします (このボタンは、ポリシー署名要件なしで作成された構成証明プロバイダーでは無効になります)
6.  ポリシー署名者証明書ファイルをアップロードし、 **[追加]** をクリックします。 [こちら](./policy-signer-examples.md)の例を参照してください

### <a name="23-delete-policy-signer-certificate"></a>2.3 ポリシー署名者証明書を削除する

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  左側のリソース メニューまたは下部のペインで **[Policy signer certificates]\(ポリシー署名者証明書\)** をクリックします
5.  上部のメニューの **[削除]** をクリックします (このボタンは、ポリシー署名要件なしで作成された構成証明プロバイダーでは無効になります)
6.  ポリシー署名者証明書ファイルをアップロードし、 **[削除]** をクリックします。 [こちら](./policy-signer-examples.md)の例を参照してください 

## <a name="3-attestation-policy"></a>3. 構成証明ポリシー

### <a name="31-view-attestation-policy"></a>3.1 構成証明ポリシーを表示する

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  左側のリソース メニューまたは下部のペインで **[ポリシー]** をクリックします
5.  目的の **[構成証明の種類]** を選択し、 **[現在のポリシー]** を表示します

### <a name="32-configure-attestation-policy"></a>3.2 構成証明ポリシーを構成する

#### <a name="321-when-attestation-provider-is-created-without-policy-signing-requirement"></a>3.2.1 構成証明プロバイダーがポリシー署名要件なしで作成されている場合

##### <a name="upload-policy-in-jwt-format"></a>JWT 形式でポリシーをアップロードする

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  左側のリソース メニューまたは下部のペインで **[ポリシー]** をクリックします
5.  上部のメニューで、 **[構成]** をクリックします
6.  構成証明プロバイダーがポリシー署名要件なしで作成されている場合、ユーザーは、ポリシーを **JWT** または **テキスト** 形式でアップロードできます
7.  **[Policy Format]\(ポリシーの形式\)** を **[JWT]** として選択します
8.  ポリシーの内容を含んだポリシー ファイルを **署名なし JWT または署名付き JWT** 形式でアップロードし、 **[保存]** をクリックします。 [こちら](./policy-examples.md)の例を参照してください
    
    ファイルのアップロード オプションには、ポリシーのプレビューがテキスト形式で表示されます。また、ポリシーのプレビューは編集できません。

7.  上部のメニューにある **[Refresh]\(最新の情報に更新\)** をクリックすると、構成済みのポリシーが表示されます

##### <a name="upload-policy-in-text-format"></a>テキスト形式でポリシーをアップロードする

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  左側のリソース メニューまたは下部のペインで **[ポリシー]** をクリックします
5.  上部のメニューで、 **[構成]** をクリックします
6.  構成証明プロバイダーがポリシー署名要件なしで作成されている場合、ユーザーは、ポリシーを **JWT** または **テキスト** 形式でアップロードできます
7.  **[Policy Format]\(ポリシーの形式\)** を **[テキスト]** として選択します
8.  **テキスト** 形式の内容を含んだポリシー ファイルをアップロードするか、またはポリシーの内容をテキスト領域に入力して **[保存]** をクリックします。 [こちら](./policy-examples.md)の例を参照してください

    ファイルのアップロード オプションには、ポリシーのプレビューがテキスト形式で表示されます。また、ポリシーのプレビューは編集できません。

8.  **[Refresh]\(最新の情報に更新\)** をクリックすると、構成済みのポリシーが表示されます

#### <a name="322-when-attestation-provider-is-created-with-policy-signing-requirement"></a>3.2.2 構成証明プロバイダーがポリシー署名要件付きで作成されている場合

##### <a name="upload-policy-in-jwt-format"></a>JWT 形式でポリシーをアップロードする

1.  Azure portal メニューまたは [ホーム] ページから、 **[すべてのリソース]** を選択します
2.  フィルター ボックスに、構成証明プロバイダーの名前を入力します
3.  構成証明プロバイダーを選択し、概要ページに移動します
4.  左側のリソース メニューまたは下部のペインで **[ポリシー]** をクリックします
5.  上部のメニューで、 **[構成]** をクリックします
6.  構成証明プロバイダーが署名要件付きで作成されている場合、ユーザーは、**署名付き JWT 形式** でのみポリシーをアップロードできます
7.  **署名付き JWT 形式** でポリシー ファイルをアップロードし、 **[保存]** をクリックします。 [こちら](./policy-examples.md)の例を参照してください

    ファイルのアップロード オプションには、ポリシーのプレビューがテキスト形式で表示されます。また、ポリシーのプレビューは編集できません。
    
8.  **[Refresh]\(最新の情報に更新\)** をクリックすると、構成済みのポリシーが表示されます

## <a name="next-steps"></a>次のステップ

- [構成証明ポリシーを作成して署名する方法](author-sign-policy.md)
- [コード サンプルを使用して SGX エンクレーブの構成証明を行う](/samples/browse/?expanded=azure&terms=attestation)

