---
title: Azure Migrate Server Assessment で評価を作成するためのベスト プラクティス |Microsoft Docs
description: Azure Migrate Server Assessment を使用して評価を作成するためのヒントを提供します。
author: rayne-wiselman
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 07/15/2019
ms.author: raynew
ms.openlocfilehash: 18b82b5553f7045c38c9de532199c2a0fd815ee1
ms.sourcegitcommit: b2db98f55785ff920140f117bfc01f1177c7f7e2
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/16/2019
ms.locfileid: "68234313"
---
# <a name="best-practices-for-creating-assessments"></a>評価を作成するためのベスト プラクティス

[Azure Migrate](migrate-overview.md) では、アプリ、インフラストラクチャ、およびワークロードを検出、評価、および Microsoft Azure に移行するために役立つツールのハブが提供されます。 このハブには、Azure Migrate ツールと、サードパーティ製の独立系ソフトウェア ベンダー (ISV) オファリングが含まれています。

この記事では、Azure Migrate Server Assessment ツールを使用して評価を作成する際のベスト プラクティスについて説明します。

## <a name="about-assessments"></a>評価について

Azure Migrate Server Assessment を使用して作成した評価は、特定の時点におけるデータのスナップショットです。 Azure Migrate には、2 種類の評価があります。

**評価の種類** | **詳細** | **データ**
--- | --- | ---
**パフォーマンスベース** | 収集されたパフォーマンス データに基づいて推奨を行う評価 | VM サイズの推奨値は、CPU とメモリの使用率データに基づきます。<br/><br/> ディスクの種類に関する推奨事項 (標準 HDD/SSD またはプレミアム マネージド ディスク) は、オンプレミス ディスクの IOPS とスループットに基づきます。
**現状のオンプレミス** | パフォーマンス データを使用せずに推奨を行う評価。 | VM サイズに関する推奨事項は、オンプレミスの VM サイズに基づきます<br/><br> 推奨されるディスクの種類は、評価の [ストレージの種類] 設定で選択した内容に基づきます。

### <a name="example"></a>例
たとえば、オンプレミスの VM で 4 コア CPU の使用率が 20%、8 GB メモリの使用率が 10% の場合、評価は次のようになります。

- **パフォーマンスベースの評価**:
    - コア (4 x 0.20 = 0.8) とメモリ (8 GB x 0.10 = 0.8) の使用率に基づいて、有効なコアとメモリを識別します。
    - 評価のプロパティで指定された快適性係数 (たとえば 1.3 x) を適用して、サイズ変更に使用する値を取得します。 
    - 最大 1.4 コア (0.8 x 1.3) の CPU と最大 1.4 GB (0.8 x 1.3) のメモリをサポートできる、直近の VM サイズを推奨します。

- **現状 (オンプレミス) での評価**:
    -  4 コア、8 GB メモリの VM を推奨します。

## <a name="best-practices-for-creating-assessments"></a>評価を作成するためのベスト プラクティス

Azure Migrate アプライアンスは、オンプレミス環境のプロファイリングを継続的に行い、メタデータとパフォーマンスデータを Azure に送信します。 評価を作成する際には、次のベスト プラクティスに従ってください。

- **現状評価の作成**:現状評価は、Azure Migrate ポータルにコンピューターが表示されたらすぐに作成できます。
- **パフォーマンスベース評価の作成**:パフォーマンスベースの評価は、検出を設定した後、少なくとも 1 日待機してから実行することをお勧めします。
    - パフォーマンス データの収集には時間がかかります。 少なくとも 1 日待機することで、評価を実行する前に十分なパフォーマンス データ ポイントを確保できます。
    - パフォーマンスベースの評価を実行する場合は、評価期間に合わせて環境をプロファイリングするようにしてください。 たとえば、パフォーマンス期間を 1 週間に設定して評価を作成する場合は、すべてのデータ ポイントを収集するために、検出を開始してから少なくとも 1 週間待つ必要があります。 そうしないと、5 つ星の評価は得られません。
- **評価の再計算**:評価は特定の時点のスナップショットであるため、最新のデータで自動的に更新されることはありません。 最新のデータを使用して評価を更新するには、評価を再計算する必要があります。

## <a name="best-practices-for-confidence-ratings"></a>信頼度レーティングのベスト プラクティス

パフォーマンスベースの評価を実行すると、評価に 1 つ星 (最低) から 5 つ星 (最高) までの信頼度レーティングが割り当てられます。 信頼度レーティングを効果的に使用するには、次の条件を満たす必要があります。
- Azure Migrate Server Assessment で、VM の CPU/メモリ使用率データが必要です。
- オンプレミス VM に接続されている各ディスクについて、読み取り/書き込みの IOPS/スループットが必要です。
- VM に接続されている各ネットワーク アダプターについて、ネットワークの入出力データが必要です。

評価の信頼度レーティングは、選択された期間に使用可能なデータ ポイントの割合に応じて、次の表のように判定されます。

   **データ ポイントの可用性** | **信頼度レーティング**
   --- | ---
   0% - 20% | 1 つ星
   21% - 40% | 2 つ星
   41% - 60% | 3 つ星
   61% - 80% | 4 つ星
   81% - 100% | 5 つ星


## <a name="common-assessment-issues"></a>評価に関する一般的な問題

ここでは、評価に影響を与える一般的な環境の問題に対処する方法について説明します。

###  <a name="out-of-sync-assessments"></a>評価が同期されていない

評価を作成した後にグループのマシンを追加または削除した場合、作成した評価は**同期されていない**ものとしてマークされます。グループの変更を反映するには、評価を再度実行 (**再計算**) してください。

### <a name="outdated-assessments"></a>評価が古い

評価されたグループ内の VM に対してオンプレミスでの変更があった場合、その評価は**古い**評価としてマークされます。 変更を反映するには、評価を再度実行してください。

### <a name="low-confidence-rating"></a>信頼度レーティングが低い

さまざまな理由により、評価で一部のデータ ポイントを使用できない場合があります。

- 評価を作成するための期間用の環境をプロファイルしませんでした。 たとえば、パフォーマンス期間を 1 週間に設定した*パフォーマンス ベースの評価*を作成する場合は、すべてのデータポイントが収集されるまで、検出を始めてから少なくとも 1 週間待つ必要があります。 いつでも、 **[再計算]** をクリックして、最新の該当する信頼度レーティングを確認できます。 信頼度レーティングは*パフォーマンス ベース*の評価を作成する場合にのみ適用されます。

- 評価の計算対象である期間中に、いくつかの VM がシャットダウンされました。 いずれかの VM でしばらく電源がオフになっていた場合、Server Assessment ではその期間のパフォーマンス データを収集できません。

- Server Assessment で検出が開始された後で、いくつかの VM が作成されました。 たとえば、過去 1 か月間のパフォーマンス履歴の評価を作成しているのに、ほんの 1 週間前にいくつかの VM が環境内に作成されたとします。 この場合、新しい VM のパフォーマンス データは期間全体を通しては利用できず、信頼度レーティングが低くなります。


## <a name="next-steps"></a>次の手順

- 評価の計算方法を[確認](concepts-assessment-calculation.md)します。
- 評価のカスタマイズ方法を[確認](how-to-modify-assessment.md)します。
