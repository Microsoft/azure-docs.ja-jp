---
title: 複合エンティティをアップグレードする - LUIS
description: LUIS ポータルでアップグレード プロセスを使用して、複合エンティティを機械学習エンティティにアップグレードします。
ms.topic: how-to
ms.date: 05/04/2020
ms.openlocfilehash: 58b546a27c1ff1e90e1b70026f430063a47a09e8
ms.sourcegitcommit: 50673ecc5bf8b443491b763b5f287dde046fdd31
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/20/2020
ms.locfileid: "83684076"
---
# <a name="upgrade-composite-entity-to-machine-learning-entity"></a>複合エンティティを機械学習エンティティにアップグレードする

複合エンティティを機械学習エンティティにアップグレードすると、エンティティをデバッグするための分解可能性が向上し、より完全な予測を受け取るエンティティが構築されます。

## <a name="current-version-model-restrictions"></a>現在のバージョンのモデルの制限

アップグレード プロセスにより、アプリ内で検出された既存の複合エンティティに基づいて機械学習エンティティが作成され、新しいバージョンのアプリに組み込まれます。 これには、複合エンティティの子とロールが含まれます。 また、このプロセスでは、発話の例のラベルが、新しいエンティティを使用するように切り替えられます。

## <a name="upgrade-process"></a>アップグレード プロセス

アップグレード プロセス:
* 複合エンティティごとに新しい機会学習エンティティを作成します。
* 子エンティティ:
    * 子エンティティが複合エンティティでのみ使用されている場合、その子エンティティは機械学習エンティティにのみ追加されます。
    * 子エンティティが複合で使用され、_かつ_ (発話の例でラベルが付けられた) 個別エンティティとして使用されている場合、その子エンティティは、エンティティとしてバージョンに追加され、さらにサブエンティティとして新しい機械学習エンティティに追加されます。
    * 子エンティティがロールを使用している場合、各ロールは同じ名前のサブエンティティに変換されます。
    * 子エンティティが非機械学習エンティティ (正規表現、リスト エンティティ、または事前構築済みエンティティ) である場合は、同じ名前で新しいサブエンティティが作成されます。その新しいサブエンティティには、必要な機能が追加された非機械学習エンティティを使用する機能があります。
* 名前は保持されますが、同じサブエンティティ/兄弟レベルで一意である必要があります。 [一意の名前付けの制限](luis-boundaries.md#name-uniqueness)に関する記事を参照してください。
* 発話の例のラベルは、サブエンティティを持つ新しい機械学習エンティティに切り替えられます。

次の表に、モデルがどのように変化するかを示します。

|古いオブジェクト|新しいオブジェクト|Notes|
|--|--|--|
|複合エンティティ|構造がある機械学習エンティティ|どちらのオブジェクトも親オブジェクトです。|
|複合の子エンティティが**簡易エンティティ**|サブエンティティ|どちらのオブジェクトも子オブジェクトです。|
|複合の子エンティティが、Number などの**事前構築済みエンティティ**|Number などの事前構築済みエンティティの名前を持つサブエンティティ。このサブエンティティは、事前構築済み Number エンティティの_機能_ を持ち、制約オプションが _true_ に設定されています。|サブエンティティには、サブエンティティ レベルでの制約がある機能が含まれます。|
|複合の子エンティティが、Number などの**事前構築済みエンティティ**であり、その事前構築済みエンティティに**ロール**がある|ロールの名前を持つサブエンティティ。このサブエンティティは、事前構築済み Number エンティティの機能を持ち、制約オプションが true に設定されています。|サブエンティティには、サブエンティティ レベルでの制約がある機能が含まれます。|
|Role|サブエンティティ|ロール名がサブエンティティ名になります。 サブエンティティは、機械学習エンティティの直接の子孫です。|

## <a name="begin-upgrade-process"></a>アップグレード プロセスを開始する

更新を行う前に、次のことを行ってください。

* アップグレードする正しいバージョンを使用していない場合はバージョンを切り替える


1. 通知からアップグレード プロセスを開始します。また、次のスケジュールされたプロンプトまで待機することもできます。

    > [!div class="mx-imgBorder"]
    > ![通知からアップグレードを開始する](./media/update-composite-entity/notification-begin-update.png)

1. ポップアップで、 **[Upgrade now]\(今すぐアップグレード\)** を選択します。

1. **[What happens when you upgrade]\(アップグレードすると何が行われるか\)** の情報を確認し、 **[Continue]\(続行\)** を選択します。

1. アップグレードする複合エンティティを一覧から選択し、 **[Continue]\(続行\)** を選択します。

1. チェックボックスをオンにすると、トレーニングされていない変更を、現在のバージョンからアップグレードされたバージョンに移行できます。

1. **[Continue]\(続行\)** を選択してアップグレード プロセスを開始します。

1. 進行状況バーに、アップグレード プロセスの状態が示されます。

1. プロセスが完了すると、新しい機械学習エンティティを含む、新しいトレーニング済みのバージョンになります。 **[Try your new entities]\(新しいエンティティを試す\)** を選択して、新しいエンティティを表示します。

    新しいエンティティのアップグレードまたはトレーニングが失敗した場合は、詳細な情報が通知されます。

1. エンティティの一覧ページで、新しいエンティティには、型名の横に **[NEW]\(新規\)** というマークが表示されます。

## <a name="next-steps"></a>次のステップ

* [作成者とコラボレーター](luis-how-to-collaborate.md)