---
title: モデルを使用した設計 - LUIS
titleSuffix: Azure Cognitive Services
description: 言語を理解するために、いくつかの種類のモデルを使用できます。 複数の方法で使用できるモデルもあります。
services: cognitive-services
author: diberry
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 10/25/2019
ms.author: diberry
ms.openlocfilehash: d721ceb25b3ce2408563a0bed16457d05affe7b4
ms.sourcegitcommit: 653e9f61b24940561061bd65b2486e232e41ead4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2019
ms.locfileid: "74280880"
---
# <a name="design-with-intent-and-entity-models"></a>意図およびエンティティ モデルを使用した設計 

言語を理解するために、いくつかの種類のモデルを使用できます。 複数の方法で使用できるモデルもあります。 

## <a name="v3-authoring-uses-machine-teaching"></a>V3 作成では、機械学習を使用します

LUIS を使用すると、簡単に概念をコンピューターに教えることができます。 その後、コンピューターは、インテリジェントなアプリケーションを作成するために使用できるモデル (分類子やエクストラクターなどの概念の機能的な近似) を構築できます。 LUIS は機械学習を利用していますが、それを使用するために機械学習について理解する必要はありません。 代わりに、コンピューター教師は、概念の肯定的および否定的な例を示し、他の関連する概念を使用して概念をモデル化する方法を説明することで、概念を LUIS に伝えます。 コンピューター教師は、予測ミスを特定して修正することで、LUIS のモデルを対話形式で向上させることもできます。 

## <a name="v3-authoring-model-decomposition"></a>V3 作成モデルの分解

LUIS は、V3 作成 API を使用した_モデル分解_をサポートし、モデルをより小さな部分に分割します。 これにより、さまざまな部分がどのように構築および予測されるかについて自信を持ってモデルを構築することができます。

モデルの分解には、次の部分があります。

* [意図](#intents-classify-utterances)
    * 機能によって提供される[記述子](#descriptors-are-features)
* [機械学習エンティティ](#machine-learned-entities):
    * [サブコンポーネント](#entity-subcomponents-help-extract-data) (機械学習エンティティ)
        * 機能によって提供される[記述子](#descriptors-are-features) 
        * 正規表現、リストなどの非機械学習エンティティによって提供される[制約](#constraints-are-text-rules)

## <a name="v2-authoring-models"></a>V2 作成モデル

LUIS では、V2 作成 API を使用した複合エンティティがサポートされています。 これは同様のモデル分解を提供しますが、V3 のモデル分解と同じではありません。 推奨されるモデル アーキテクチャは、V3 作成 API のモデル分解に移行することです。 

## <a name="intents-classify-utterances"></a>意図分類発話

意図は、発話の例を分類して、意図について LUIS を教えます。 意図内の発話の例は、発話の肯定的な例として使用されます。 これらの同じ発話は、他のすべての意図で否定的な例として使用されます。

本を注文するためにユーザーの意図を判断する必要があるアプリ、および顧客の発送先住所が必要なアプリを考えてみましょう。 このアプリには、`OrderBook` と `ShippingLocation`の 2 つの意図があります。

次の発話は、`OrderBook` 意図の**肯定的な例**と、`ShippingLocation` と `None` の意図の**否定的な例**です。 

`Buy the top-rated book on bot architecture.`

適切にデザインされた意図の結果とそれらの例の発話は、高い意図予測です。 

## <a name="entities-extract-data"></a>データを抽出するエンティティ

エンティティは、発話から抽出するデータの単位を表します。 

### <a name="machine-learned-entities"></a>機械学習エンティティ

機械学習されたエンティティは、サブコンポーネントを含む最上位レベルのエンティティであり、機械学習されたエンティティでもあります。 

**次のように機械学習エンティティを使用します。**

* クライアント アプリケーションでサブコンポーネントが必要な場合
* 機械学習アルゴリズムによるエンティティの分解を支援するため

各サブコンポーネントには次のものがあります。

* サブコンポーネント
* 制約 (正規表現エンティティまたはリスト エンティティ)
* 記述子 (語句リストなどの機能) 

機械学習エンティティの例としては、航空券の注文があります。 概念的には、これは、日付、時刻、座席数、ファースト クラスまたはコーチなどの座席の種類、出発地、目的地、食事の選択など、多くの小さなデータ単位を持つ 1 つのトランザクションです。


### <a name="entity-subcomponents-help-extract-data"></a>エンティティ サブコンポーネントはデータの抽出に役立ちます

サブコンポーネントは、機械学習親エンティティ内の機械学習子エンティティです。 

**サブコンポーネントを使用して次の操作を行います。**

* 機械学習エンティティ (親エンティティ) の部分を分解します。

次に、すべての個別のデータを含む機械学習エンティティを示します。

* TravelOrder (機械学習エンティティ)
    * DateTime (事前構築済みの datetimeV2)
    * Location (機械学習エンティティ)
        * Origin (`from` などのコンテキストを介して検出されるロール)
        * Destination (`to` などのコンテキストを介して検出されるロール)
    * Seating (機械学習エンティティ)
        * Quantity (事前構築済みの数値)
        * Quality (語句リストの記述子を含む機械学習エンティティ)
    * Meals (食品の選択肢としてリスト エンティティの制約を含む機械学習エンティティ)

このようなデータの一部 (出発地や目的地など) は、発話のコンテキスト (たとえば `from` や `to`のような表現) から学習する必要があります。 文字列の完全一致 (`Vegan`) または事前に構築されたエンティティ (`Seattle` と `Cairo` の geographyV2) を使用して、データのその他の部分を抽出できます。 

選択したモデルとその構成方法によって、データの照合方法と抽出方法を設計します。

### <a name="constraints-are-text-rules"></a>制約はテキスト ルールです。

制約とは、正規表現エンティティやリスト エンティティなど、機械学習ではないエンティティによって提供されるテキスト照合ルールです。 制約は予測時間に適用され、予測を制限し、クライアント アプリケーションに必要なエンティティの解決を提供します。 これらのルールは、サブコンポーネントを作成するときに定義します。 

**制約の使用**:
* 抽出するテキストが正確にわかっている場合。

次の制約があります。

* [正規表現](reference-entity-regular-expression.md)エンティティ
* [リスト](reference-entity-list.md) エンティティ 
* [事前構築済み](luis-reference-prebuilt-entities.md)のエンティティ

航空券の例を引き続き使用すると、テキストの正確な一致のためにリスト エンティティに空港コードを含めることができます。 

空港リストの場合、シアトルのリスト エントリは都市名、`Seattle` およびシアトルのシノニムには、周囲の町や都市と共にシアトルの空港コードが含まれます。

|`Seattle` リスト エンティティのシノニム|
|--|
|`Sea`|
|`seatac`|
|`Bellevue`|

空港コードの 3 文字のコードのみを認識する場合は、制約として正規表現を使用します。 

`/^[A-Z]{3}$/`

## <a name="intents-versus-entities"></a>意図とエンティティ

意図は、発話_全体_の目的とする結果であり、エンティティは発話から抽出されたデータの一部です。 通常、意図はクライアント アプリケーションが実行するアクションに関連付けられており、エンティティはこのアクションを実行するために必要な情報です。 プログラミングの観点からは、意図によってメソッドの呼び出しがトリガーされ、そのエンティティがメソッド呼び出しのパラメーターとして使用されます。

この発話は、意図を持つ _必要があり_、多くのエンティティを持つ _場合があります_。

`Buy an airline ticket from Seattle to Cairo`

この発話には 1 つの意図があります。

* 航空券の購入

この発話にはいくつかのエンティティがある _場合があります_。

* シアトル (出発地) とカイロ (目的先) の場所
* 1 つのチケットの枚数

## <a name="descriptors-are-features"></a>記述子は機能です。

記述子は、語句リストやエンティティなど、トレーニング時にモデルに適用される機能です。 

**次の操作を実行する場合は、記述子を使用します。**

* 記述子によって識別される語句の重要性を高める
* 記述子に推奨する新しいテキストまたは語句を LUIS に推奨する
* トレーニング データのエラーを修正する

## <a name="next-steps"></a>次の手順

* [意図](luis-concept-intent.md)と[エンティティ](luis-concept-entity-types.md)を理解する 