---
title: 顔検出と顔属性の概念
titleSuffix: Azure Cognitive Services
description: 顔検出は、画像内の人間の顔を特定し、必要に応じて顔に関連するさまざまなデータを返すアクションです。
services: cognitive-services
author: PatrickFarley
manager: nitime
ms.service: cognitive-services
ms.subservice: face-api
ms.topic: conceptual
ms.date: 04/26/2019
ms.author: pafarley
ms.openlocfilehash: 68d1e9744d937cf80327c3f41cc69f4af97d3400
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/19/2021
ms.locfileid: "98600179"
---
# <a name="face-detection-and-attributes"></a>顔検出と顔属性

この記事では、顔検出と顔属性のデータの概念について説明します。 顔検出は、画像内の人間の顔を特定し、必要に応じて顔に関連するさまざまなデータを返すアクションです。

画像内の顔を検出するには、[Face - Detect](https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236) (顔 - 検出) 操作を使用します。 少なくとも、検出されたそれぞれの顔は応答の faceRectangle フィールドに対応します。 左、上、幅、高さを示すこのピクセル座標のセットによって、特定された顔がマークされます。 これらの座標を使用して、顔の位置とそのサイズを取得できます。 API 応答では、顔はサイズの大きいものから小さいものの順に一覧表示されます。

## <a name="face-id"></a>顔 ID

顔 ID は、画像内で検出されたそれぞれの顔に対する一意識別子文字列です。 顔 ID は、[Face - Detect](https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236) (顔 - 検出) API 呼び出しで要求することができます。

## <a name="face-landmarks"></a>顔のランドマーク

顔のランドマークとは、瞳孔、鼻の先端など、顔の中の見つけやすいポイントのセットのことです。 既定では、27個 の定義済みランドマーク ポイントがあります。 次の図は、27 か所のポイントを示したものです。

![顔のランドマーク (全 27 か所) とラベルを示した図](../Images/landmarks.1.jpg)

ポイントの座標はピクセル単位で返されます。

## <a name="attributes"></a>属性

属性は、[Face - Detect](https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236) (顔 - 検出) API で必要に応じて検出できる特徴のセットです。 次の属性を検出できます。

* **年齢**。 特定の顔の推定年齢。
* **ぼかし**。 画像内の顔のぼかしの程度。 この属性は、0 から 1 までの間の値と、非公式の評価 (低、中、または高) を返します。
* **感情**。 感情のリストと、特定の顔に対する検出の信頼度。 信頼度スコアは正規化され、すべての感情スコアの合計は 1 になります。 返される感情は、喜び、悲しみ、中立、怒り、軽蔑、嫌悪感、驚き、恐怖です。
* **露出**。 画像内の顔の露出の程度。 この属性は、0 から 1 までの間の値と、非公式の評価 (underExposure、goodExposure、または overExposure) を返します。
* **顔ひげ**。 特定の顔について推定される顔ひげの有無と長さ。
* **性別**。 特定の顔について推定される性別。 可能な値は、男性、女性、および性別なしです。
* **眼鏡**。 特定の顔に眼鏡があるかどうか。 可能な値は、NoGlasses、ReadingGlasses、Sunglasses、および Swimming Goggles です。
* **髪の毛**。 顔の髪質。 この属性は、髪の毛が見えるかどうか、はげが検出されたかどうか、どのような髪の色が検出されたかを示します。
* **頭部姿勢**。 3 次元空間での顔の向き。 この属性は、ピッチ、ロール、およびヨー角度 (度数) で表現されます。 値の範囲は、それぞれ -90 度から 90 度、- 90 度から 90 度、-90 度から 90 度です。 角度のマッピングについては以下の図を参照してください。

    ![ピッチ、ロール、およびヨーの軸のラベルが付いた頭部](../Images/headpose.1.jpg)
* **化粧**。 顔に化粧があるかどうか。 この属性は eyeMakeup および lipMakeup についてのブール値を返します。
* **ノイズ**。 顔の画像で検出された視覚ノイズ。 この属性は、0 から 1 までの間の値と、非公式の評価 (低、中、または高) を返します。
* **オクルージョン**。 顔のパーツをブロックするオブジェクトがあるかどうか。 この属性は、eyeOccluded、foreheadOccluded、および mouthOccluded についてのブール値を返します。
* **笑顔**。 特定の顔の笑顔表現。 この値は、0 (笑顔なし) から 1 (鮮明な笑顔) までです。

> [!IMPORTANT]
> 顔属性は統計的アルゴリズムを使用して予測されます。 必ずしも正確とは限りません。 属性データに基づいて意思決定を行う場合は、注意が必要です。

## <a name="input-data"></a>入力データ

次のヒントを使用して、入力画像から最も正確な検出結果が得られるようにしてください。

* サポートされている入力画像形式は、JPEG、PNG、GIF (最初のフレーム)、BMP です。
* 画像ファイル サイズは 6 MB 以内であることが必要です。
* 検出可能な最小の顔のサイズは、1920 x 1080 ピクセル以下の画像では 36 x 36 ピクセルです。 1920 x 1080 ピクセルより大きい画像では、最小の顔のサイズも比例して大きくなります。 顔のサイズを小さくすると、検出可能な最小の顔のサイズより大きい場合でも、一部の顔が検出されない可能性があります。
* 検出可能な最大の顔のサイズは、4096 x 4096 ピクセルです。
* 36 x 36 から 4096 x 4096 ピクセルのサイズ範囲外の顔は検出されません。
* 技術的な課題のために、一部の顔を検出できない場合があります。 顔の角度 (頭部姿勢) や顔のオクルージョン (顔のパーツをブロックするサングラスや手などの物体) が極端に大きい場合、検出に影響することがあります。 顔が正面または正面に近い方向を向いているときに、最善の結果が得られます。

ビデオ フィードから顔を検出する場合は、ビデオ カメラの特定の設定を調整することによってパフォーマンスを改善できる場合があります。

* **スムージング**:多くのビデオ カメラではスムージング効果が適用されます。 これによりフレーム間にぼかしが発生して鮮明さが失われるため、可能な場合はオフにしてください。
* **シャッター速度**:シャッター速度が速いほど、フレーム間の動きが少なくなり、各フレームがより鮮明になります。 1/60 秒よりも速いシャッター速度をお勧めします。
* **シャッター角度**:一部のカメラでは、シャッター速度の代わりにシャッター角度を指定します。 可能であれば低いシャッター角度を使用してください。 これにより、ビデオ フレームがより鮮明になります。

    >[!NOTE]
    > シャッター角度が小さいカメラは、各フレームで受ける光量が少なくなるため、画像が暗くなります。 使用する適切なレベルを決定する必要があります。

## <a name="next-steps"></a>次のステップ

顔検出の概念が理解できたので、特定の画像内の顔を検出するスクリプトを作成する方法について説明します。

* [画像内の顔を検出する](../Face-API-How-to-Topics/HowtoDetectFacesinImage.md)
