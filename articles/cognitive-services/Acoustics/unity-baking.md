---
title: Project Acoustics Unity ベイク チュートリアル
titlesuffix: Azure Cognitive Services
description: このチュートリアルでは、Unity の Project Acoustics での音響ベイクについて説明します。
services: cognitive-services
author: kegodin
manager: nitinme
ms.service: cognitive-services
ms.subservice: acoustics
ms.topic: tutorial
ms.date: 03/20/2019
ms.author: kegodin
ms.openlocfilehash: 8875674b0f9c621a573dda591b4dc2b6f018a83c
ms.sourcegitcommit: c174d408a5522b58160e17a87d2b6ef4482a6694
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2019
ms.locfileid: "59790231"
---
# <a name="project-acoustics-unity-bake-tutorial"></a>Project Acoustics Unity ベイク チュートリアル
このチュートリアルでは、Unity の Project Acoustics での音響ベイクについて説明します。

ソフトウェア要件:
* Windows 用の [Unity 2018.2 以上](http://unity3d.com)
* [Unity プロジェクトに統合されている Project Acoustics プラグイン](unity-integration.md)または[Project Acoustics Unity のサンプル コンテンツ](unity-quickstart.md)
* 省略可能:クラウド コンピューティングを使用してベイクを高速化するための [Azure Batch アカウント](create-azure-account.md)

## <a name="open-the-project-acoustics-bake-window"></a>Project Acoustics ベイク ウィンドウを開く
次のように、Unity メニューから **[Window]\(ウィンドウ\)、[Acoustics]\(音響\)** の順に選択します。

![Acoustics ウィンドウ メニュー オプションが強調表示されている Unity エディターのスクリーンショット](media/window-acoustics.png)

## <a name="create-a-navigation-mesh"></a>ナビゲーション メッシュの作成
Project Acoustics ではナビゲーション メッシュを使用して、シミュレーションのためにリスナー プローブ ポイントを配置します。 Unity の[ナビゲーション メッシュ ワークフロー](https://docs.unity3d.com/Manual/nav-BuildingNavMesh.html)を使用することも、別の 3D モデリング パッケージを使用して独自のメッシュを設計することもできます。 

## <a name="mark-acoustic-scene-objects"></a>音響シーン オブジェクトをマークする
Project Acoustics はシミュレーションのための 2 種類のシーン オブジェクトに依存します。1 つは、シミュレーションで音を反射して遮るオブジェクト、もう 1 つはシミュレーションでリスナー プローブ ポイントを制限するプレーヤー ナビゲーション メッシュです。 両方のオブジェクトの種類は、**[Objects]\(オブジェクト\)** タブを使用してマークされます。 

オブジェクトのマーキングでは **AcousticsGeometry** または **AcousticsNavigation** コンポーネントをオブジェクトに追加するだけであるため、[標準的な Unity コンポーネント ワークフロー](https://docs.unity3d.com/Manual/UsingComponents.html)を使用して、オブジェクトをマーク/マーク解除することもできます。 マークできるのは、Mesh Renderers\(メッシュ レンダラー\) と Terrains\(地形\) だけです。 他のすべてのオブジェクトの種類は無視されます。 チェック ボックスでは、影響を受けるすべてのオブジェクトがマーク/マーク解除されます。

### <a name="mark-acoustic-occlusion-and-reflection-geometry"></a>音響オクルージョンとリフレクション ジオメトリをマークする
**[Acoustics]** ウィンドウの **[Objects]\(オブジェクト\)** タブを開きます。 オブジェクトが音を遮る、反射する、または吸収する場合は、オブジェクトを**音響ジオメトリ**としてマークします。 音響ジオメトリには、地面、壁、屋根、窓と窓ガラス、ラグ、大型家具などを含めることができます。 これらのオブジェクトには任意のレベルの複雑さを使用できます。 シーンはシミュレーションの前にボクセル化されているため、小さなリーフを数多く含むツリーといった非常に詳細なメッシュでも、簡略化されたオブジェクトよりもベイクにかかる費用が少なくて済みます。

目に見えない衝突メッシュなど、音響に影響しないものは含めないでください。

プローブ計算時のオブジェクトの変換 (後述の **[Probes]\(プローブ\)** タブを使用) は、ベイクの結果で修正されます。 シーン内のマークされたオブジェクトのいずれかを移動するには、プローブの計算を再実行し、シーンを再ベイクする必要があります。

### <a name="mark-the-navigation-mesh"></a>ナビゲーション メッシュをマークする
Unity のワークフローを使用して作成されたナビゲーション メッシュは、音響システムによって取得されます。 独自のメッシュを使用するには、**[Objects]\(オブジェクト\)** タブからマークします。

### <a name="for-reference-the-objects-tab-parts"></a>参照用:[Objects]\(オブジェクト\) タブの各部
タブ ページの各部分を次に示します。

1. タブ選択ボタン (**[Objects]\(オブジェクト\)** タブが選択されています)。 これらのボタンを使用して、音響ベイクを実行するためのさまざまな手順を進めます (左から右へ)。
2. このページを使用して行う必要がある操作の簡単な説明。
3. 階層ウィンドウで使用可能なフィルター。 これを使用して、階層ウィンドウをフィルター処理し、指定した種類のオブジェクトだけを表示することで、それらのオブジェクトをより簡単にマークできます。 音響のオブジェクトをまだマークしていない場合、最後の 2 つのオプションを選択しても何も表示されません。 ただし、オブジェクトをマークした後は、マークされたオブジェクトを見つけるときにこれらのオプションが役立ちます。
4. オブジェクトが選択されていない場合、このセクションにはシーン内のすべてのオブジェクトの状態が表示されます。
    * Total\(合計\) - シーン内の非表示になっていないアクティブなオブジェクトの総数。
    * Ignored\(無視\) - Mesh Renderers\(メッシュ レンダラー\) または Terrains\(地形\) 以外のオブジェクトの数。
    * Mesh\(メッシュ\) - シーン内の Mesh Renderers\(メッシュ レンダラー\) オブジェクトの数。
    * Terrain\(地形\) - シーン内の Terrains\(地形\) オブジェクトの数。
    * Geometry\(ジオメトリ\) - "Acoustics Geometry"\(音響ジオメトリ\) としてマークされた、シーン内の Mesh\(メッシュ\) オブジェクトまたは Terrain\(地形\) オブジェクトの数。
    * Navigation\(ナビゲーション\) - "Acoustics Navigation"\(音響ナビゲーション\) としてマークされた、シーン内の Mesh\(メッシュ\) オブジェクトまたは Terrain\(地形\) オブジェクトの数。 この数には、Unity の NavMesh は含まれません。
5. シーン内の "マーク可能な" オブジェクトの総数を示します。これは、Mesh Renderers\(メッシュ レンダラー\) と Terrains\(地形\) のみです。 表示されているチェック ボックスを使用して、これらのオブジェクトを音響のジオメトリまたはナビゲーションとしてマーク (オブジェクトに適切なコンポーネントを追加) できます。
6. 何も選択されていない場合、この注記では、必要に応じて、マークするオブジェクトを選択するようユーザーに促します。 いずれかまたは両方のチェック ボックスをオンにすると、何も選択しなくても、シーン内のすべてのオブジェクトをマークできます。
7. オブジェクトが選択されている場合、このセクションには選択されているオブジェクトの状態だけが表示されます。
8. 選択されている "マーク可能な" オブジェクトの総数が表示されます。 チェック ボックスをオンまたはオフにすると、選択されているオブジェクトだけがマーク/マーク解除されます。

シーンで何も選択していない場合、[Objects]\(オブジェクト\) タブは次の画像のようになります。

![何も選択されていない Acoustics の [オブジェクト] タブのスクリーンショット](media/objects-tab-no-selection-detail.png)

シーンまたは階層ウィンドウで何かを選択している場合は、次の画像のようになります。

![選択内容が示された Acoustics の [オブジェクト] タブのスクリーンショット](media/objects-tab-selection-detail.png)

マークされているオブジェクトとマークされていないオブジェクトがある場合、該当するチェック ボックスに "混在" を示す値が表示されます。

![混在を示す選択アイコンが強調表示された Acoustics の [オブジェクト] タブのスクリーンショット](media/mixed-object-selection-detail.png)

チェック ボックスをクリックすると、すべてのオブジェクトが強制的にマークされ、もう一度クリックすると、すべてのオブジェクトのマークが解除されます。

ジオメトリとナビゲーションの両方でオブジェクトをマークできます。

## <a name="select-acoustic-materials"></a>音響マテリアルを選択する
オブジェクトがマークされたら、**[Materials]\(マテリアル\)** ボタンをクリックして音響マテリアルを割り当てます。 Project Acoustics のマテリアル システムは Unity ビジュアル マテリアルに関連付けられています。2 つのオブジェクトに別の音響マテリアルを割り当てるには、別のビジュアル マテリアルが必要です。

音響マテリアルは、各サーフェスから反射される音エネルギーの量を制御します。 既定の音響マテリアルの吸音はコンクリートに似ています。 Project Acoustics では、ビジュアル マテリアル名に基づいてマテリアルが提案されます。 音響マテリアルの 'カスタム' をマテリアルに割り当てて、吸収係数スライダーを有効にすることができます。

室内の特定のマテリアルの残響時間はその吸収係数に反比例し、ほとんどのマテリアルの吸収値は 0.01 ～ 0.20 の範囲です。 吸収係数がこの範囲外の場合、非常に吸収性が高いマテリアルです。

![吸収係数と残響時間の逆相関を示すグラフ](media/reverb-time-graph.png)

### <a name="for-reference-parts-of-the-materials-tab"></a>参照用:[Materials]\(マテリアル\) タブの各部
![Unreal の Acoustics の [マテリアル] タブのスクリーンショット](media/materials-tab-detail.png)

1. このページを表示するために使用する **[Materials]\(マテリアル\)** タブ ボタン。
2. このページを使用して行う必要がある操作の簡単な説明。
3. オンにすると、**Acoustics Geometry\(音響ジオメトリ\)** としてマークされたオブジェクトで使用されるマテリアルだけが一覧表示されます。 それ以外の場合は、シーンで使用されているすべてのマテリアルが一覧表示されます。
4. これらのオプションを使用して、後述の [Acoustics]\(音響\) 列 (6) のドロップダウンをクリックしたときに表示されるドロップダウン メニューの順序を変更します。 **[Name]\(名前\)** は、音響マテリアルを名前で並べ替えます。 [Absorptivity]\(吸収率\) は、吸収率の低いものから高いものの順に並べ替えます。
5. シーンで使用されているマテリアルの一覧。アルファベット順に並べ替えられています。 **[Show Marked Only]\(マークされているオブジェクトのみを表示\)** チェック ボックス (3) をオンにすると、**Acoustics Geometry\(音響ジオメトリ\)** としてマークされたオブジェクトで使用されるマテリアルだけが表示されます。 ここでマテリアルをクリックすると、シーン内のそのマテリアルを使用するすべてのオブジェクトが選択されます。
6. シーン マテリアルが割り当てられている音響マテリアルが表示されます。 シーン マテリアルを別の音響マテリアルに再割り当てするには、ドロップダウンをクリックします。 前述の **[Sort Acoustics By:]\(音響の並べ替え\)** のオプション (4) を使用して、ここで項目をクリックしたときに表示されるメニューの並べ替え順序を変更できます。
7. 前の列で選択したマテリアルの吸音係数が表示されます。 値 0 は完全に反射する (吸収しない) ことを意味し、値 1 は完全に吸収する (反射しない) ことを意味します。 選択したマテリアルが "Custom"\(カスタム\) である場合を除き、吸収係数を変更することはできません。
8. "Custom"\(カスタム\) に割り当てられているマテリアルの場合、スライダーが無効にならないので、スライダーを使用するか、値を入力して吸収係数を選択できます。

## <a name="calculate-and-review-listener-probe-locations"></a>リスナー プローブの場所を計算して確認する
マテリアルを割り当てた後、**[Probes]\(プローブ\)** タブに切り替え、**[Calculate]\(計算\)** をクリックしてシミュレーションのリスナー プローブ ポイントを配置します。

### <a name="what-the-calculate-button-calculates"></a>[Calculate...]\(計算...\) ボタンでの計算内容
**[Calculate...]\(計算...\)** ボタンでは、選択した音響シーン ジオメトリを使用して、シミュレーションのためのシーンを準備します。

1. シーン メッシュからジオメトリが取得され、ボクセル体積が計算されます。 ボクセル体積はシーン全体を囲む 3 次元体積であり、小さな立方体の "ボクセル" で構成されます。 ボクセルのサイズは、**[Simulation Resolution]\(シミュレーションの分解能\)** 設定で設定されたシミュレーションの周波数によって決まります。 各ボクセルは、"オープン エア" またはシーン ジオメトリを含むものとしてマークされます。 ボクセルにジオメトリが含まれている場合、ボクセルはそのジオメトリに割り当てられたマテリアルの吸収係数でタグ付けされます。
2. ナビゲーション メッシュを使用して、リスナー プローブ ポイントを配置します。 アルゴリズムによって、空間的な範囲、シミュレーション時間、ファイル サイズの競合に関する配慮のバランスが取られます。同時に、狭い廊下と小さいスペースには常にある程度の範囲を持たせるようにします。 一般的なプローブ ポイントでは、小さいシーンの 100 から大きいシーンの数千の範囲でカウントされます。

シーンのサイズやコンピューターの速度によっては、これらの計算に数分かかることがあります。

### <a name="review-voxel-and-probe-placement"></a>ボクセルとプローブの配置を確認する
ボクセル データとプローブ ポイントの両方の位置をプレビューし、シーンのベイク準備ができたことを確認します。 不完全なナビゲーション メッシュや欠落または余分な音響ジオメトリは、通常、プレビューですぐに確認できます。 [Gizmos]\(ギズモ\) メニューを使用して、ボクセルとプローブの配置を有効または無効にすることができます。

![Unity の [Gizmos] メニューのスクリーンショット](media/gizmos-menu.png)

音響ジオメトリを含むボクセルは、緑色のキューブとして表示されます。 シーンを調べ、ジオメトリである必要があるすべてのものにボクセルがあることを確認します。 シーン カメラは、ボクセルが示すオブジェクトから約 5 メートル以内に存在する必要があります。

粗分解能と細分解能で作成されたボクセルを比較すると、粗いボクセルは 2 倍の大きさになります。

![Unity エディターの粗いボクセル プレビューのスクリーンショット](media/voxel-cubes-preview.png)

実行時にリスナー プローブ ポイントの位置の間でシミュレーション結果が補間されます。 シーン内でプレーヤーが移動すると予想されるあらゆる場所の近くにプローブ ポイントがあることを確認します。

![Unity エディターのプローブ プレビューのスクリーンショット](media/probes-preview.png)

### <a name="take-care-with-scene-renames"></a>シーンの名前を変更する場合は注意が必要
シーン名は、プローブ ポイントの配置とボクセル化が保存されているファイルにシーンを接続するために使用されます。 プローブ ポイントの計算後にシーン名を変更すると、マテリアルの割り当てと配置データが失われるので、再実行する必要があります。

### <a name="for-reference-parts-of-the-probes-tab"></a>参照用:[Probes]\(プローブ\) タブの各部
![Unity の Acoustics の [プローブ] タブのスクリーンショット](media/probes-tab-detail.png)

1. このページを表示するために使用する **[Probes]\(プローブ\)** タブ ボタン。
2. このページを使用して行う必要がある操作の簡単な説明。
3. これらを使用して、シミュレーションの分解能を粗くするか細かくするかを選択します。 粗い方が高速ですが、ある程度のトレードオフがあります。 詳細については、後述の[ベイクの分解能](bake-resolution.md)に関する記事を参照してください。
4. このフィールドを使用して、音響データ ファイルを配置する場所を選択します。 [...] ボタンをクリックすると、フォルダー ピッカーを使用できます。 既定値は **Assets/AcousticsData** です。 この場所に **Editor** サブフォルダーも作成されます。 データ ファイルの詳細については、後述の「[データ ファイル](#Data-Files)」をご覧ください。
5. ここで指定したプレフィックスを使用して、このシーンのデータ ファイルに名前が付けられます。 既定値は "Acoustics_ [シーン名]" です。
6. プローブの計算後、上記の各コントロールは無効になります。 **[Clear]\(クリア\)** ボタンをクリックすると計算が消去され、新しい設定を使用して再計算できるようにコントロールが有効になります。
7. **[Calculate...]\(計算...\)** ボタンをクリックすると、シーンがボクセル化され、プローブ ポイントの位置が計算されます。 これはコンピューター上でローカルで実行されます。ベイクを実行する前に、これを実行する必要があります。

Project Acoustics のこのバージョンでは、プローブを手動で配置することはできません。プローブは、**[Probes]\(プローブ\)** タブで提供される自動プロセスを使用して配置する必要があります。

粗分解能と細分解能の詳細については、[ベイクの分解能](bake-resolution.md)に関する記事を参照してください。

## <a name="bake-your-scene-using-azure-batch"></a>Azure Batch を使用してシーンをベイクする
Azure Batch サービスを使用して、クラウド内のコンピューティング クラスターでシーンをベイクすることができます。 Project Acoustics Unity プラグインは Azure Batch に直接接続され、ベイク処理ごとに Azure Batch クラスターをインスタンス化、管理、破棄します。 **[Bake]\(ベイク\)** タブで、Azure の資格情報を入力し、クラスター マシンのタイプとサイズを選択して **[Bake]\(ベイク\)** をクリックします。

### <a name="for-reference-parts-of-the-bake-tab"></a>参照用:[Bake]\(ベイク\) タブの各部
![Unity の Acoustics の [ベイク] タブのスクリーンショット](media/bake-tab-details.png)

1. このページを表示するために使用する [Bake]\(ベイク\) タブ ボタン。
2. このページで実行する操作の簡単な説明。
3. Azure アカウントが作成された後、Azure 資格情報を入力するフィールド。 詳細については、「[Create an Azure Batch account (Azure Batch アカウントの作成)](create-azure-account.md)」をご覧ください。
4. Acoustics ツールセットの Docker イメージ タグ。
5. Azure Portal を起動して、サブスクリプションの管理、使用状況の監視、課金情報の表示などを実行します。 
6. 計算に使用する Azure Batch コンピューティング ノードのタイプ。 ノードのタイプは、ご利用の Azure データ センターの場所でサポートされている必要があります。 不明な場合は、**[Standard_F8s_v2]** のままにしておきます。
7. この計算に使用するノードの数。 ここで入力する数は、ベイクを完了するまでの時間に影響し、Azure Batch のコアの割り当てによって制限されます。 既定の割り当てで使用できるのは、2 つの 8 コア ノードまたは 1 つの 16 コア ノードだけですが、既定の割り当ては拡張できます。 コアの割り当ての制約の詳細については、「[Create an Azure Batch account (Azure Batch アカウントの作成)](create-azure-account.md)」をご覧ください。
8. [優先順位の低いノード](https://docs.microsoft.com/azure/batch/batch-low-pri-vms)を使用するようにコンピューティング プールを構成するには、このチェック ボックスを選択します。 優先順位の低いコンピューティング ノードはコストは格段に低く抑えられますが、常に使用できるわけではなかったり、いつでも割り込まれたりする可能性があります。
9. **[Probes]\(プローブ\)** タブで計算されたシーンのプローブ数。プローブの数によって、クラウドで実行する必要があるシミュレーションの数が決まります。 プローブよりも多くのノードを指定することはできません。
10. クラウドでジョブを実行したときの予想される経過時間。 これにはノードの起動時間は含まれません。 ジョブの実行が開始されたら、これは結果を返すまでの時間になります。 これは推定値にすぎません。
11. シミュレーションを実行するために必要なコンピューティング時間の合計。 これは、Azure で使用されるノードのコンピューティング時間の合計です。 この値の使用方法の詳細については、後述の「[ベイクのコストの見積もり](#Estimating-bake-cost)」をご覧ください。
12. このメッセージは、ジョブの完了後に、ベイクの結果が保存される場所をユーザーに通知します。
13. (高度な用途専用) 何らかの理由で、送信済みのベイクの情報を Unity で強制的に破棄する必要がある場合は (別のコンピューターを使用して結果をダウンロードした場合など)、**[Clear State]** \(状態のクリア\) をクリックして送信済みのジョブの情報を破棄します。 これにより、準備ができても、結果ファイルはダウンロード**されなくなります**。**これは、ジョブの取り消しとは異なることに注意してください**。 実行中のジョブはクラウドで引き続き実行されます。
14. **[Bake]\(ベイク\)** ボタンをクリックすると、ベイクがクラウドに送信されます。 ジョブの実行中は、代わりに **[Cancel Job]\(ジョブの取り消し\)** と表示されます。
15. [PC での音響シミュレーション](#Local-bake)の処理を準備します。
16. この領域にはベイクの状態が表示されます。 完了すると、**[Downloaded]\(ダウンロード済み\)** と表示されます。

アクティブなジョブ、コンピューティング プール、ストレージに関する完全な情報は、[Azure portal](https://portal.azure.com) でいつでも入手できます。

ジョブの実行中は、**[Bake]\(ベイク\)** ボタンが **[Cancel Job]\(ジョブの取り消し\)** に変わります。 このボタンを使用して、進行中のジョブを取り消すことができます。 ジョブを取り消す前に確認を求められます。 ジョブの取り消しは元に戻すことができず、結果を使用できなくなります。また、使用された Azure のコンピューティング時間に引き続き課金されます。

ベイクを開始したら、Unity を閉じてかまいません。 プロジェクト、ノードのタイプ、ノード数によっては、クラウド ベイクに数時間かかることがあります。 プロジェクトを再度読み込んで Acoustics ウィンドウを開くと、ベイク ジョブの状態が更新されます。 ジョブが完了すると、出力ファイルがダウンロードされます。

Azure 資格情報はローカル コンピューターに安全に保存され、Unity エディターに関連付けられます。 これらは、Azure へのセキュリティで保護された接続を確立する目的でのみ使用されます。

### <a name="Estimating-bake-cost"></a> Azure のベイク コストの見積もり

特定のベイクのコストを見積もるには、**[Estimated Compute Cost]\(推定コンピューティング コスト\)** に表示されている値 (時間) に、選択した **VM ノード タイプ**の現地通貨での時間あたりのコストを掛けます。 結果には、ノードを稼働させるために必要なノード時間は含まれません。 たとえば、ノード タイプとして、時間あたりのコストが 0.40 ドルの **Standard_F8s_v2** を選択し、Estimated Compute Cost\(推定コンピューティング コスト\) が 3 時間 57 分の場合、ジョブを実行するための推定コストは 0.40 ドル * 最大 4 時間 = 最大 1.60 ドルになります。 実際のコストは、ノードの起動に余分な時間がかかるため、少し高くなる可能性があります。 ノードの時間あたりのコストは、[Azure Batch の価格](https://azure.microsoft.com/pricing/details/virtual-machines/linux)に関するページで確認できます (カテゴリの "コンピューティングの最適化" または "ハイ パフォーマンス コンピューティング" を選択します)。

## <a name="Local-bake"></a> PC でシーンをベイクする
独自の PC でシーンをベイクすることができます。 これは、Azure Batch アカウントを作成する前に、小さいシーンで音響を実験するのに役立つ場合があります。 シーンのサイズによっては、音響シミュレーションに時間がかかる場合があることに注意してください。

### <a name="minimum-hardware-requirements"></a>最小ハードウェア要件
* x86-64 プロセッサ。少なくとも 8 個のコアと 32 GB の RAM

たとえば、テストでは、8 コアのマシンに 3 GHz の Intel Xeon E5-1660 と 32 GB 以上の RAM を備えたものが必要です
* 100 プローブの小さいシーンには、粗ベイクの場合には約 2 時間、細ベイクの場合には 32 時間かかることがあります。
* 1000 プローブの中規模のシーンには、粗ベイクの場合には約 20 時間、細ベイクの場合には 21 日かかることがあります。

### <a name="setup-docker"></a>Docker のセットアップ
シミュレーションを処理する PC 上に Docker をインストールして構成します。
1. [Docker ツールセット](https://www.docker.com/products/docker-desktop)をインストールします。
2. Docker 設定を起動し、[Advanced]\(詳細\) オプションに移動して、少なくとも 8 GB の RAM があるリソースを構成します。 Docker に CPU を多く割り当てると、ベイクの実行速度は上がります。 ![Docker 設定の例のスクリーンショット](media/docker-settings.png)
3. 「共有ドライブ」に移動し、処理に使用されるドライブの共有を有効にします。![Docker 共有ドライブ オプションのスクリーンショット](media/docker-shared-drives.png)

### <a name="run-local-bake"></a>ローカル ベイクの実行
1. **[Bake]\(ベイク\)** タブで [Prepare Local Bake (ローカル ベイクの準備)] ボタンをクリックし、入力ファイルと実行スクリプトの保存先フォルダーを選択します。 ハードウェアの最小要件を満たしており、そのマシンにフォルダーをコピーして Docker がインストールされていれば、どのマシンでもベイクを実行できます。
2. 「runlocalbake.bat」スクリプトを使用してシミュレーションを起動します。 このスクリプトはシミュレーションの処理に必要なツールセットでプロジェクト Acoustics Docker イメージをフェッチし、シミュレーションを開始します。 
3. シミュレーションが終了したら、結果の .ace ファイルを Unity プロジェクトにコピーします。 Unity にこれをバイナリ ファイルとして確実に認識させるには、「.bytes」をファイル拡張子に追加します (「Scene1.ace.bytes」などとします)。 シミュレーションの詳細ログは、「AcousticsLog.txt」に格納されます。 問題が発生した場合は、診断の支援のためにこのファイルを共有します。

## <a name="Data-Files"></a> ベイク プロセスで追加されたデータ ファイル

ベイク プロセス時に作成された 4 つのデータ ファイルがあります。 1 つにはシミュレーション結果が含まれ、タイトルが付いています。 その他には Unity Editor に関するデータが格納されています。

シミュレーション結果:
* **Assets/AcousticsData/Acoustics\_[SceneName].ace.bytes**:これはランタイム ルックアップ テーブルであり、シミュレーション結果とボクセル化された音響シーン要素が含まれています。 このファイルの場所と名前は、**[Probes]\(プローブ\)** タブのフィールドを使用して変更できます。

シミュレーション結果のファイルを削除しないように注意してください。 これはシーンを再ベイクしない限り、回復できません。

エディターのデータ ファイル:
* **Assets/Editor/[SceneName]\_AcousticsParameters.asset**:このファイルには、ユーザーが Acoustics UI のフィールドに入力したデータが格納されます。 このファイルの場所と名前は変更できません。
* **Assets/AcousticsData/Editor/Acoustics_[SceneName].vox**:このファイルにはボクセル化された音響ジオメトリとマテリアル プロパティが格納されます。これらは、[Probes]\(プローブ\) タブの **[Calculate...]\(計算...\)** ボタンを使用して計算されます。このファイルの場所と名前は、**[Probes]\(プローブ\)** タブのフィールドを使用して変更できます。
* **Assets/AcousticsData/Editor/Acoustics\_[SceneName]\_config.xml**:このファイルには、**[Probes]\(プローブ\)** タブの **[Calculate...]\(計算...\)** ボタンを使用して計算された、シミュレーション パラメーターが格納されます。このファイルの場所と名前は、**[Probes]\(プローブ\)** タブのフィールドを使用して変更できます。

## <a name="set-up-the-acoustics-lookup-table"></a>音響ルックアップ テーブルの設定
プロジェクト パネルから **[Project Acoustics]** プレハブをドラッグし、シーンにドロップします。

![Unity の Acoustics プレハブのスクリーンショット](media/acoustics-prefab.png)

**ProjectAcoustics** ゲーム オブジェクトをクリックして、そのインスペクター パネルに移動します。 ベイク結果の場所 (**Assets/AcousticsData** 内の .ACE ファイル) を指定します。それには、このファイルを Acoustics Manager スクリプトにドラッグ アンド ドロップするか、またはテキスト ボックスの隣にある丸ボタンをクリックします。

![Unity の Acoustics Manager プレハブのスクリーンショット](media/acoustics-manager.png)  

## <a name="next-steps"></a>次の手順
* [Unity の設計コントロール](unity-workflow.md)を確認する
* [Project Acoustics の設計概念](design-process.md)を確認する

