---
title: Azure メトリックス エクスプローラーで複数のリソースを表示する
description: Azure メトリックス エクスプローラーを使用して複数のリソースを視覚化する方法について説明します。
author: ritaroloff
services: azure-monitor
ms.topic: conceptual
ms.date: 12/14/2020
ms.author: riroloff
ms.openlocfilehash: 85fa252f999407d5cd7f75e954554e3b14357071
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2021
ms.locfileid: "102037321"
---
# <a name="view-multiple-resources-in-the-azure-metrics-explorer"></a>Azure メトリックス エクスプローラーで複数のリソースを表示する

リソース スコープ ピッカーを使用すると、同じサブスクリプションおよびリージョン内の複数のリソースにわたるメトリックを表示できます。 この記事では、Azure Monitor の Azure メトリックス エクスプローラー機能を使用して複数のリソースを表示する方法について説明します。 

## <a name="select-a-resource"></a>リソースの選択 

**[Azure Monitor]** メニューまたはリソースのメニューの **[監視]** セクションから **メトリック** を選択します。 次に、 **[スコープを選択する]** を選択し、スコープ ピッカーを開きます。 

スコープ ピッカーを使用して、メトリックスを表示するリソースを選択します。 リソースのメニューからメトリックス エクスプローラーを開いた場合は、スコープが既に設定されています。 

![リソース スコープ ピッカーを開く方法を示すスクリーンショット。](./media/metrics-dynamic-scope/019.png)

## <a name="select-multiple-resources"></a>複数のリソースの選択 

一部の種類のリソースでは、複数のリソースのメトリックスに対してクエリを実行することができます。 このようなメトリックスは、同じサブスクリプションおよび場所にある必要があります。 これらの種類のリソースは、 **[リソースの種類]** メニューの上部にあります。

![複数のリソースと互換性のあるリソースのメニューを示すスクリーンショット。](./media/metrics-dynamic-scope/020.png)

> [!WARNING] 
> 複数のリソース、リソース グループ、またはサブスクリプションのメトリックスを視覚化するには、サブスクリプション レベルの監視閲覧者のアクセス許可が付与されている必要があります。 詳細については、[Azure portal を使用して Azure ロールを割り当てる方法](../../role-based-access-control/role-assignments-portal.md)に関するページを参照してください。

複数のリソースのメトリックを視覚化するには、まず、リソース スコープ ピッカー内で複数のリソースを選択します。 

![複数のリソースを選択する方法を示すスクリーンショット。](./media/metrics-dynamic-scope/021.png)

> [!NOTE]
> 選択するリソースは、同じリソースの種類、場所、サブスクリプション内のものに限られます。 これらの基準に適合しないリソースは選択できません。 

完了したら **[適用]** を選択して選択内容を保存します。 

## <a name="select-a-resource-group-or-subscription"></a>リソース グループまたはサブスクリプションの選択 

> [!WARNING]
> 複数のリソース、リソース グループ、またはサブスクリプションのメトリックスを視覚化するには、サブスクリプション レベルの監視閲覧者のアクセス許可が付与されている必要があります。 

複数のリソースに互換性のある種類の場合、サブスクリプションまたは複数のリソース グループにわたるメトリックスに対してクエリを実行することもできます。 まず、次のようにサブスクリプションまたは 1 つ以上のリソース グループを選択します。 

![複数のリソース グループにわたってクエリを実行する方法を示すスクリーンショット。](./media/metrics-dynamic-scope/022.png)

リソースの種類と場所を選択します。 

![選択されたリソース グループを示すスクリーンショット。](./media/metrics-dynamic-scope/023.png)

選択されたスコープを展開して、その適用先のリソースを確認できます。

![グループ内の選択されたリソースを示すスクリーンショット。](./media/metrics-dynamic-scope/024.png)

スコープの選択が完了したら、 **[適用]** を選択します。 

## <a name="split-and-filter-by-resource-group-or-resources"></a>リソース グループまたはリソースによる分割とフィルター処理

リソースをプロットした後は、分割とフィルター処理を使用して、データに関する分析情報を得ることができます。 

分割することで、メトリックのセグメントを互いに比較してどのように異なるかを視覚化することができます。 たとえば、複数のリソースのメトリックをプロットする場合は、 **[分割の適用]** を使用して、リソース ID またはリソース グループで分割することができます。 分割を使用すると、複数のリソースまたはリソース グループ間で 1 つのメトリックを簡単に比較できます。  

たとえば、次のグラフは、9 台の VM の CPU 利用率を示しています。 リソース ID で分割すると、VM ごとの CPU 使用率が表示されます。 

![分割を使用して VM 全体の CPU 使用率を確認する方法を示すスクリーンショット。](./media/metrics-dynamic-scope/026.png)

分割と同様に、フィルター処理を使用して、表示したいリソース グループのみを表示することができます。  たとえば、特定のリソース グループの VM の CPU 使用率を表示する場合は、 **[フィルターの追加]** を選択することで、リソース グループでフィルター処理できます。 

この例では、TailspinToysDemo でフィルター処理します。 ここでは、フィルターによって TailspinToys 内のリソースに関連付けられているメトリックスが削除されます。 

![リソース グループでフィルター処理する方法を示すスクリーンショット。](./media/metrics-dynamic-scope/027.png)

## <a name="pin-multiple-resource-charts"></a>複数リソースのグラフをピン留めする 

リソース グループおよびサブスクリプション全体のメトリックスを視覚化する複数リソースのグラフを使用するには、サブスクリプション レベルの "*監視閲覧者*" のアクセス許可を持っている必要があります。 複数リソースのグラフをピン留めするダッシュボードのすべてのユーザーに、十分なアクセス許可が付与されていることを確認します。 詳細については、[Azure portal を使用して Azure ロールを割り当てる方法](../../role-based-access-control/role-assignments-portal.md)に関するページを参照してください。

複数リソースのグラフをダッシュボードにピン留めするには、「[ダッシュボードへのピン留め](../essentials/metrics-charts.md#pinning-to-dashboards)」を参照してください。 

## <a name="next-steps"></a>次の手順

* [メトリックス エクスプローラーのトラブルシューティング](../essentials/metrics-troubleshoot.md)
* [Azure サービスで使用可能なメトリックのリストを表示する](./metrics-supported.md)
* [構成されたグラフの例を参照する](../essentials/metric-chart-samples.md)