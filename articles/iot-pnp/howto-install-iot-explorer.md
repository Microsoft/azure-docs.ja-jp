---
title: Azure IoT エクスプローラーをインストールして使用する | Microsoft Docs
description: Azure IoT エクスプローラー ツールをインストールして、自分の IoT ハブに接続されている IoT プラグ アンド プレイ プレビュー デバイスとの対話に使用します。
author: miagdp
ms.author: miag
ms.date: 07/02/2019
ms.topic: conceptual
ms.service: iot-pnp
services: iot-pnp
ms.custom: mvc
ms.openlocfilehash: 4e23a440f46b52633a88d0212e08c7b584f61a38
ms.sourcegitcommit: f3f4ec75b74124c2b4e827c29b49ae6b94adbbb7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/12/2019
ms.locfileid: "70932469"
---
# <a name="install-and-use-azure-iot-explorer"></a>Azure IoT エクスプローラーをインストールして使用する

Azure IoT エクスプローラーは、お使いの IoT プラグ アンド プレイ プレビュー デバイスと対話し、テストを実施するためのグラフィカル ツールです。 ローカル マシンにツールをインストールしたら、それを使用してデバイスに接続できます。 このツールを使用すると、デバイスが送信しているテレメトリの表示、デバイスのプロパティの操作、コマンドの呼び出しを行うことができます。

この記事では、その方法について説明します。

- Azure IoT エクスプローラー ツールをインストールして構成する。
- ツールを使用してデバイスと対話し、デバイスをテストする。

## <a name="prerequisites"></a>前提条件

Azure IoT エクスプローラー ツールを使用するには、次のものが必要です。

- Azure IoT Hub。 お使いの Azure サブスクリプションに IoT ハブを追加する方法にはさまざまなものがあります。一例を挙げると、[Azure CLI を使用して IoT ハブを作成する](../iot-hub/iot-hub-create-using-cli.md)という方法があります。 Azure IoT エクスプローラー ツールを実行するには、IoT ハブの接続文字列が必要です。 Azure サブスクリプションがない場合は、開始する前に[無料アカウント](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)を作成してください。
- お使いの IoT ハブに登録されているデバイス。 デバイスの登録には、次の Azure CLI コマンドを使用できます。 `{YourIoTHubName}` と `{YourDeviceID}` のプレースホルダーは必ず、実際の値に置き換えてください。

    ```azurecli-interactive
    az iot hub device-identity create --hub-name {YourIoTHubName} --device-id {YourDeviceID}
    ```

## <a name="install-azure-iot-explorer"></a>Azure IoT エクスプローラーをインストールする

[Azure IoT エクスプローラーのリリース情報](https://github.com/Azure/azure-iot-explorer/releases)に移動し、最新のリリースのアセットの一覧を展開します。 最新バージョンのアプリケーションをダウンロードしてインストールします。

## <a name="use-azure-iot-explorer"></a>Azure IoT エクスプローラーを使用する

デバイスに関しては、自分のデバイスを接続するか、サンプルのシミュレートされたデバイスのいずれかを使用することができます。 シミュレートされたデバイスのサンプルを実行する場合には、[こちらの手順](https://github.com/Azure/azure-iot-sdk-c/tree/public-preview/iothub_client/samples)に従ってください。

### <a name="connect-to-your-hub"></a>お使いのハブに接続する

Azure IoT エクスプローラーを初めて実行するときは、お使いの IoT ハブの接続文字列を入力するように求められます。 接続文字列を追加した後、 **[接続]** を選択します。 ツールの設定を使用して接続文字列を更新することで、別の IoT ハブに切り替えることができます。

IoT プラグ アンド プレイ デバイス用のモデル定義は、パブリック リポジトリ、会社リポジトリ、またはお使いの接続されたデバイスに格納されます。 既定では、このツールはパブリック モデル リポジトリとお使いの接続されているデバイス内でモデル定義を検索します。 ソースの追加と削除、またはソースの優先順位の構成は **[設定]** で行うことができます。

ソースを追加するには:

1. **[設定]** に移動します。
1. **[新規作成]** を選択し、ソースを選択します。
1. 会社モデル リポジトリを追加する場合は、接続文字列を指定します。

ソースを削除するには:

1. **[設定]** に移動します。
1. 削除するソースを見つけます。
1. **[X]** を選択して削除します。 パブリック モデル リポジトリは、共通のインターフェイス定義の取得元であるため、削除できません。

ソースの優先順位を変更するには:

モデル定義のソースの 1 つを、一覧内の別の順位にドラッグ アンド ドロップできます。 競合が発生した場合は、優先順位の高い定義ソースが優先順位の低いソースをオーバーライドします。

### <a name="overview-page"></a>[概要] ページ

#### <a name="device-overview"></a>デバイスの概要

ツールがお使いの IoT ハブに接続されると、お使いの Azure IoT ハブに登録されているすべてのデバイス ID が一覧表示された概要ページが表示されます。 デバイスを選択すると、詳細を表示できます。

#### <a name="device-management"></a>デバイス管理

- 新しいデバイスをお使いのハブに登録するには、 **[追加]** を選択します。 デバイス ID を入力します。 認証キーを自動生成して、ハブへの接続を有効にするために、既定の設定を使用します。
- デバイス ID を削除するには、 **[削除]** を選択します。 この操作を完了する前に、デバイスの詳細を確認して、削除しようとしているデバイス ID が正しいことを確認してください。
- このツールでは、`capabilityID` と `interfaceID` によるクエリがサポートされています。 `capabilityID` または `interfaceID` を、デバイスのクエリを実行するためのパラメーターとして追加します。

## <a name="interact-with-a-device"></a>デバイスと対話する

概要ページのデバイスをダブルクリックすると、次のレベルの詳細が表示されます。 2 つのセクションがあります。 **[デバイス]** と **[Digital Twin]\(デジタル ツイン\)** です。

### <a name="device"></a>Device

このセクションには、 **[Device identity]\(デバイス ID\)** 、 **[テレメトリ]** 、 **[デバイス ツイン]** タブが含まれます。

- デバイス ID の情報は、 **[Device identity]\(デバイス ID\)** タブで表示および更新できます。
- デバイスが接続されており、そこからデータ送信が発生している場合には、 **[テレメトリ]** タブでテレメトリを表示できます。
- デバイス ツインの情報には、 **[デバイス ツイン]** タブ上でアクセスできます。

### <a name="digital-twin"></a>デジタル ツイン

このツールを使用して、デバイスのデジタル ツイン インスタンスを表示できます。 IoT プラグ アンド プレイ デバイスに関しては、デバイス機能モデルに関連付けられているすべてのインターフェイスがこのアーティクルに表示されます。 対応する [IoT プラグ アンド プレイ プリミティブ](https://github.com/Azure/IoTPlugandPlay/tree/master/DTDL)を展開するインターフェイスを選択します。

#### <a name="properties"></a>properties

**[プロパティ]** ページでは、インターフェイスで定義されている読み取り専用プロパティを表示できます。 **[Writeable properties]\(書き込み可能なプロパティ\)** ページでは、インターフェイスで定義されている書き込み可能なプロパティを更新できます。

1. **[Writeable properties]\(書き込み可能なプロパティ\)** ページに移動します。
1. 更新するプロパティをクリックします。
1. プロパティの新しい値を入力します。
1. デバイスに送信されるペイロードをプレビューします。
1. 変更を送信します。

変更を送信した後には、更新の状態を追跡できます ( **[synching]\(同期中\)** 、 **[成功]** 、または **[エラー]** )。 同期が完了すると、 **[Reported Property]\(reported プロパティ\)** 列にプロパティの新しい値が表示されます。 同期が完了する前に他のページに移動しても、更新が完了した時点で完了を知らせる通知がツールから届きます。 ツールの通知センターを使用して、通知履歴を確認することもできます。

#### <a name="commands"></a>command

デバイスにコマンドを送信するには、 **[コマンド]** ページに移動します。

1. コマンドの一覧で、トリガーするコマンドを展開します。
1. コマンドに必要な値を入力します。
1. デバイスに送信されるペイロードをプレビューします。
1. コマンドを送信します。

#### <a name="telemetry"></a>テレメトリ

選択したインターフェイスのテレメトリを表示するには、その **[テレメトリ]** ページにアクセスします。

## <a name="next-steps"></a>次の手順

このハウツー記事では、Azure IoT エクスプローラーをインストールして使用し、IoT プラグ アンド プレイ デバイスと対話する方法について学習しました。 次は、[Azure CLI 拡張機能をインストールして使用する](./howto-install-pnp-cli.md)方法について学習することをお勧めします。
