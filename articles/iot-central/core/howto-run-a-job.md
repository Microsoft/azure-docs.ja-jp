---
title: Azure IoT Central アプリケーションでデバイス を作成して実行する | Microsoft Docs
description: Azure IoT Central のジョブでは、デバイス プロパティを更新、設定、またはコマンドの実行などの一括デバイス管理機能。
ms.service: iot-central
services: iot-central
author: sarahhubbard
ms.author: sahubbar
ms.date: 07/08/2019
ms.topic: conceptual
manager: peterpr
ms.openlocfilehash: 68d4dbff364f8d3fda72fc2377722031e9cccc3d
ms.sourcegitcommit: 21e33a0f3fda25c91e7670666c601ae3d422fb9c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2020
ms.locfileid: "77018892"
---
# <a name="create-and-run-a-job-in-your-azure-iot-central-application"></a>Azure IoT Central アプリケーションでのジョブの作成と実行

Microsoft Azure IoT Central を使用して、ジョブを使用して大規模に接続されているデバイスを管理します。 ジョブを使用すると、デバイスのプロパティとコマンドを一括更新することができます。 この記事では、お使いのアプリケーションでジョブの使用を開始する方法を説明します。


## <a name="create-and-run-a-job"></a>ジョブの作成と実行

このセクションでは、ジョブを作成して実行する方法について説明します。 複数の冷蔵機能を備えた自動販売機のファン速度を上げる方法を示します。

1. ナビゲーション ウィンドウから、ジョブに移動します。

2. **[+ 新規]** を選択して新しいジョブを作成します。

    ![新しいジョブの作成](./media/howto-run-a-job/createnewjob.png)

3. 作成するジョブを識別するための名前と説明を入力します。

4. ジョブを適用するデバイス グループを選択します。 ジョブ構成が適用されるデバイスの数は、概要セクションで確認できます。 

5. 次に、定義するジョブの種類 (プロパティまたはコマンド) を選択します。 プロパティを選択して新しい値を設定するか、コマンドを選択して、ジョブ構成を設定します。 一度に複数のプロパティを追加することができます。

    ![ジョブを構成する](./media/howto-run-a-job/configurejob.png)

6. 右側で、ジョブを実行するデバイスを選択します。 最上位のチェック ボックスを選択すると、デバイス セット全体のデバイスがすべて選択されます。 **名前**の近くのチェック ボックスを選択すると、現在のページ上のすべてのデバイスが選択されます。

7. ご利用のデバイスを選択した後、 **[実行]** または **[保存]** を選びます。 ジョブがメインの **[ジョブ]** ページに表示されます。 このビューで、現在実行中のジョブと以前実行したジョブの履歴を表示することができます。 実行中のジョブは、常に一覧の上部に表示されます。 保存したジョブは、いつでももう一度開いて、編集を続けたり、実行したりすることができます。

    ![ジョブの表示](./media/howto-run-a-job/viewjob.png)

    > [!NOTE]
    > 最大 30 日まで以前に実行したジョブの履歴を表示できます。

7. ジョブの概要を取得するには、一覧から表示するジョブを選択します。 この概要には、ジョブの詳細、デバイス、デバイスの状態の値が含まれています。 この概要で **[Download Job Details]\(ジョブの詳細をダウンロード\)** を選択して、デバイスやその状態の値など、ジョブの詳細の .csv ファイルをダウンロードすることもできます。 この情報は、トラブルシューティングに役立つことがあります。

    ![デバイスの状態を表示する](./media/howto-run-a-job/downloaddetails.png)

### <a name="stop-a-running-job"></a>実行中のジョブを停止する

実行中のジョブを停止するには、そのジョブを選択して **[停止]** を選びます。 ジョブが停止されたことを反映するように、ジョブの状態が変更されます。

   ![ジョブを停止する](./media/howto-run-a-job/stopjob.png)

### <a name="run-a-stopped-job"></a>停止されたジョブを実行する

現在、停止されているジョブを実行するには、停止されたジョブを選択します。 パネルで **[実行]** を選びます。 ジョブがもう一度実行されていることを反映するように、ジョブの状態が変更されます。

   ![再開されたジョブ](./media/howto-run-a-job/resumejob.png)

## <a name="copy-a-job"></a>ジョブをコピーする

作成した既存のジョブをコピーするには、作成されたジョブを開き、 **[コピー]** を選択します。 ジョブ構成の新しいコピーが、編集のために開きます。 新しいジョブを保存または実行できます。 

   ![ジョブのコピー](./media/howto-run-a-job/copyjob.png)

## <a name="view-the-job-status"></a>ジョブの状態を表示する

ジョブが作成されたら、 **[状態]** 列は、ジョブの最新のステータス メッセージで更新されます。 可能な状態の値を次の表に示します。

| ステータス メッセージ       | ステータスの意味                                          |
| -------------------- | ------------------------------------------------------- |
| [完了]            | このジョブはすべてのデバイスで実行されました。              |
| 失敗               | このジョブは失敗し、デバイスで完全には実行されませんでした。  |
| 保留中              | このジョブはデバイスでまだ実行が開始されていません。         |
| 実行中              | このジョブはデバイスで実行中です。             |
| 停止済み              | このジョブはユーザーによって手動で停止されました。           |

ステータス メッセージには、ジョブ内のデバイスの概要が続きます。 可能なデバイスの状態の値を次の表に示します。

| ステータス メッセージ       | ステータスの意味                                                     |
| -------------------- | ------------------------------------------------------------------ |
| 成功            | ジョブが正常に実行されたデバイスの数。       |
| 失敗               | ジョブの実行に失敗したデバイスの数。       |

### <a name="view-the-device-status"></a>デバイスの状態を表示する

ジョブの状態と影響を受けるすべてのデバイスを表示するには、ジョブを選択します。 デバイスの一覧やその状態の値など、ジョブの詳細を含む .csv ファイルをダウンロードするには、 **[Download job details]\(ジョブの詳細をダウンロード\)** を選択します。 各デバイス名の隣に、次のステータス メッセージのいずれかが表示されます。

| ステータス メッセージ       | ステータスの意味                                                                |
| -------------------- | ----------------------------------------------------------------------------- |
| [完了]            | このデバイスで、ジョブが実行されました。                                     |
| 失敗               | このデバイスでのジョブの実行に失敗しました。 エラー メッセージに詳細情報が表示されます。  |
| 保留中              | このデバイスで、ジョブがまだ実行されていません。                                   |

> [!NOTE]
> デバイスが削除された場合、デバイスを選択することはできず、削除済みとしてデバイス ID とともに表示されます。

## <a name="next-steps"></a>次のステップ

ここでは、Azure IoT Central アプリケーションでジョブを作成する方法について説明しました。次の手順は以下のとおりです。

- [デバイスの管理](howto-manage-devices.md)
- [バージョン、デバイス テンプレート](howto-version-device-template.md)
