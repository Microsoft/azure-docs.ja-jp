---
title: Azure IoT Central の X.509 証明書を展開する
description: IoT Central アプリケーションで X.509 証明書を展開する方法
author: v-krghan
ms.author: v-krghan
ms.date: 07/31/2020
ms.topic: how-to
ms.service: iot-central
services: iot-central
ms.openlocfilehash: 76e2b9542d20b5788a2875dec89d447ce38276a0
ms.sourcegitcommit: b8702065338fc1ed81bfed082650b5b58234a702
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/11/2020
ms.locfileid: "88121953"
---
# <a name="how-to-roll-x509-device-certificates-in-iot-central-application"></a>IoT Central アプリケーションで X.509 デバイス証明書を展開する方法

IoT ソリューションのライフサイクルの間に、証明書を展開する必要があります。 証明書を展開する主な理由としては、セキュリティ違反および証明書の期限切れの 2 つが挙げられます。 

セキュリティ違反が発生した際にシステムを保護するためのセキュリティのベスト プラクティスは、証明書を展開することです。 「[Assume Breach Methodology](https://download.microsoft.com/download/C/1/9/C1990DBA-502F-4C2A-848D-392B93D9B9C3/Microsoft_Enterprise_Cloud_Red_Teaming.pdf)」(侵害想定の方法) の一環として、マイクロソフトは予防措置に加えて事後対応型のセキュリティ プロセスの必要性を提唱しています。 デバイスの証明書の展開は、これらのセキュリティ プロセスの一部として含まれる必要があります。 証明書を展開する頻度は、ソリューションのセキュリティのニーズに左右されます。 非常に機密性の高いデータを扱うソリューションを持つ顧客は証明書を毎日展開する場合がある一方で、数年ごとに展開する顧客もいます。


## <a name="obtain-new-x509-certificates"></a>新しい X.509 証明書を取得する

OpenSSL などのツールを使用して、独自の X.509 証明書を作成することができます。 この方法は X.509 証明書のテストに適していますが、セキュリティはほとんど保証されません。 この手法は、独自の CA プロバイダーとして機能する準備ができていない限り、テスト目的のみで使用します。


## <a name="enrollment-groups-and-security-breaches"></a>登録グループとセキュリティ違反

セキュリティ違反に対する応答としてグループ登録を更新するには、次のアプローチを使用して、現在の証明書をすぐに更新します。

1. 左側のウィンドウで **[管理]** に移動し、 **[デバイスの接続]** をクリックします。

2. **[登録グループ]** をクリックし、リスト内のグループの名前をクリックします。

    ![デバイスの接続](./media/how-to-roll-x509-certificates/device-connection.png)


3. 証明書を更新する場合は、 **[プライマリの管理]** または **[Manage Secondary]\(セカンダリの管理\)** をクリックします。

    ![証明書の管理](./media/how-to-roll-x509-certificates/certificates.png)


4. 登録グループで、ルート X.509 証明書を追加して検証します。

   プライマリとセカンダリの証明書の両方が侵害されている場合は、これらの手順を実行します。



## <a name="enrollment-groups-and-certificate-expiration"></a>登録グループと証明書の期限切れ

証明書の有効期限を処理するために証明書を展開する場合は、次の方法を使用して、現在の証明書をすぐに更新します。

1. 左側のウィンドウで **[管理]** に移動し、 **[デバイスの接続]** をクリックします。 

2. **[登録グループ]** をクリックし、リスト内のグループの名前をクリックします。

    ![デバイスの接続](./media/how-to-roll-x509-certificates/device-connection.png)


3. 証明書を更新する場合は、 **[プライマリの管理]** をクリックします。

    ![デバイスの接続](./media/how-to-roll-x509-certificates/manage-certs.png)

4. 登録グループで、ルート X.509 証明書を追加して検証します。

5. その後、セカンダリ証明書の有効期限が切れたら、ここに戻って、そのセカンダリ証明書を更新します。



## <a name="individual-enrollments-and-security-breaches"></a>個々の登録とセキュリティ違反

セキュリティ違反に対する応答として証明書を展開する場合は、次のアプローチを使用して、現在の証明書をすぐに更新します。


1. **[デバイス]** をクリックして、デバイスを選択します。 

2. **[接続]** をクリックし、接続方法として **[個別の登録]** を選択します。

3. メカニズムとして **[証明書 (X.509)]** を選択します。

    ![個々の登録を管理する](./media/how-to-roll-x509-certificates/certificate-update.png)

4. 証明書を更新する場合は、フォルダー アイコンをクリックして、登録エントリ用にアップロードする新しい証明書を選択します。 **[保存]** をクリックします。

    プライマリとセカンダリの証明書の両方が侵害されている場合は、これらの手順を実行します。



## <a name="individual-enrollments-and-certificate-expiration"></a>個々の登録と証明書の期限切れ

証明書の期限切れを処理するために証明書を展開する場合、プロビジョニングを試行するデバイスのダウンタイムが短縮されるように、セカンダリ証明書の構成を使用することをお勧めします。

後ほどセカンダリ証明書の期限切れが近づき、展開することが必要になったら、プライマリの構成を使用するよう切り替えることができます。 このようにプライマリとセカンダリの証明書を切り替えることで、プロビジョニングを試行するデバイスのダウンタイムを短縮できます。

1. **[デバイス]** をクリックして、デバイスを選択します。

2. **[接続]** をクリックし、接続方法として **[個別の登録]** を選択します。

3. メカニズムとして **[証明書 (X.509)]** を選択します。

    ![個々の登録を管理する](./media/how-to-roll-x509-certificates/certificate-update.png)

4. セカンダリ証明書を更新する場合は、フォルダー アイコンをクリックして、登録エントリ用にアップロードする新しい証明書を選択します。 **[保存]** をクリックします。


5. その後、プライマリ証明書の有効期限が切れたら、ここに戻って、そのプライマリ証明書を更新します。


## <a name="next-steps"></a>次の手順

Azure IoT Central アプリケーションで X.509 証明書を展開する方法を習得したので、[Azure IoT Central に接続](concepts-get-connected.md)できます。


