---
title: Azure IoT Central アプリケーションでデバイス を管理する | Microsoft Docs
description: オペレーターとして、Azure IoT Central アプリケーションでデバイスを管理する方法について説明します。
author: sarahhubbard
ms.author: sahubbar
ms.date: 12/06/2019
ms.topic: conceptual
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: dfbfd65223ddad5e8a20958d62ef86b5aa16af43
ms.sourcegitcommit: 21e33a0f3fda25c91e7670666c601ae3d422fb9c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2020
ms.locfileid: "77023482"
---
# <a name="manage-devices-in-your-azure-iot-central-application"></a>Azure IoT Central アプリケーションでデバイスを管理する



この記事では、オペレーターとして、Azure IoT Central アプリケーションでデバイスを管理する方法について説明します。 オペレーターは、次の操作を実行できます。

- **[Devices]\(デバイス\)** ページを使用して、Azure IoT Central アプリケーションに接続されているデバイスを表示、追加、および削除します。
- デバイス インベントリを最新の状態に維持します。
- デバイス プロパティに格納された値をビューから変更することで、デバイスのメタデータを最新の状態に保ちます。
- 特定のデバイスの設定をビューから更新することで、デバイスの動作を制御します。

## <a name="view-your-devices"></a>デバイスを表示する

個々のデバイスを表示するには、次の操作を実行します。

1. 左側のウィンドウで **[デバイス]** を選択します。 すべてのデバイスとデバイス テンプレートの一覧が表示されます。

1. デバイス テンプレートを選択します。

1. **[Devices]\(デバイス\)** ページの右側のウィンドウに、そのデバイス テンプレートから作成されたデバイスの一覧が表示されます。 各デバイスを選択すると、そのデバイスのデバイス詳細ページが表示されます。

    ![[デバイスの詳細] ページ](./media/howto-manage-devices/devicelist.png)


## <a name="add-a-device"></a>デバイスを追加する

Azure IoT Central アプリケーションへ新しいデバイスを追加するには、次の操作を実行します。

1. 左側のウィンドウで **[デバイス]** を選択します。

1. デバイスを作成するデバイスのテンプレートを選択します。

1. **[新規]** を選択します。

1. **[シミュレート済み]** のトグルを **[オン]** または **[オフ]** にします。 実物のデバイスとは、Azure IoT Central アプリケーションに接続する物理デバイスのことです。 シミュレートされたデバイスには、Azure IoT Central によって生成されたサンプル データが含まれています。

1. **Create** をクリックしてください。

1. これで、このデバイスがこのテンプレートのデバイス一覧に表示されるようになりました。 デバイスを選択すると、デバイスのすべてのビューが含まれているデバイスの詳細ページが表示されます。

## <a name="import-devices"></a>デバイスのインポート

アプリケーションに多数のデバイスを接続する場合は、CSV ファイルからデバイスを一括してインポートできます。 CSV ファイルには次の列とヘッダーが必要です

* **IOTC_DeviceID** - デバイス ID は、すべて小文字にする必要があります。
* **IOTC_DeviceName** - この列は省略可能です。

アプリケーションにデバイスを一括登録する方法:

1. 左側のウィンドウで **[デバイス]** を選択します。

1. 左側のパネルで一括作成するデバイスのデバイス テンプレートを選択します。

    > [!NOTE]
    > まだデバイス テンプレートがない場合は、 **[すべてのデバイス]** からデバイスをインポートし、テンプレートなしでそれらを登録することができます。 デバイスがインポートされた後に、それらをテンプレートに移行できます。

1. **[インポート]** を選択します。

    ![インポート アクション](./media/howto-manage-devices/bulkimport1a.png)


1. インポートするデバイス ID の一覧を含む CSV ファイルを選択します。

1. ファイルがアップロードされると、デバイスのインポートが開始されます。 インポートの状態は、[Device Operations]\(デバイスの操作\) パネルで追跡できます。 このパネルはインポートの開始後に自動的に表示されます。または、右上隅のベルのアイコンを使用してアクセスすることもできます。

1. インポートが完了すると、[Device Operations]\(デバイスの操作\) パネルに成功メッセージが表示されます。

    ![インポート成功](./media/howto-manage-devices/bulkimport3a.png)


デバイスのインポート操作が失敗した場合は、[Device Operations]\(デバイスの操作\) パネルにエラー メッセージが表示されます。 すべてのエラーをキャプチャしたログ ファイルが生成されており、ダウンロードできます。

**デバイスをテンプレートに移行する**

**[すべてのデバイス]** でインポートを開始してデバイスを登録すると、デバイス テンプレートが関連付けられていないデバイスが作成されます。 デバイスに関するデータやその他の詳細を調べるには、デバイスをテンプレートに関連付ける必要があります。 デバイスをテンプレートに関連付けるには、次の手順に従います。

1. 左側のウィンドウで **[デバイス]** を選択します。

1. 左側のウィンドウで、 **[すべてのデバイス]** を選択します。

    ![関連付けが解除されているデバイス](./media/howto-manage-devices/unassociateddevices1a.png)


1. グリッドのフィルターを使用して、 **[Device Template]\(デバイス テンプレート\)** 列の値が、どのデバイスに対しても "関連付けられていない" かどうかを判断します。

1. テンプレートに関連付けるデバイスを選択します。

1. **[移行]** を選択します。

    ![デバイスの関連付け](./media/howto-manage-devices/unassociateddevices2a.png)


1. 使用可能なテンプレートの一覧からテンプレートを選択し、 **[移行]** を選択します。

1. 選択したデバイスが、選択したデバイス テンプレートと関連付けられます。


## <a name="export-devices"></a>デバイスのエクスポート

実際のデバイスを IoT Central に接続するには、その接続文字列が必要です。 デバイスの詳細を一括エクスポートして、デバイスの接続文字列を作成するために必要な情報を取得することができます。 エクスポート プロセスでは、選択したすべてのデバイスのデバイス ID、デバイス名、キーを含む CSV ファイルが作成されます。

アプリからデバイスを一括でエクスポートするには:

1. 左側のウィンドウで **[デバイス]** を選択します。

1. 左側のペインで、デバイスをエクスポートするデバイス テンプレートを選択します。

1. エクスポートするデバイスを選択して、 **[エクスポート]** アクションを選択します。

    ![[エクスポート]](./media/howto-manage-devices/export1a.png)


1. エクスポート プロセスが開始します。 状態は、[Device Operations]\(デバイスの操作\) パネルを使用して追跡できます。

1. エクスポートが完了すると、生成されたファイルをダウンロードするリンクと共に成功メッセージが表示されます。

1. **[ファイルのダウンロード]** リンクを選択して、ディスク上のローカル フォルダーにファイルをダウンロードします。

    ![エクスポート - 成功](./media/howto-manage-devices/export2a.png)


1. エクスポートされた CSV ファイルには、デバイス ID、デバイス名、デバイス キー、および X509 証明書拇印の列が含まれています。

    * IOTC_DEVICEID
    * IOTC_DEVICENAME
    * IOTC_SASKEY_PRIMARY
    * IOTC_SASKEY_SECONDARY
    * IOTC_X509THUMBPRINT_PRIMARY
    * IOTC_X509THUMBPRINT_SECONDARY

接続文字列と、実際のデバイスを IoT Central アプリケーションに接続する方法の詳細については、「[Azure IoT Central のデバイス接続機能](concepts-get-connected.md)」を参照してください。

## <a name="delete-a-device"></a>デバイスの削除

実物、またはシミュレートされたデバイスを Azure IoT Central アプリケーションから削除する方法:

1. 左側のウィンドウで **[デバイス]** を選択します。

1. 削除するデバイスのデバイス テンプレートを選択します。

1. フィルター ツールを使用して、デバイスのフィルター処理と検索を行います。 削除するデバイスの横にあるチェック ボックスをオンにします。

1. **[削除]** を選択します。 この削除の状態は、[Device Operations]\(デバイスの操作\) パネルで追跡できます。

## <a name="change-a-property"></a>プロパティ値を変更する

クラウド プロパティは、都市名やシリアル番号など、デバイスに関連付けられているデバイスのメタデータです。 書き込み可能プロパティは、デバイスの動作を制御します。 つまり、デバイスへの入力を指定できます。  デバイス プロパティはデバイスによって設定され、IoT Central 内では読み取り専用です。 お使いのデバイスの **[デバイスの詳細]** ビューでプロパティを表示および更新できます。

1. 左側のウィンドウで **[デバイス]** を選択します。

1. プロパティを変更するデバイスのデバイス テンプレートを選択して、ターゲット デバイスを選択します。

1. 目的のデバイスのプロパティを含むビューを選択します。このビューでは、値を入力し、ページの上部にある **[保存]** を選択できます。 デバイスのプロパティとその現在の値が表示されます。 クラウド プロパティと書き込み可能プロパティには編集可能なフィールドがありますが、デバイス プロパティは読み取り専用です。 書き込み可能プロパティについては、フィールドの下部に同期の状態が表示されます。 

1. プロパティを必要な値に変更します。 一度に複数のプロパティを変更し、それらすべてを同時に更新できます。

1. **[保存]** を選択します。 書き込み可能プロパティを保存すると、値はデバイスに送信されます。 デバイスが書き込み可能プロパティの変更を確認すると、状態は **[synced]\(同期済み\)** に戻ります。 クラウド プロパティを保存した場合、値は更新されます。


## <a name="next-steps"></a>次のステップ

ここでは、Azure IoT Central アプリケーションでデバイスを管理する方法について説明しました。推奨される次の手順は以下のとおりです。

> [!div class="nextstepaction"]
> [デバイス グループを使用する方法](tutorial-use-device-groups.md)

<!-- Next how-tos in the sequence -->
