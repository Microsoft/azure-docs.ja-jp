---
title: Azure IoT Central アプリのデバイス テンプレートのバージョン管理について | Microsoft Docs
description: 新しいバージョンを作成することで、ライブ接続されたデバイスに影響を与えずにデバイス テンプレートを反復処理します
author: sandeeppujar
ms.author: sandeepu
ms.date: 01/19/2018
ms.topic: conceptual
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: e6148a35540b08916a4f0468af39e0f088453286
ms.sourcegitcommit: 5d837a7557363424e0183d5f04dcb23a8ff966bb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/06/2018
ms.locfileid: "52958868"
---
# <a name="create-a-new-device-template-version"></a>デバイス テンプレートの新しいバージョンを作成する

Azure IoT Central を使用すると、IoT アプリケーションを迅速に開発できます。 測定、設定、プロパティを追加、編集、削除することで、デバイス テンプレートをすばやく反復処理できます。 これらの一部は、現在接続されているデバイスに対して、大幅な変更となる場合があります。 Azure IoT Central は、これらの破壊的変更を識別し、これらの更新をデバイスに安全に展開する方法を提供します。

デバイス テンプレートには、作成したときにバージョン番号が含まれます。 既定では、バージョン番号は 1.0.0 です。 デバイス テンプレートを編集するときに、その変更がライブ接続されているデバイスに影響を与える可能性がある場合、Azure IoT Central によって新しいデバイス テンプレートのバージョンを作成するよう求められます。

> [!NOTE]
> デバイス テンプレートを作成する方法について詳しくは、「[デバイス テンプレートを設定する](howto-set-up-template.md)」をご覧ください。

## <a name="changes-that-prompt-a-version-change"></a>バージョンの変更を求められる変更

一般に、デバイス テンプレートの設定やプロパティを変更すると、バージョンの変更を求められます。

> [!NOTE]
> 接続されているデバイスがないか、最大でも 1 つのみの場合は、デバイス テンプレートを変更しても新しいバージョンの作成を求められません。

次の一覧では、新しいバージョンが必要になる可能性があるユーザーの操作について説明します。

* プロパティ (必須)
    * 必須プロパティの追加または削除
    * プロパティのフィールド名の変更 (デバイスでメッセージを送信するために使用されるフィールド名)
*  プロパティ (オプション)
    * 省略可能なプロパティの削除
    * プロパティのフィールド名の変更 (デバイスでメッセージを送信するために使用されるフィールド名)
    * 省略可能なプロパティの必須プロパティへの変更
*  設定
    * 設定の追加または削除
    * 設定のフィールド名の変更 (デバイスでメッセージを送受信するために使用されるフィールド名)

## <a name="what-happens-on-version-change"></a>バージョン変更の影響

バージョン変更があった場合、ルールやデバイスのダッシュボードにはどのような影響があるでしょうか。

**ルール**には、プロパティに依存する条件が含まれる場合があります。 このようなプロパティを 1 つ以上削除した場合、これらのルールは新しいデバイス テンプレートのバージョンでは壊れる可能性があります。 これらの特定のルールに移動し、条件を更新してルールを修正できます。 以前のバージョンのルールは、影響を受けることなく機能します。

**デバイスのダッシュボード**には、いくつかの種類のタイルが含まれる場合があります。 このタイルの一部に、設定やプロパティが含まれる可能性があります。 タイルで使用されているプロパティや設定が削除されると、タイルは完全に、または部分的に破壊されます。 タイルに移動し、タイルを削除するかタイルの内容を更新することで、問題を修正できます。

## <a name="migrate-a-device-across-device-template-versions"></a>デバイス テンプレートのバージョン間でデバイスを移行する

複数のバージョンのデバイス テンプレートを作成できます。 時間の経過と共に、接続された複数のデバイスがこれらのデバイス テンプレートを使用するようになります。 デバイス テンプレートの 1 つのバージョンから、別のバージョンに、デバイスを移行できます。 次の手順では、デバイスを移行する方法について説明します。

1. **[エクスプローラー]** ページに移動します。
1. 別のバージョンに移行する必要があるデバイスを選択します。
1. **[Migrate Device]\(デバイスの移行\)** を選択します。
1. デバイスの移行先のバージョン番号を選択して、**[移行]** を選択します。

![デバイスを移行する方法](media/howto-version-devicetemplate/pick-version.png)

## <a name="next-steps"></a>次の手順

ここでは、Azure IoT Central アプリケーションでデバイス テンプレートのバージョンを使用する方法について説明しました。推奨される次の手順は以下のとおりです。

> [!div class="nextstepaction"]
> [テレメトリのルールを作成する方法](howto-create-telemetry-rules.md)