---
title: Azure の Outbound connections
titleSuffix: Azure Load Balancer
description: この記事では、Azure によって、パブリック インターネット サービスと VM がどのように通信するかを説明します。
services: load-balancer
documentationcenter: na
author: asudbring
ms.service: load-balancer
ms.custom: seodec18
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/24/2020
ms.author: allensu
ms.openlocfilehash: 738b54d9fcd86313c2581c5d0f055a7cca8230b8
ms.sourcegitcommit: e0785ea4f2926f944ff4d65a96cee05b6dcdb792
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/21/2020
ms.locfileid: "88706066"
---
# <a name="outbound-connections-in-azure"></a>Azure の Outbound connections

Azure Load Balancer は、さまざまなメカニズムを使用してアウトバウンド接続が提供されます。 この記事では、シナリオとそれらを管理する方法について説明します。 Azure Load Balancer を経由するアウトバウンド接続で問題が発生した場合は、[アウトバウンド接続のトラブルシューティング ガイド](../load-balancer/troubleshoot-outbound-connection.md)に関する記事を参照してください。

>[!NOTE]
>この記事では、Resource Manager デプロイメントを取り上げます。 Microsoft では、運用環境のワークロードに Resource Manager を使用することをお勧めします。

## <a name="terminology"></a>用語

| 期間 | 適用可能なプロトコル | 詳細|
| ---------|---------| -------|
| 送信元ネットワーク アドレス変換 (SNAT) | TCP、UDP | Azure のデプロイは、パブリック IP アドレス空間で Azure 外部のエンドポイントと通信できます。 インスタンスがパブリック IP アドレス空間の宛先への送信フローを開始すると、Azure によってプライベート IP アドレスがパブリック IP アドレスに動的にマッピングされます。 このマッピングが作成されると、この送信フローの戻りトラフィックも、フローの送信元であるプライベート IP アドレスに到達できます。 Azure は**送信元ネットワーク アドレス変換 (SNAT)** を使用してこの機能を実行します。|
| ポート マスカレード SNAT (PAT)| TCP、UDP |  複数のプライベート IP アドレスが単一のパブリック IP アドレスでマスカレードされている場合、Azure では**ポート アドレス変換 (PAT)** を使用してプライベート IP アドレスがマスカレード/隠ぺいされます。 エフェメラル ポートが PAT に使用され、プール サイズに基づいて[事前に割り当て](#preallocatedports)られます。 パブリック ロード バランサー リソースが VM インスタンスに関連付けられている (専用のパブリック ID アドレスがない) 場合、各送信接続のソースは書き換えられます。 ソースは、仮想ネットワークのプライベート IP アドレス空間からロード バランサー フロントエンドのパブリック IP アドレスに書き換えられます。 パブリック IP アドレス空間では、フローの 5 タプル (ソース IP アドレス、ソース ポート、IP 転送プロトコル、宛先 IP アドレス、宛先ポート) は一意である必要があります。 ポート マスカレード SNAT は、TCP または UDP IP プロトコルで使用できます。 これを実現するために、プライベート ソース IP アドレスの書き換え後にエフェメラル ポート (SNAT ポート) が使用されます。これは複数のフローが単一のパブリック IP アドレスから送信されるためです。 SNAT アルゴリズムをマスカレードしているポートは、UDP 対 TCP とは異なる方法で SNAT ポートを割り当てます。|
| SNAT ポート| TCP | SNAT ポートは、特定のパブリック IP ソース アドレスについて使用可能なエフェメラル ポートです。 1 つの SNAT ポートは、単一の宛先 IP アドレス、ポートへのフローごとに使用されます。 同じ宛先 IP アドレス、ポート、およびプロトコルへの複数の TCP フローでは、各 TCP フローが単一の SNAT ポートを使用します。 これにより、同じパブリック IP アドレスから送信されて同じ宛先 IP アドレス、ポート、プロトコルに移動する複数のフローが、一意であることが保証されます。 別の宛先 IP アドレス、ポート、プロトコルへの複数のフローは、宛先ごとに 1 つの SNAT ポートを共有します。 宛先 IP アドレス、ポート、プロトコルによってフローは一意になります。パブリック IP アドレス空間でフローを区別するための追加のソース ポートは必要ありません。|
|SNAT ポート | UDP | UDP SNAT ポートは、TCP SNAT ポートではなく、別のアルゴリズムによって管理されます。  ロード バランサーは、UDP の "ポート制限された Cone NAT" と呼ばれるアルゴリズムを使用します。  1 つの SNAT ポートは、宛先 IP アドレス、ポートに関係なく、各フローに対して使用されます。|
| ポート不足 | - | SNAT ポート リソースがなくなると、既存のフローによって SNAT ポートが解放されない限り、送信フローは失敗します。 Load Balancer はフローが終了すると SNAT ポートを回収します。また、[4 分間のアイドル タイムアウト](../load-balancer/troubleshoot-outbound-connection.md#idletimeout)を使用して、アイドル フローからの SNAT ポートを回収します。 一般的に UDP SNAT ポートは、使用されるアルゴリズムの違いが原因で、TCP SNAT ポートと比べてかなり迅速に使い果たされてしまいます。 この違いを念頭に置いて、テストの設計とスケーリングを行う必要があります。|
| SNAT ポート解放の動作 | TCP | サーバー/クライアントのどちらかが FINACK を送信すると、SNAT ポートは 240 秒後に解放されます。 RST が送信されると、SNAT ポートは 15 秒後に解放されます。 アイドル タイムアウトに達すると、ポートは解放されます。|
| SNAT ポート解放の動作 | UDP |アイドル タイムアウトに達すると、ポートは解放されます。|
| SNAT ポートの再利用 | TCP、UDP | 解放されたポートは必要に応じて再利用できます。  SNAT ポートは、特定のシナリオに対する最低から最高までのシーケンスと見なすことができます。最初に利用できる SNAT ポートは新しい接続に利用されます。|

### <a name="port-allocation-algorithm"></a><a name="preallocatedports"></a>ポート割り当てアルゴリズム

Azure では、アルゴリズムを使用して、割り当てられる利用可能な SNAT ポートの数が決定されます。これは、PAT を使用する際のバックエンド プールのサイズに基づきます。 ロード バランサーに関連付けられている各パブリック IP アドレスでは、各 IP トランスポート プロトコルに対して 64,000 のポートを SNAT ポートとして使用できます。 同じ数の SNAT ポートが UDP と TCP にそれぞれ事前に割り当てられ、IP トランスポート プロトコルに従って個別に使用されます。  ただし、SNAT ポートの使用方法は、フローが UDP または TCP のどちらかに応じて異なります。 アウトバウンド フローが作成されると、これらのポートは (事前に割り当てられた上限に達するまで) 動的に消費されます。そして、フローが終了するか[アイドル タイムアウト](../load-balancer/troubleshoot-outbound-connection.md#idletimeout)が発生すると解放されます。 ポートは、フローを一意にするために必要な場合にのみ消費されます。

#### <a name="default-snat-ports-allocated"></a><a name="snatporttable"></a> 割り当てられる既定の SNAT ポート

次の表は、バックエンド プール サイズのレベルに対する SNAT ポートの事前割り当てを示しています。

| プール サイズ (VM インスタンス) | IP 構成あたりの事前に割り当てられる SNAT ポート |
| --- | --- |
| 1-50 | 1,024 |
| 51-100 | 512 |
| 101-200 | 256 |
| 201-400 | 128 |
| 401-800 | 64 |
| 801-1,000 | 32 |

パックエンド プールのサイズを変更すると、確立されたフローの一部に影響が及ぶ可能性があります。

- バックエンド プール サイズが増加し、次のレベルに移行すると、1 つ大きいバックエンド プール レベルに移行する間に、事前に割り当てられた SNAT ポートの半分が回収されます。 回収された SNAT ポートに関連付けられているフローはタイムアウトになるので、再確立する必要があります。 新しいフローを試みると、事前に割り当てられたポートが使用可能な限り、フローはすぐに成功します。
- バックエンド プールのサイズが減少し、1 つ小さいレベルに移行すると、使用できる SNAT ポートが増えます。 この場合、割り当てられている既存の SNAT ポートと各フローに影響はありません。

## <a name="outbound-connections-scenario-overview"></a><a name="scenarios"></a>アウトバウンド接続シナリオの概要

| シナリオ | Method | IP プロトコル | 説明 |
|  --- | --- | --- | --- |
|  1.パブリック IP アドレスを持つ VM (Azure Load Balancer あり、またはなし) | SNAT (ポート マスカレードは不使用) | TCP、UDP、ICMP、ESP | すべてのアウトバウンド フローについて、インスタンスの NIC の IP 構成に割り当てられたパブリック IP が Azure によって使用されます。 インスタンスには、使用可能なすべてのエフェメラル ポートがあります。 VM が負荷分散されているかどうかは関係ありません。 このシナリオは他のシナリオよりも優先されます。 VM に割り当てられたパブリック IP は (1 対多ではなく) 1 対 1 の関係であり、1 対 1 のステートレス NAT として実装されます。 |
| 2.VM に関連付けられたパブリック ロード バランサー (VM/インスタンスにパブリック IP アドレスなし) | ロード バランサー フロントエンドを使用したポート マスカレード (PAT) による SNAT | TCP、UDP | このシナリオでは、パブリック IP フロントエンドとバックエンド プール間にリンクを作成するには、ロード バランサー リソースをロード バランサー規則で構成する必要があります。 この規則の構成を完了しない場合の動作は、シナリオ 3 で説明されたとおりになります。 成功するために正常性プローブのバックエンド プールの作業リスナーを規則に含める必要はありません。 VM がアウトバウンド フローを作成すると、Azure が、アウトバウンド フローのプライベート ソース IP アドレスを SNAT を介してパブリック ロード バランサー フロントエンドのパブリック IP アドレスに変換します。 ロード バランサーのフロントエンド パブリック IP アドレスのエフェメラル ポートを使用して、VM から送信される個々のフローが区別されます。 送信フローが作成されると、[事前に割り当てられたエフェメラル ポート](#preallocatedports)が SNAT によって動的に使用されます。 ここでは、SNAT で使用されるエフェメラル ポートを SNAT ポートと呼びます。 SNAT ポートは、[割り当てられる既定の SNAT ポートの表](#snatporttable)の説明のとおり事前に割り当てられます。 |
| 3.VM (Load Balancer なし、パブリック IP アドレスなし)、または Basic 内部ロード バランサーに関連付けられている VM | ポート マスカレード (PAT) による SNAT | TCP、UDP | VM が送信フローを作成すると、Azure が、送信フローのプライベート ソース IP アドレスをパブリック ソース IP アドレスに変換します。 このパブリック IP アドレスは**構成不可能**であり、予約できず、サブスクリプションのパブリック IP リソースの制限に対してカウントされません。 VM、可用性セット、または仮想マシン スケール セットを再デプロイすると、このパブリック IP アドレスは解放され、新しいパブリック IP アドレスが要求されます。 IP アドレスをホワイトリストに登録する場合は、このシナリオを使用しないでください。 代わりに、アウトバウンド動作を明示的に宣言するシナリオ 1 または 2 を使用してください。 SNAT ポートは、[割り当てられる既定の SNAT ポートの表](#snatporttable)の説明のとおり事前に割り当てられます。

## <a name="outbound-rules"></a><a name="outboundrules"></a>アウトバウンド規則

 アウトバウンド規則を使用すると、パブリック [Standard Load Balancer](load-balancer-standard-overview.md) のアウトバウンド ネットワーク アドレス変換の構成を簡素化できます。  アウトバウンド接続を宣言的に完全制御することで、特定のニーズに合わせてこの機能をスケーリングおよび調整できます。 このセクションでは、上記のシナリオ 2 (B) を拡張します。

![Load Balancer のアウトバウンド規則](media/load-balancer-outbound-rules-overview/load-balancer-outbound-rules.png)

アウトバウンド規則を使用すると、Load Balancer を使用して、最初からアウトバウンド NAT を定義できます。 また、既存のアウトバウンド NAT の動作をスケーリングして調整することもできます。

アウトバウンド規則によって以下を制御できます。

- どの仮想マシンをどのパブリック IP アドレスに変換するか。
- アウトバウンド SNAT ポートを割り当てる方法。
- アウトバウンド変換の提供対象となるプロトコル。
- アウトバウンド接続のアイドル タイムアウトの時間 (4 ～ 120 分)。
- アイドル タイムアウト時に TCP リセットを送信するかどうか。
- 1 つの規則で TCP と UDP の両方のトランスポート プロトコル

### <a name="outbound-rule-definition"></a>アウトバウンド規則の定義

すべての Load Balancer 規則と同様に、アウトバウンド規則は、負荷分散規則およびアウトバウンド NAT 規則と同じ構文 (**フロントエンド** + **パラメーター** + **バックエンド プール**) に従います。 アウトバウンド規則では、"_フロントエンド_" に変換される、"_バックエンド プールによって識別されるすべての仮想マシン_" のアウトバウンド NAT を構成します。  "_パラメーター_" により、アウトバウンド NAT アルゴリズムをさらに細かく制御できます。

### <a name="scale-outbound-nat-with-multiple-ip-addresses"></a><a name="scale"></a>複数の IP アドレスでアウトバウンド NAT をスケーリングする

フロントエンドによって提供される追加の IP アドレスごとに、Load Balancer で SNAT ポートとして使用される 64,000 個の一時的なポートが追加されます。 複数の IP アドレスを使用することで、大規模なシナリオを計画できます。また、アウトバウンド規則を使用して、[SNAT が枯渇](troubleshoot-outbound-connection.md#snatexhaust)しがちなパターンを緩和することもできます。  

[パブリック IP プレフィックス](https://aka.ms/lbpublicipprefix)をアウトバウンド規則で直接使用することもできます。  パブリック IP プレフィックスの使用により、Azure デプロイからのフローのスケーリングが容易になり、ホワイトリスト登録が簡素化されます。 パブリック IP アドレス プレフィックスを直接参照するように、Load Balancer リソース内のフロントエンド IP 構成を設定できます。  これにより、Load Balancer はそのパブリック IP プレフィックスを排他的に制御することが可能になります。また、アウトバウンド規則で、パブリック IP プレフィックスに含まれるすべてのパブリック IP アドレスが自動的にアウトバウンド接続に使用されるようになります。  パブリック IP プレフィックスの内の IP アドレスごとに、Load Balancer が SNAT ポートとして使用する 64,000 個のエフェメラル ポートが追加されます。

### <a name="outbound-flow-idle-timeout-and-tcp-reset"></a><a name="idletimeout"></a> アウトバウンド フローのアイドル タイムアウトと TCP リセット

アウトバウンド規則には、アウトバウンド フローのアイドル タイムアウトを制御し、アプリケーションのニーズに合わせるための構成パラメーターがあります。 アウトバウンド アイドル タイムアウトの既定値は 4 分です。 [アイドル タイムアウトを構成](load-balancer-tcp-idle-timeout.md#tcp-idle-timeout)する方法についてご確認ください。 Load Balancer の既定の動作では、アウトバウンド アイドル タイムアウトに達すると、警告なしにフローが破棄されます。  `enableTCPReset` パラメーターを使用すると、アプリケーションのより予測可能な動作を有効にし、アウトバウンド アイドル タイムアウトに達したときに、双方向 TCP リセット (TCP RST) を送信するかどうかを制御できます。 利用可能なリージョンなど、詳細については、[アイドル タイムアウト時の TCP リセット](https://aka.ms/lbtcpreset)に関するページをご覧ください。

### <a name="preventing-outbound-connectivity"></a><a name="preventoutbound"></a>送信接続の防止

負荷分散規則では、アウトバウンド NAT の自動プログラミングが提供されます。 ただし、負荷分散規則による送信 NAT の自動プログラミングを無効にして、アウトバウンド NAT の動作を制御または調整できるようにすることでメリットが得られるシナリオやこれが必要なシナリオもあります。  
このパラメーターには、次の 2 通りの使い方があります。

1. 負荷分散規則のアウトバウンド SNAT を無効にして、アウトバウンド SNAT でのインバウンド IP アドレスの使用を任意指定で抑制する
  
2. インバウンドとアウトバウンドに同時に使用される IP アドレスのアウトバウンド SAT パラメーターを調整する。  アウトバウンド規則による制御を可能にするには、アウトバウンド NAT の自動プログラミングを無効にする必要があります。  たとえば、インバウンドにも使用されるアドレスの SNAT ポートの割り当てを変更するには、`disableOutboundSnat` パラメーターを true に設定する必要があります。  アウトバウンド規則を使用して、インバウンドにも使用される IP アドレスのパラメーターを再定義しようとしたときに、負荷分散規則のアウトバウンド NAT プログラミングを解除していない場合、アウトバウンド規則の構成操作は失敗します。

>[!IMPORTANT]
> このパラメーターを true に設定し、アウトバウンド接続を定義するアウトバウンド規則がない場合、仮想マシンはアウトバウンド接続できなくなります。  VM またはアプリケーションの一部の操作は、アウトバウンド接続が使用可能であることに依存している場合があります。 使用しているシナリオの依存関係を理解し、この変更による影響を考慮してください。

場合によっては、VM で送信フローを作成できるのは望ましくない場合があります。 また、送信フローで接続できる宛先や受信フローを開始できる宛先を管理するための要件がある場合もあります。 このような場合は、[ネットワーク セキュリティ グループ](../virtual-network/security-overview.md) を使用すると、VM が接続できる宛先を管理できます。 また、NSG を使用して、受信フローを開始できるパブリックの宛先を管理することもできます。

負荷分散された VM に NSG を適用するときは、[サービス タグ](../virtual-network/security-overview.md#service-tags)と[既定のセキュリティ規則](../virtual-network/security-overview.md#default-security-rules)に注意してください。 VM が Azure Load Balancer からのヘルス プローブ要求を受け取ることができるようにしておいてください。

NSG が AZURE_LOADBALANCER 既定タグからのヘルス プローブ要求をブロックすると、VM のヘルス プローブが失敗して VM が停止しているとマークされます。 ロード バランサーはその VM への新しいフローの送信を停止します。

## <a name="scenarios-with-outbound-rules"></a>アウトバウンド規則を使用するシナリオ

| # | シナリオ| 詳細|
|---|---|---|
| I | アウトバウンド接続をパブリック IP アドレスの特定のセットに調整する| アウトバウンド規則を使用して、パブリック IP アドレスの特定のセットが発信元になるようにアウトバウンド接続を調整し、ホワイトリスト登録のシナリオを容易にすることができます。  この発信元パブリック IP アドレスは、負荷分散規則で使用されているものと同じであっても、負荷分散規則で使用されているものとは異なるパブリック IP アドレスのセットであっても構いません。  1. [パブリック IP プレフィックス](https://aka.ms/lbpublicipprefix) (またはパブリック IP プレフィックスのパブリック IP アドレス) を作成します。2. パブリック Standard Load Balancer を作成します。3. 使用するパブリック IP プレフィックス (またはパブリック IP アドレス) を参照するフロントエンドを作成します。4. バックエンド プールを再利用するか、バックエンド プールを作成し、VM をパブリック Load Balancer のバックエンド プールに配置します。5. フロントエンドを使用してこれらの VM のアウトバウンド NAT をプログラムするように、パブリック Load Balancer のアウトバウンド規則を構成します。 アウトバウンドに負荷分散規則を使用しない場合は、負荷分散規則でアウトバウンド SNAT を無効にする必要があります。
| II | SNAT ポートの割り当てを変更する| アウトバウンド規則を使用して、[バックエンド プール サイズに基づく SNAT ポートの自動割り当て](load-balancer-outbound-connections.md#preallocatedports)を調整できます。 たとえば、アウトバウンド NAT の 1 つのパブリック IP アドレスを共有する 2 つの仮想マシンがあり、SNAT ポートが枯渇している場合は、割り当てられた SNAT ポートの数を既定の 1024 個から増やすことができます。 パブリック IP アドレスごとに、最大 64,000 個のエフェメラル ポートを提供できます。  単一のパブリック IP アドレス フロントエンドでアウトバウンド規則を構成した場合、合計 64,000 個の SNAT ポートをバックエンド プール内の VM に配布できます。  2 つの VM の場合、アウトバウンド規則を使用して最大 32,000 個 (2 x 32,000 = 64,000) の SNAT ポートを割り当てることができます。 アウトバウンド規則を使用すると、既定で割り当てられる SNAT ポートを調整できます。 既定の SNAT ポート割り当てよりも割り当てを増減させます。1 つのアウトバウンド規則を構成するすべてのフロントエンドのパブリック IP アドレスごとに、SNAT ポートとして使用する最大 64,000 個のエフェメラル ポートが提供されます。  Load Balancer は、SNAT ポートを 8 の倍数で割り当てます。 8 で割り切れない値を指定すると、その構成操作は拒否されます。  パブリック IP アドレスの数に基づく使用可能な SNAT ポートの数よりも多くのポートを割り当てようとすると、その構成操作は拒否されます。  たとえば、VM ごとに 10,000 個のポートを割り当て、バックエンド プール内の 7 つの VM が 1 つのパブリック IP アドレスを共有している場合、この構成は拒否されます (7 x 10,000 SNAT ポート > 64,000 SNAT ポート)。  このシナリオに対応するには、アウトバウンド規則のフロントエンドにパブリック IP アドレスを追加します。 ポート数に 0 を指定することで、[バックエンド プール サイズに基づく既定の SNAT ポートの割り当て](load-balancer-outbound-connections.md#preallocatedports)に戻すことができます。 その場合、[表](#snatporttable)に従って、最初の 50 VM インスタンスは 1024 ポートを取得し、51 から 100 の VM インスタンスは、512 ポートを取得するというようになります。|
| III| アウトバウンドのみを有効にする | パブリック Standard Load Balancer を使用して、VM のグループにアウトバウンド NAT を提供できます。 このシナリオでは、追加の規則を必要とせずに、アウトバウンド規則を単独で使用できます。|
| IV | VM のアウトバウンド NAT のみ (インバウンドなし) | パブリック Standard Load Balancer を定義し、VM をバックエンド プールに配置します。アウトバウンド NAT をプログラムするようにし、特定のパブリック IP アドレスが発信元になるようにアウトバウンド接続を調整するアウトバウンド規則を構成します。 パブリック IP プレフィックスを使用して、アウトバウンド接続の発信元のホワイトリスト登録を簡素化することもできます。 1. パブリック Standard Load Balancer を作成します。 2. バックエンド プールを作成し、VM をパブリック Load Balancer のバックエンド プールに配置します。 3. これらの VM のアウトバウンド NAT をプログラムするように、パブリック Load Balancer のアウトバウンド規則を構成します。
| V| 内部 Standard Load Balancer のアウトバウンド NAT のシナリオ| 内部 Standard Load Balancer を使用する場合、送信接続が明示的に宣言されるまで送信 NAT は使用できません。 以下の手順で、アウトバウンド規則を使用して内部 Standard Load Balancer の背後にある VM の送信接続を作成し、送信接続を定義します。1. パブリック Standard Load Balancer を作成します。 2. 内部 Load Balancer に加えて、バックエンド プールを作成し、VM をパブリック Load Balancer のバックエンド プールに配置します。 3. これらの VM のアウトバウンド NAT をプログラムするように、パブリック Load Balancer のアウトバウンド規則を構成します。 このシナリオの詳細については、[こちらの例](https://docs.microsoft.com/azure/load-balancer/egress-only)を参照してください。 |
| VI | パブリック Standard Load Balancer でアウトバウンド NAT の TCP プロトコルと UDP プロトコルの両方を有効にする | パブリック Standard Load Balancer を使用する場合、提供されるアウトバウンド NAT の自動プログラミングは負荷分散規則のトランスポート プロトコルに対応します。 1. 負荷分散規則でアウトバウンド SNAT を無効にします。 2. 同じ Load Balancer のアウトバウンド規則を構成します。 3. VM によって既に使用されているバックエンド プールを再利用します。 4. アウトバウンド規則の一部として "protocol": "All" を指定します。 インバウンド NAT 規則のみを使用している場合、アウトバウンド NAT は提供されません。 1. VM をバックエンド プールに配置します。 2. パブリック IP アドレスまたはパブリック IP プレフィックスを使用して、1 つまたは複数のフロントエンド IP 構成を定義します。3. 同じ Load Balancer のアウトバウンド規則を構成します。 4. アウトバウンド規則の一部として "protocol": "All" を指定します |


## <a name="limitations"></a>制限事項

- フロントエンド IP アドレスごとに使用可能なエフェメラル ポートの最大数は 64,000 個です。
- 構成可能なアウトバウンド アイドル タイムアウトの範囲は、4 から 120 分 (240 から 7200 秒) です。
- Load Balancer では、アウトバウンド NAT の ICMP はサポートされていません。
- アウトバウンド規則は、NIC のプライマリ IP 構成にのみ適用できます。  VM または NVA のセカンダリ IP のアウトバウンド規則を作成することはできません。 複数 NIC がサポートされています。
- VNet およびその他の Microsoft プラットフォーム サービスなしの Web Worker ロールにアクセスできるのは、事前 VNet サービスおよびその他のプラットフォーム サービスの動作の副作用により、内部の Standard Load Balancer が使用される場合のみです。 それぞれのサービス自体、または基になるプラットフォームは予告なく変更されることがあるため、この副作用に依存しないでください。 内部の Standard Load Balancer のみを使用する場合は、必要に応じて、明示的に送信接続を作成する必要があることを常に想定する必要があります。 この記事で説明されているシナリオ 3 を使用することはできません。

## <a name="next-steps"></a>次のステップ

- [Standard Load Balancer](load-balancer-standard-overview.md) の詳細を確認する。
- [Azure Load Balancer についてよく寄せられる質問](load-balancer-faqs.md)を確認する。
- Standard パブリック Load Balancer の[アウトバウンド規則](load-balancer-outbound-rules-overview.md)の詳細を確認する。
- [Load Balancer](load-balancer-overview.md) について詳しく学習する。
- [ネットワーク セキュリティ グループ](../virtual-network/security-overview.md)の詳細を確認する。
- Azure のその他の重要な[ネットワーク機能](../networking/networking-overview.md)について参照してください。
