---
title: Azure AD を使用したアプリへのアクセスの管理
description: Azure Active Directory により、組織が各ユーザーがアクセスするアプリをどのように指定できるかついて説明します。
services: active-directory
author: kenwith
manager: celestedg
ms.service: active-directory
ms.subservice: app-mgmt
ms.workload: identity
ms.topic: conceptual
ms.date: 05/16/2017
ms.author: kenwith
ms.openlocfilehash: 7738bd2f2dc169ab52677928c6fecbc193ff2f35
ms.sourcegitcommit: 628be49d29421a638c8a479452d78ba1c9f7c8e4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/20/2020
ms.locfileid: "88639921"
---
# <a name="managing-access-to-apps"></a>アプリへのアクセスの管理

継続的なアクセスの管理、使用状況の評価、レポート作成は、アプリが組織の ID システムに統合された後でも簡単な作業ではありません。 多くの場合、アプリへのアクセスの管理では、IT 管理者またはヘルプデスクが大きな役割を担う必要があります。 場合によっては、割り当ては一般的なまたは部門の IT チームによって実行されます。 割り当ての決定はビジネスの意思決定者に委ねられ、IT が割り当てを行う前に彼らの承認が求められることが一般的です。  他の組織は、既存の自動 ID との統合に投資し、ロール ベースの Access Control (RBAC)、属性ベースの Access Control (ABAC) などの管理システムにアクセスします。 統合とルールの開発はいずれも専門知識や高いコストが求められる傾向にあります。 いずれの管理方法での監視またはレポートも、個々にコストがかかる複雑な投資になります。

## <a name="how-does-azure-active-directory-help"></a>Azure Active Directory の機能

Azure AD では、構成済みのアプリケーション用に広範なアクセスの管理がサポートされているため、組織は、属性に基づく自動的な割り当て (ABAC または RBAC シナリオ) から、委任、また管理者の管理までにわたり、適切なアクセス ポリシーを簡単に達成できます。 Azure AD を使用すると、1 つのアプリケーションに対して複数の管理モデルを組み合わせて複雑なポリシーを簡単に達成できるだけでなく、同じ対象ユーザーに対して、アプリケーション全体で管理ルールを再利用することもできます。

Azure AD では、使用量と割り当てのレポートが完全に統合されるため、管理者は割り当ての状態、割り当てに関するエラーのほか、使用量に関して簡単にレポート作成できます。

### <a name="assigning-users-and-groups-to-an-app"></a>ユーザーとグループをアプリに割り当てる

Azure AD のアプリケーション割り当ては、次の 2 つの主要な割り当てモードが中心となります。

* **個別の割り当て** ディレクトリへのグローバル管理者のアクセス許可を持つ IT 管理者は個々のユーザー アカウントを選択してアプリケーションへのアクセス権を付与できます。

* **グループ ベースの割り当て (Azure AD Premium P1 または P2 に必要)** ディレクトリへのグローバル管理者のアクセス許可を持つ IT 管理者はアプリケーションにグループを割り当てることができます。 ユーザーのアクセス権は、そのユーザーがアプリケーションにアクセスしようとしたときに、ユーザーがグループのメンバーであるかどうかによって決まります。 言い換えると、管理者は "割り当てられたグループの現在のメンバーがアプリケーションへのアクセス権を持つ" ことを示す割り当てルールを効率的に作成できます。 この割り当てオプションを使用することで、管理者は Azure AD グループ管理オプションのメリットが得られます。グループには、[属性ベースの動的なグループ](../fundamentals/active-directory-groups-create-azure-portal.md)、外部システム グループ (オンプレミスの Active Directory や Workday など)、管理者によって管理されたグループ、セルフサービスで管理されたグループなどがあります。 1 つのグループを複数のアプリに簡単に割り当てて、割り当てアフィニティを持つアプリケーションで割り当てルールを共有し、全体的な管理の複雑さを軽減できます。 現在、アプリケーションに対するグループベースの割り当てでは入れ子になったグループ メンバーシップはサポートされていないことに注意してください。

これら 2 つの割り当てモードを使用して、管理者は理想的な割り当て管理アプローチを実現できます。

### <a name="requiring-user-assignment-for-an-app"></a>アプリのユーザー割り当ての要求

特定の種類のアプリケーションでは、[アプリケーションにユーザーを割り当てることを要求](assign-user-or-group-access-portal.md#configure-an-application-to-require-user-assignment)できます。 そうすることで、明示的に割り当てたユーザー以外の人がアプリケーションにサインインすることを禁止します。 次の種類のアプリケーションでこのオプションがサポートされています。

* SAML ベースの認証を使用したフェデレーション シングル サインオン (SSO) 用に構成されたアプリケーション
* Azure Active Directory 事前認証を使用するアプリケーション プロキシのアプリケーション
* ユーザーまたは管理者がそのアプリケーションに同意した後に OAuth 2.0 または OpenID Connect 認証を使用する Azure AD アプリケーション プラットフォームに構築されたアプリケーション。特定の企業アプリケーションでは、サインインが許可される人に対する制御がさらに追加されます。

ユーザー割り当てが "*要求されない*" 場合、割り当てられていないユーザーには、そのマイ アプリでアプリが表示されませんが、アプリケーション自体にはサインインできます (SP が開始するサインオンとも呼ばれています)。あるいは、アプリケーションの **[プロパティ]** ページで **[ユーザー アクセス URL]** を使用できます (IDP 開始サインオンとも呼ばれています)。

一部のアプリケーションでは、アプリケーションのプロパティにユーザー割り当てを要求するオプションがありません。 そのような場合、PowerShell を利用し、サービス プリンシパルで appRoleAssignmentRequired プロパティを設定できます。

### <a name="determining-the-user-experience-for-accessing-apps"></a>アプリにアクセスするときのユーザー エクスペリエンスを決定する

Azure AD には、組織内のエンド ユーザーに[アプリケーションをデプロイするためのカスタマイズ可能な方法が複数](end-user-experiences.md)用意されています。

* Azure AD のマイ アプリ
* Office 365 アプリケーション起動プログラム
* フェデレーション アプリへの直接サインオン (service-pr)
* フェデレーション アプリ、パスワードベースのアプリ、または既存のアプリへのディープ リンク

企業アプリに割り当てられているユーザーがマイ アプリや Office 365 アプリケーション起動プログラムでそれを表示できるかどうかを決定できます。

## <a name="example-complex-application-assignment-with-azure-ad"></a>例:Azure AD を使用した複雑なアプリケーション割り当て
Salesforce のようなアプリケーションについて考えます。 多くの企業では、Salesforce は主にマーケティング チームや販売チームが使用します。 通常、マーケティング チームのメンバーは Salesforce に対する高い特権アクセスを持つ一方、販売チームのメンバーのアクセス権は制限されます。 多くの場合、インフォメーション ワーカーの占める割合が多いと、アプリケーションへのアクセスも制限されます。 これらのルールに対する例外が、問題を複雑にします。 通常、マーケティングまたは販売の指揮部隊には、これらの一般的なルールとは無関係に、ユーザーにアクセス権を付与したり、そのロールを変更したりする特権があります。

Azure AD では、Salesforce のようなアプリケーションをシングル サインオン (SSO) やプロビジョニングの自動化向けに事前構成できます。 アプリケーションが構成されたら、管理者は 1 回限りの操作を実行して、適切なグループを作成、割り当てることができます。 この例では、管理者は次のような割り当てを実行できます。

* [動的なグループ](../fundamentals/active-directory-groups-create-azure-portal.md) を定義できます。
  
  * マーケティング グループのすべてのメンバーは、Salesforce で "marketing" ロールに割り当てられます。
  * 販売チームのすべてのメンバーは、Salesforce で "sales" ロールに割り当てられます。 さらに調整するために、さまざまな Salesforce ロールに割り当てられた地域の販売チームを表す複数のグループを使用することもできます。

* 例外のメカニズムを有効にするには、各ロールについてセルフ サービス グループを作成できます。 たとえば、"salesforce marketing 例外" グループを、セルフ サービス グループとして作成します。 このグループを Salesforce marketing ロールに割り当て、マーケティングの指揮部隊を所有者にすることができます。 マーケティングの指揮部隊のメンバーはユーザーを追加または削除、参加ポリシーを設定できるほか、各ユーザーの参加要求を承認または拒否することもできます。 このメカニズムは、インフォメーション ワーカーに該当するエクスペリエンス全体でサポートされ、所有者またはメンバーになるための特別なトレーニングを必要としません。

この場合、割り当てられたすべてのユーザーは、各グループに追加されるときに Salesforce に自動的にプロビジョニングされ、そのロール割り当ては Salesforce で更新されます。 ユーザーは、マイ アプリ、Office Web クライアントを通じて、また組織の Salesforce ログイン ページに移動して、Salesforce を探してアクセスできます。 管理者は Azure AD レポート機能を使用して、使用量や割り当ての状態を簡単に確認できます。

管理者は、 [Azure AD 条件付きアクセス](../conditional-access/concept-conditional-access-users-groups.md) を使用して、特定のロールのアクセス ポリシーを設定できます。 これらのポリシーには、アクセスを企業環境の外で許可するかどうかや、Multi-Factor Authentication、またはデバイスの要件を含めて、さまざまな状況でのアクセスを実現できます。

## <a name="access-to-microsoft-applications"></a>Microsoft アプリケーションへのアクセス

Microsoft アプリケーション (Office 365 Exchange、SharePoint、Yammer など) の割り当てと管理は、サード パーティの SaaS アプリケーションや、シングル サインオンで Azure AD と統合する他のアプリケーションとは少し異なる方法で行います。

Microsoft が公開したアプリケーションにユーザーがアクセスする方法は、主に 3 つあります。

- Office 365 またはその他の有料のスイートのアプリケーションでは、**ライセンスの割り当て**によってユーザーにアクセス権が付与されます。ライセンスの割り当ては、ユーザー アカウントに直接、またはグループ ベースのライセンス割り当て機能を使用してグループを通じて行われます。
- Microsoft またはサード パーティが誰でも使用できるように無料で公開するアプリケーションでは、[ユーザーの同意](configure-user-consent.md)によってユーザーにアクセス権が付与されます。 つまり、ユーザーは自分の Azure AD 職場または学校アカウントでアプリケーションにサインインし、そのアカウントの限定されたデータ セットにアクセスすることが許可されます。
- Microsoft またはサード パーティがだれでも使用できるよう無料で公開するアプリケーションでは、[管理者の同意](manage-consent-requests.md)によってユーザーにアクセス権を付与することもできます。 つまり、管理者は組織の全員がそのアプリケーションを使用する可能性があると判断しているため、グローバル管理者アカウントを使用してアプリケーションにサインインし、組織の全員にアクセス権を付与します。

一部のアプリケーションでは、これらのメソッドを組み合わせています。 たとえば、一部の Microsoft アプリケーションは Office 365 サブスクリプションに含まれていますが、同意する必要が依然としてあります。

ユーザーは Office 365 ポータルから Office 365 アプリケーションにアクセスできます。 また、ディレクトリの **[ユーザー設定]** にある [Office 365 表示切り替え機能](hide-application-from-user-portal.md)を利用し、マイ アプリで Office 365 アプリケーションの表示と非表示を切り替えることができます。 

企業アプリケーションと同様に、Azure portal から特定の Microsoft アプリケーションに[ユーザーを割り当てる](assign-user-or-group-access-portal.md)ことができます。あるいは、ポータルを利用できない場合、PowerShell を利用してユーザーを割り当てることができます。

## <a name="next-steps"></a>次のステップ
* [条件付きアクセスを使用したアプリケーションの保護](../conditional-access/concept-conditional-access-cloud-apps.md)
* [セルフサービス グループの管理/SSAA](../users-groups-roles/groups-self-service-management.md)
