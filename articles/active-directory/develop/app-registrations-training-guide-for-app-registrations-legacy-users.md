---
title: アプリの登録 (レガシ) から Azure portal の新しいアプリの登録エクスペリエンスへの移行に関するトレーニング ガイド
description: Azure portal の新しいアプリの登録エクスペリエンスの概要
services: active-directory
author: archieag
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.workload: identity
ms.topic: conceptual
ms.date: 10/25/2019
ms.author: aragra
ms.reviewer: lenalepa, keyam
ms.custom: aaddev
ms.collection: M365-identity-device-management
ms.openlocfilehash: 2f49cac5c8c49fb5c53d3320cb0ab52e0f61acda
ms.sourcegitcommit: c38a1f55bed721aea4355a6d9289897a4ac769d2
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/05/2019
ms.locfileid: "74844262"
---
# <a name="transitioning-from-app-registrations-legacy-to-the-new-app-registrations-experience-in-the-azure-portal"></a>アプリの登録 (レガシ) から Azure portal の新しいアプリの登録エクスペリエンスへの移行

Azure portal の新しい[アプリの登録](https://go.microsoft.com/fwlink/?linkid=2083908)エクスペリエンスには、多くの機能強化があります。 Azure portal のアプリの登録 (レガシ) エクスペリエンスに慣れている場合は、このトレーニング ガイドを使用して、新しいエクスペリエンスを使い始めることができます。

Azure Active Directory では、ここで説明する新しいアプリケーションの登録エクスペリエンスが一般提供 (GA) されています。 Azure Active Directory B2C (Azure AD B2C) では、このエクスペリエンスはプレビュー段階です。

## <a name="key-changes"></a>主な変更点

- アプリの登録は、*Web アプリ/API* または*ネイティブ*アプリのいずれかに制限されていません。 それぞれのリダイレクト URI を登録することで、これらすべてのアプリに対して、同じアプリの登録を使用できます。

- レガシ エクスペリエンスでは、組織 (Azure AD) アカウントのみを使用してサインインするアプリがサポートされていました。 アプリはシングル テナントとして登録されました。 アプリは、アプリが登録されたディレクトリからの組織アカウントのみをサポートしていました。 アプリをマルチ テナントに変更し、すべての組織アカウントをサポートすることは可能でした。 新しいエクスペリエンスでは、この 2 つのオプションに加えて、3 つ目のオプション (すべての組織アカウントと個人用 Microsoft アカウント) をサポートするアプリを登録することができます。

- 従来のエクスペリエンスは、組織アカウントを使用して Azure portal にサインインする場合にのみ利用できました。 新しいエクスペリエンスでは、ディレクトリに関連付けられていない個人の Microsoft アカウントを使用できます。

## <a name="list-of-applications"></a>アプリケーションの一覧

新しいアプリの一覧には、Azure portal のレガシ アプリ登録エクスペリエンスによって登録されたアプリケーションが表示されます。 これらのアプリは Azure AD アカウントを使用してサインインします。 新しいアプリの一覧には、アプリケーション登録ポータルによって登録されたアプリも表示されます。 これらのアプリは、Azure AD および個人用 Microsoft アカウントを使用してサインインします。

>[!NOTE]
>アプリケーション登録ポータルは非推奨となりました。

単一のアプリの登録が複数の種類となる可能性があるため、新しいアプリの一覧には **[アプリケーションの種類]** の列がありません。 一覧には、次の 2 つの列が追加されています。 **[作成日時]** および **[Certificates & secrets]\(証明書とシークレット\)** です。 **[Certificates & secrets]\(証明書とシークレット\)** は、アプリに登録されている資格情報の状態を表示します。 状態には **[最新]** 、 **[まもなく有効期限切れ]** 、および **[期限切れ]** が含まれます。

## <a name="new-app-registration"></a>アプリの新しい登録

レガシ エクスペリエンスでアプリを登録するには、次を指定する必要がありました: **名前**、**アプリケーションの種類**、**サインオン URL/リダイレクト URI**。 作成されたアプリは、Azure AD 専用のシングル テナント アプリケーションでした。 アプリが登録されたディレクトリからの組織アカウントのみをサポートしていました。

新しいエクスペリエンスでは、アプリの **[名前]** を指定し、 **[サポートされているアカウントの種類]** を選択する必要があります。 必要に応じて、 **[リダイレクト URI]** を指定することもできます。 リダイレクト URI を指定する場合は、それが Web かパブリック (モバイルとデスクトップ) かを指定する必要があります。 詳細については、「[クイック スタート: Microsoft ID プラットフォームにアプリケーションを登録する](quickstart-register-app.md)」を参照してください。 Azure AD B2C については、「[Azure Active Directory B2C にアプリケーションを登録する](../../active-directory-b2c/tutorial-register-applications.md)」を参照してください。

## <a name="differences-between-the-application-registration-portal-and-app-registrations-page"></a>アプリケーション登録ポータルとアプリの登録ページの違い

### <a name="the-legacy-properties-page"></a>レガシ [プロパティ] ページ

レガシ エクスペリエンスには **[プロパティ]** ページがありました。 **[プロパティ]** には、次のフィールドがありました。

- **Name**
- **オブジェクト ID**
- **アプリケーション ID**
- **アプリケーション ID/URI**
- **ロゴ**
- **ホーム ページ URL**
- **ログアウト URL**
- **サービス利用規約 URL**
- **プライバシーに関する声明の URL**
- **アプリケーションの種類**
- **マルチテナント**

新しいエクスペリエンスには、そのページはありません。 以下の場所で、同等の機能を見つけることができます。

- **[名前]** 、 **[ロゴ]** 、 **[ホーム ページ URL]** 、 **[サービス利用規約 URL]** 、 **[プライバシーに関する声明の URL]** は、現在、アプリの **[ブランド]** ページにあります。
- **[オブジェクト ID]** と **[アプリケーション (クライアント) ID]** は、 **[概要]** ページにあります。
- レガシ エクスペリエンスの **[マルチテナント]** 切り替えによって制御される機能は、 **[認証]** ページの **[サポートされているアカウントの種類]** に置き換えられました。 詳細については、「[クイック スタート: アプリケーションでサポートされているアカウントを変更する](quickstart-modify-supported-accounts.md)」を参照してください。
- **[ログアウト URL]** は **[認証]** ページに表示されるようになりました。
- **[アプリケーションの種類]** フィールドは無効になりました。 代わりに、 **[認証]** ページで確認できるリダイレクト URI を使用して、サポートされているアプリの種類を特定します。
- **[アプリ ID URI]** は **[アプリケーション ID URI]** と呼ばれるようになりました。これは、 **[API の公開]** で確認できます。 レガシ エクスペリエンスでは、このプロパティは次の形式を使用して自動登録されていました: `https://{tenantdomain}/{appID}`、たとえば `https://microsoft.onmicrosoft.com/492439af-3282-44c3-b297-45463339544b`。 新しいエクスペリエンスでは、`api://{appID}` として自動生成されますが、明示的に保存する必要があります。 Azure AD B2C テナントでは、`https://{tenantdomain}/{appID}` 形式が引き続き使用されます。

### <a name="reply-urlsredirect-urls"></a>応答 URL/リダイレクト URI

レガシ エクスペリエンスでは、アプリに **[応答 URL]** ページがありました。 新しいエクスペリエンスでは、[応答 URL] はアプリの **[認証]** ページで見つけることができます。 これらは **[リダイレクト URI]** と呼ばれるようになりました。

リダイレクト URI の形式が変更されました。 それらは、アプリの種類 (Web またはパブリック) に対応している必要があります。 セキュリティ上の理由により、ワイルドカードおよび *http://localhost* を除く `http://` スキームはサポートされていません。

### <a name="keyscertificates--secrets"></a>キー/証明書とシークレット

レガシ エクスペリエンスでは、アプリには **[キー]** ページがあります。 新しいエクスペリエンスでは、それは **[証明書とシークレット]** という名前に変更されています。

**[公開キー]** は、 **[証明書]** と呼ばれるようになりました。 **[パスワード]** は、 **[クライアント シークレット]** と呼ばれるようになりました。

### <a name="required-permissionsapi-permissions"></a>必要なアクセス許可と API アクセス許可

レガシ エクスペリエンスでは、アプリに **[必要なアクセス許可]** ページがありました。 新しいエクスペリエンスでは、 **[API のアクセス許可]** に名前が変更されました。

レガシ エクスペリエンスで API を選択した場合は、Microsoft API の小さな一覧から選択できます。 テナント内のサービス プリンシパルを検索することもできます。 新しいエクスペリエンスでは、次の複数のタブから選択できます。 **[Microsoft API]** 、 **[所属する組織で使用している API]** 、 **[自分の API]** 。 **[所属する組織で使用している API]** タブにある検索バーを使用すると、テナント内のサービス プリンシパルを検索できます。

> [!NOTE]
> ご利用のアプリケーションがテナントに関連付けられていない場合、このタブは表示されません。 アクセス許可を要求する方法の詳細については、「[クイックスタート:Web API にアクセスするようにクライアント アプリケーションを構成する](quickstart-configure-app-access-web-apis.md)」を参照してください。

レガシ エクスペリエンスでは、 **[要求されたアクセス許可]** ページの上部に **[アクセス許可の付与]** ボタンがありました。 新しいエクスペリエンスでは、 **[同意する]** ページには、アプリの **[API のアクセス許可]** セクション上に **[管理者の同意の付与]** ボタンがあります。 また、これらのボタンの機能にはいくつかの違いがあります。

レガシ エクスペリエンスでは、ロジックはサインインしたユーザーと要求されているアクセス許可によって異なりました。 ロジックは次のとおりでした。

- ユーザーの同意が可能なアクセス許可のみが要求されていて、サインインしているユーザーが管理者ではない場合、ユーザーは、要求されたアクセス許可に対してユーザーの同意を与えることができました。
- 管理者の同意が必要なアクセス許可が少なくとも 1 つ要求されていて、サインインしたユーザーが管理者ではい場合、ユーザーが同意しようとするとエラーが返されました。
- サインインしたユーザーが管理者である場合、要求されたすべてのアクセス許可に対して管理者の同意が付与されました。

新しいエクスペリエンスでは、管理者しか同意を付与することはできません。 管理者が **[管理者の同意の付与]** を選択すると、要求されたすべてのアクセス許可に対して管理者の同意が付与されます。

## <a name="deleting-an-app-registration"></a>アプリの登録を削除する

レガシ エクスペリエンスでは、シングル テナント アプリのみを削除することができました。 マルチテナント アプリの場合は、削除ボタンが無効になりました。 新しいエクスペリエンスでは、任意の状態のアプリを削除できますが、操作を確認する必要があります。 詳細については、「[クイック スタート: Microsoft ID プラットフォームに登録されたアプリケーションを削除する](quickstart-remove-app.md)」を参照してください。

## <a name="application-manifest"></a>アプリケーション マニフェスト

レガシ エクスペリエンスおよび新しいレガシ エクスペリエンスでは、マニフェストエディターでの JSON の形式としてさまざまなバージョンが使用されています。 詳細については、「[Azure Active Directory のアプリ マニフェスト](reference-app-manifest.md)」を参照してください。

## <a name="new-ui"></a>新しい UI

新しいエクスペリエンスでは、次のプロパティの UI コントロールが追加されます。

- **[認証]** ページには **[暗黙的な許可フロー]** (`oauth2AllowImplicitFlow`) があります。 レガシ エクスペリエンスとは異なり、 **[アクセス トークン]** または **[ID トークン]** のいずれか、あるいはその両方を有効にすることができます。
- **[API の公開]** ページには、 **[この API で定義されるスコープ]** (`oauth2Permissions`) と **[承認済みのクライアント アプリケーション]** (`preAuthorizedApplications`) が含まれています。 アプリを Web API として構成し、アクセス許可/スコープを公開する方法の詳細については、「[クイックスタート:Web API を公開するようにアプリケーションを構成する](quickstart-configure-app-expose-web-apis.md)」を参照してください。
- **[ブランド]** ページには、 **[パブリッシャー ドメイン]** が含まれています。 パブリッシャー ドメインは、[アプリケーションの [同意プロンプト]](application-consent-experience.md) 上でユーザーに対して表示されます。 詳細については、[方法:アプリケーションのパブリッシャー ドメインを構成する](howto-configure-publisher-domain.md)を参照してください。

## <a name="limitations"></a>制限事項

新しいエクスペリエンスには次のような制限があります。

- クライアント シークレット (アプリ パスワード) の形式は、レガシ エクスペリエンスの場合とは異なっており、これによって CLI が中断される可能性があります。
- サポートされているアカウントの値を変更することは、UI ではサポートされていません。 Azure AD のシングル テナントとマルチ テナントの切り替えを行ない限り、アプリ マニフェストを使用する必要があります。
