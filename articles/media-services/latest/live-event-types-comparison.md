---
title: Azure Media Services LiveEvent の種類 |Microsoft Docs
description: Azure Media Services では、ライブ イベントは*パススルー*または*ライブ エンコード*のいずれかに設定できます。 この記事では、LiveEvent の種類を比較する詳細な表を示します。
services: media-services
documentationcenter: ''
author: Juliako
manager: femila
editor: ''
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/13/2019
ms.author: juliako
ms.openlocfilehash: 793ddb8c99a4e21c176374f7cb3445d1a7d8fca0
ms.sourcegitcommit: 3d79f737ff34708b48dd2ae45100e2516af9ed78
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/23/2020
ms.locfileid: "87090061"
---
# <a name="live-event-types-comparison"></a>ライブ イベントの種類の比較

Azure Media Services では、[ライブ イベント](/rest/api/media/liveevents)は、"*パススルー*" (オンプレミスのライブ エンコーダーによって複数のビットレート ストリームが送信される) または "*ライブ エンコード*" (オンプレミスのライブ エンコーダーによってシングル ビットレート ストリームが送信される) のいずれかに設定できます。 

この記事では、ライブ イベントの種類の機能を比較します。

## <a name="types-comparison"></a>種類の比較 

次の表は、ライブ イベントの種類の機能を比較したものです。 これらの種類は、[LiveEventEncodingType](/rest/api/media/liveevents/create#liveeventencodingtype) を使って作成中に設定されます。

* **LiveEventEncodingType.None** - オンプレミス ライブ エンコーダーは、マルチ ビットレート ストリームを送信します。 取り込まれたストリームは、追加の処理なしでライブ イベントを通過します。 パススルー ライブ イベントとも呼ばれています。
* **LiveEventEncodingType.Standard** - オンプレミス ライブ エンコーダーは、ライブ イベントにシングル ビットレート ストリームを送信し、Media Services がマルチ ビットレート ストリームを作成します。 コントリビューション フィードの解像度が 720p 以上である場合、**Default720p** プリセットは 6 つの解像度とビットレートのペアのセットをエンコードします (詳細については、この記事で後に説明)。
* **LiveEventEncodingType.Premium1080p** - オンプレミス ライブ エンコーダーは、ライブ イベントにシングル ビットレート ストリームを送信し、Media Services がマルチ ビットレート ストリームを作成します。 Default1080p プリセットは、解像度とビットレートのペアの出力セットを指定します (詳細については、この記事で後に説明)。 

| 機能 | パススルー ライブ イベント | Standard または Premium1080p ライブ イベント |
| --- | --- | --- |
| シングル ビットレートの入力がクラウド内でマルチビットレートにエンコードされる |いいえ |はい |
| コントリビューション フィードの最大ビデオ解像度 |4K (60 フレーム/秒で 4096x2160) |1080p (30 フレーム/秒 で 1920 x 1088)|
| コントリビューション フィードの推奨最大レイヤー|最大 12 個|1 つのオーディオ|
| 出力時の最大レイヤー| 入力と同じ|最大 6 (後述の「システム プリセット」参照)|
| コントリビューション フィードの最大集約帯域幅|60 Mbps|該当なし|
| コントリビューション内の各レイヤーにおける最大ビットレート |20 Mbps|20 Mbps|
| 複数言語オーディオ トラックのサポート|はい|いいえ|
| サポートされている入力ビデオ コーデック |H.264/AVC と H.265/HEVC|H.264/AVC|
| サポートされている出力ビデオ コーデック|入力と同じ|H.264/AVC|
| サポートされているビデオ ビット深度、入力、出力|HDR 10/HLG を含む最大 10 ビット|8 ビット|
| サポートされている入力オーディオ コーデック|AAC-LC、HE-AAC v1、HE-AAC v2|AAC-LC、HE-AAC v1、HE-AAC v2|
| サポートされている出力オーディオ コーデック|入力と同じ|AAC-LC|
| 出力ビデオの最大ビデオ解像度|入力と同じ|Standard - 720p、Premium1080p - 1080p|
| 入力ビデオの最大フレームレート|60 フレーム/秒|Standard または Premium1080p - 30 フレーム/秒|
| 入力プロトコル|RTMP、フラグメント化された MP4 (スムーズ ストリーミング)|RTMP、フラグメント化された MP4 (スムーズ ストリーミング)|
| Price|[価格に関するページ](https://azure.microsoft.com/pricing/details/media-services/) を参照し、[ライブ ビデオ] タブをクリックしてください。|[価格に関するページ](https://azure.microsoft.com/pricing/details/media-services/) を参照し、[ライブ ビデオ] タブをクリックしてください。|
| 最長実行時間| 24 時間 365 日、ライブ リニア | 24 時間 365 日、ライブ リニア (プレビュー)|
| キャプション データから埋め込まれた CEA 608/708 をパス スルーする機能|はい|はい|
| ライブ文字起こしをオンにする機能|はい|はい|
| スレートの挿入のサポート|いいえ|いいえ|
| API による広告信号のサポート| いいえ|いいえ|
| インバンド SCTE-35 メッセージによる広告信号のサポート|はい|はい|
| 投稿フィードでの短時間の停止から回復する機能|はい|部分的|
| 均一でない入力 GOP のサポート|はい|いいえ。入力は固定 GOP 時間を持つ必要があります|
| 可変フレーム レートの入力のサポート|はい|なし。入力は固定フレーム レートにする必要があります。 たとえば、動きの大きなシーンでは、多少の変化は許容されます。 しかしコントリビューション フィードはフレームレートを (たとえば、15 フレーム/秒などに) ドロップすることはできません。|
| 入力フィードがなくなった場合のライブ イベントの自動停止|いいえ|12 時間後 (実行中の LiveOutput がない場合)|

## <a name="system-presets"></a>システム プリセット

ライブ エンコーダーからの出力に含まれている解像度とビットレートは、[presetName](/rest/api/media/liveevents/create#liveeventencoding) によって決定されます。 **Standard** ライブ エンコーダー (LiveEventEncodingType.Standard) を使用している場合、*Default720p* プリセットは、以下で説明する 6 つの解像度とビットレートのペアのセットを指定します。 それ以外で **Premium1080p** ライブ エンコーダー (LiveEventEncodingType.Premium1080p) を使用している場合、*Default1080p* プリセットは、解像度とビットレートのペアの出力セットを指定します。

> [!NOTE]
> Default1080p プリセットが Standard ライブ エンコード用に設定されている場合、それをライブ イベントに適用することはできません。そうするとエラーを受け取ります。 また、Default720p プリセットを Premium1080p ライブ エンコーダーに適用しようとした場合もエラーを受け取ります。

### <a name="output-video-streams-for-default720p"></a>Default720p の出力ビデオ ストリーム

コントリビューション フィードの解像度が 720p 以上である場合、**Default720p** プリセットはそのフィードを次の 6 つのレイヤーにエンコードします。 以下の表で、ビットレートは kbps 単位、MaxFPS は、許可される最大フレーム レート (フレーム/秒単位) を表し、プロファイルは、使用されている H.264 プロファイルを表しています。

| Bitrate | 幅 | [高さ] | 最大 FPS | プロファイル |
| --- | --- | --- | --- | --- |
| 3500 |1280 |720 |30 |高 |
| 2200 |960 |540 |30 |高 |
| 1350 |704 |396 |30 |高 |
| 850 |512 |288 |30 |高 |
| 550 |384 |216 |30 |高 |
| 200 |340 |192 |30 |高 |

> [!NOTE]
> ライブ エンコード プリセットをカスタマイズする必要がある場合は、Azure portal 経由でサポート チケットを開いてください。 目的の解像度とビットレートを指定する必要があります。 720p のレイヤーが 1 つだけあり、最大で 6 つのレイヤーがあることを確認してください。 また、Standard ライブ エンコーダーのプリセットを要求していることを必ず指定してください。
> ビットレートと解像度の特定の値は、時間の経過とともに調整される可能性があります

### <a name="output-video-streams-for-default1080p"></a>Default1080p の出力ビデオ ストリーム

コントリビューション フィードの解像度が 1080p である場合、**Default1080p** プリセットはフィードを次の 6 つのレイヤーにエンコードします。

| Bitrate | 幅 | [高さ] | 最大 FPS | プロファイル |
| --- | --- | --- | --- | --- |
| 5500 |1920 |1080 |30 |高 |
| 3000 |1280 |720 |30 |高 |
| 1600 |960 |540 |30 |高 |
| 800 |640 |360 |30 |高 |
| 400 |480 |270 |30 |高 |
| 200 |320 |180 |30 |高 |

> [!NOTE]
> ライブ エンコード プリセットをカスタマイズする必要がある場合は、Azure portal 経由でサポート チケットを開いてください。 目的の解像度とビットレートを指定する必要があります。 1080p のレイヤーが 1 つだけで、最大で 6 つのレイヤーが存在することを必ず確認してください。 また、Premium 1080p ライブ エンコーダーのプリセットを要求していることを必ず指定してください。
> ビットレートと解像度の特定の値は、時間の経過とともに調整される可能性があります。

### <a name="output-audio-stream-for-default720p-and-default1080p"></a>Default720p と Default1080p の出力オーディオ ストリーム

*Default720p* プリセットと *Default1080p* プリセットのどちらの場合も、オーディオは 128 kbps でステレオ AAC-LC にエンコードされています。 サンプリング レートは、コントリビューション フィードのオーディオ トラックのものに従います。

## <a name="implicit-properties-of-the-live-encoder"></a>ライブ エンコーダーの暗黙的プロパティ

前のセクションでは、レイヤーの数、解像度、ビットレートなど、プリセットを介して明示的に制御できるライブ エンコーダーのプロパティについて説明しています。 このセクションでは、暗黙的プロパティについて明確にします。

### <a name="group-of-pictures-gop-duration"></a>画像グループ (GOP) 時間

このライブ エンコーダーは、コントリビューション フィードの [GOP](https://en.wikipedia.org/wiki/Group_of_pictures) 構造に従います。つまり、出力レイヤーの GOP 時間は同じになります。 したがって、固定の GOP 時間 (通常 2 秒) を持つコントリビューション フィードを生成するようにオンプレミス エンコーダーを構成することをお勧めします。 これにより、サービスからの発信 HLS ストリームと MPEG DASH ストリームも固定の GOP 時間を持つことになります。 GOP 時間のわずかな違いは、大部分のデバイスで許容される可能性があります。

### <a name="frame-rate"></a>フレーム レート

ライブ エンコーダーは、コントリビューション フィードの個々のビデオ フレームの時間にも従います。つまり、出力レイヤーは同じ時間のフレームを持ちます。 したがって、固定のフレーム レート (最大で 30 フレーム/秒) を持つコントリビューション フィードを生成するようにオンプレミス エンコーダーを構成することをお勧めします。 これにより、サービスからの発信 HLS ストリームと MPEG DASH ストリームも固定のフレーム レート時間を持つことになります。 フレーム レートのわずかな違いは大部分のデバイスで許容される可能性がありますが、正しく再生される出力がライブ エンコーダーで生成される保証はありません。 オンプレミスのライブ エンコーダーでは、フレームが欠落したり ( バッテリーの状態が低いときなど)、フレームレートが変化したりすることがあってはなりません。

### <a name="resolution-of-contribution-feed-and-output-layers"></a>コントリビューション フィードと出力レイヤーの解像度

ライブ エンコーダーは、コントリビューション フィードのアップコンバートを避けるように構成されています。 その結果、出力レイヤーの最大解像度は、コントリビューション フィードのものを超えません。

たとえば、Default1080p ライブ エンコード用に構成されているライブ イベントにコントリビューション フィードを 720p で送信すると、出力レイヤーは、3Mbps の 720p から 200 kbps の 1080p までの 5 つのみになります。 あるいは、Standard ライブ エンコード用に構成されているライブ イベントにコントリビューション フィードを 360p で送信すると、出力には 3 つのレイヤー (解像度は 288p、216p、192p) が含まれます。 逆の場合、たとえば 160x90 ピクセルのコントリビューション フィードを Standard ライブ エンコーダーに送信すると、出力には、コントリビューション フィードと同じビットレートで 160x90 解像度のレイヤーが 1 つ含まれます。

### <a name="bitrate-of-contribution-feed-and-output-layers"></a>コントリビューション フィードと出力レイヤーのビットレート

ライブ エンコーダーは、コントリビューション フィードのビットレートに関係なく、プリセットのビットレート設定に従うように構成されています。 その結果、出力レイヤーのビットレートが、コントリビューション フィードのものを超える場合があります。 たとえば、1 Mbps に 720p の解像度でコントリビューション フィードを送信すると、出力レイヤーは上記の[表](live-event-types-comparison.md#output-video-streams-for-default720p)と同じままになります。

## <a name="next-steps"></a>次のステップ

[ライブ ストリーミングの概要](live-streaming-overview.md)
