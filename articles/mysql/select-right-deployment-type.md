---
title: 適切なデプロイの種類の選択 - Azure Database for MySQL
description: この記事では、Azure Database for MySQL をサービスとしてのインフラストラクチャ (IaaS) またはサービスとしてのプラットフォーム (PaaS) としてデプロイする前に考慮すべき要素について説明します。
author: savjani
ms.author: pariks
ms.service: mysql
ms.topic: conceptual
ms.date: 08/26/2020
ms.openlocfilehash: 125431e6630ccfdd9e0e5d6b2a4ec5fa9b9e58fd
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/03/2021
ms.locfileid: "101736187"
---
# <a name="choose-the-right-mysql-server-option-in-azure"></a>Azure で適切な MySQL サーバー オプションを選択する

Azure では、MySQL サーバーのワークロードをホスト型仮想マシンのサービスとしてのインフラストラクチャ (IaaS) で実行することも、ホスト型のサービスとしてのプラットフォーム (PaaS) として実行することもできます。 PaaS には複数のデプロイ オプションがあり、各デプロイ オプション内にサービス レベルがあります。 IaaS か PaaS かを選択する際には、データベースの管理、修正プログラムの適用、バックアップの実行を自分で行うか、これらの操作を Azure に委任するかを決定する必要があります。

決定する際に、次の 2 つのオプションを検討します。

- **Azure Database for MySQL**。 このオプションは、MySQL コミュニティ エディションの安定バージョンに基づくフル マネージドの MySQL データベース エンジンです。 このサービスとしてのリレーショナル データベース (DBaaS) は、Azure クラウド プラットフォームでホストされ、業界内のカテゴリとしては PaaS に分類されます。

  Azure 上の MySQL のマネージド インスタンスでは、MySQL サーバーがオンプレミスまたは Azure VM に存在する場合には大がかりな構成が必要となるような組み込みの機能、すなわち、パッチの自動適用、高可用性、自動バックアップ、エラスティック スケーリング、エンタープライズ グレードのセキュリティ、コンプライアンスとガバナンス、監視、アラートなどを使用できます。 MySQL をサービスとして使用する場合は、従量課金制になり、中断することなく制御の強化のためにスケールアップまたはスケールアウトするオプションが用意されています。
  
  MySQL コミュニティ エディションを搭載した [Azure Database for MySQL](overview.md) は、次の 2 つのデプロイ モードで利用できます。

  - [シングル サーバー](single-server-overview.md)は、最小限の要件でデータベースをカスタマイズできる、フル マネージド データベース サービスです。 シングル サーバー プラットフォームは、パッチの適用、バックアップ、高可用性、最小限のユーザー構成と制御によるセキュリティなど、データベース管理機能のほとんどを処理するよう設計されています。 このアーキテクチャは、1 つの可用性ゾーンで 99.99% の可用性を提供するように最適化されています。 シングル サーバーは、自動化されたパッチ適用を処理するように設計されていて、パッチ適用スケジュールや MySQL のカスタム構成設定をきめ細かに制御する必要がないクラウド ネイティブ アプリケーションに最適です。

  - [フレキシブル サーバー (プレビュー)](flexible-server/overview.md) は、データベース管理機能と構成設定のよりきめ細かな制御と柔軟性を提供するために設計された、フル マネージド データベース サービスです。 一般に、このサービスでは、ユーザーの要件に基づいて、シングル サーバー デプロイよりも高度な柔軟性とサーバー構成のカスタマイズが提供されます。 フレキシブル サーバー アーキテクチャの採用により、ユーザーは単一の可用性ゾーン内での可用性と、複数の可用性ゾーンにまたがる高可用性を選択できます。 また、フレキシブル サーバーでは、サーバーを開始および停止する機能と、バースト可能な SKU によって優れたコスト最適化制御が提供されるため、最大限のコンピューティング容量が継続的には必要とされないワークロードに最適です。

  フレキシブル サーバーは、以下の場合に最適です。

  - MySQL エンジンのより高度な制御とカスタマイズが必要なアプリケーション開発。
  - ゾーン冗長による高可用性
  - 管理されたメンテナンス期間

- **Azure VM 上の MySQL**。 このオプションは、IaaS の業界カテゴリに分類されます。 このサービスを使用すると、Azure クラウド プラット フォーム上の管理された仮想マシン内で MySQL サーバーを実行できます。 MySQL の最近のバージョンとエディションはすべて、仮想マシンにインストールできます。

## <a name="comparing-the-mysql-deployment-options-in-azure"></a>Azure の MySQL デプロイ オプションの比較

これらのオプションの主な違いを次の表に示します。

| 属性          | Azure Database for MySQL<br/>シングル サーバー |Azure Database for MySQL<br/>フレキシブル サーバー  |Azure VM 上の MySQL                      |
|:-------------------|:-------------------------------------------|:---------------------------------------------|:---------------------------------------|
| MySQL バージョンのサポート | 5.6、5.7、8.0| 5.7、8.0 | 任意のバージョン|
| コンピューティングのスケーリング | サポートされています (Basic レベルとの間のスケーリングはサポートされていません)| サポートされています | サポートされています|
| ストレージ サイズ | 5 GiB ～ 16 TiB| 5 GiB ～ 16 TiB | 32 GiB ～ 32,767 GiB|
| オンライン ストレージのスケーリング | サポートされています| サポートされています| サポートされていません|
| ストレージの自動スケーリング | サポートされています| プレビューではサポートされていません| サポートされていません|
| IOPS の追加スケーリング | サポートされていません| サポートされています| サポートされていません|
| ネットワーク接続 | - サーバー ファイアウォールがあるパブリック エンドポイント。<br/> - Private Link がサポートされているプライベート アクセス。|- サーバー ファイアウォールがあるパブリック エンドポイント。<br/> - Virtual Network 統合を使用したプライベート アクセス。| - サーバー ファイアウォールがあるパブリック エンドポイント。<br/> - Private Link がサポートされているプライベート アクセス。|
| サービス レベル アグリーメント (SLA) | 99.99% の可用性の SLA |プレビューでは SLA はありません| 可用性ゾーンの使用時に 99.99%|
| オペレーティング システムの修正プログラムの適用| 自動  | メンテナンス期間のカスタム制御が可能な自動式 | エンド ユーザーによる管理 |
| MySQL の修正プログラムの適用     | 自動  | メンテナンス期間のカスタム制御が可能な自動式 | エンド ユーザーによる管理 |
| 高可用性 | 単一可用性ゾーン内での組み込み HA| 可用性ゾーン内および可用性ゾーン間での組み込み HA | クラスタリングやレプリケーションなどを使用したカスタム管理|
| ゾーン冗長性 | サポートされていません | サポートされています | サポートされています|
| ゾーンの配置 | サポートされていません | サポートされています | サポートされています|
| ハイブリッド シナリオ | [データイン レプリケーション](./concepts-data-in-replication.md)を使用してサポートされます| プレビュー段階では利用できません | エンド ユーザーによる管理 |
| 読み取りレプリカ | サポートされています (レプリカは最大 5 個まで)| サポートされています (レプリカは最大 10 個まで)| エンド ユーザーによる管理 |
| Backup | 7 ～ 35 日のデータ保持によって自動化されます | 1 ～ 35 日のデータ保持によって自動化されます | エンド ユーザーによる管理 |
| データベース操作の監視 | サポートされています | サポートされています | エンド ユーザーによる管理 |
| 障害復旧 | geo 冗長バックアップ ストレージとリージョン間の読み取りレプリカによってサポートされます | プレビューではサポートされていません| レプリケーション テクノロジを使用したカスタム管理 |
| Query Performance Insights | サポートされています | プレビュー段階では利用できません| エンド ユーザーによる管理 |
| 予約インスタンスの価格 | サポートされています | プレビュー段階では利用できません | サポートされています |
| Azure AD Authentication | サポートされています | プレビュー段階では利用できません | サポートされていません|
| 保存データの暗号化 | カスタマー マネージド キーを使用してサポートされます | サービス マネージド キーを使用してサポートされます | サポートされていません|
| SSL/TLS | 既定で有効になり、TLS v1.2、1.1、および 1.0 がサポートされます | TLS v1.2 を使用して適用されます | TLS v1.2、1.1、および 1.0 でサポートされています |
| フリート管理 | Azure CLI、PowerShell、REST、Azure Resource Manager でサポートされています | Azure CLI、PowerShell、REST、Azure Resource Manager でサポートされています  | Azure CLI、PowerShell、REST、Azure Resource Manager を使用して VM でサポートされています |

## <a name="business-motivations-for-choosing-paas-or-iaas"></a>PaaS と IaaS のいずれかを選択するときのビジネスの要因

MySQL データベースをホストするために PaaS と IaaS のどちらを選択するかの決定に影響する可能性のある要素がいくつかあります。

### <a name="cost"></a>コスト

データベースをホストするための最適なソリューションを決定する主な考慮事項は、多くの場合、コストの削減です。 これは、資金が少ないスタートアップ企業であるか、厳しい予算の制約下で運用している老舗企業内のチームであるかに関係なく当てはまります。 このセクションでは、Azure Database for MySQL と Azure VM 上の MySQL に適用される Azure の課金とライセンスの基礎について説明します。

#### <a name="billing"></a>課金

Azure Database for MySQL は、リソースの料金が異なる複数のサービス レベルでサービスとして利用できます。 すべてのリソースは、固定レートで時間単位で課金されます。 現在サポートされているサービス レベル、コンピューティング サイズ、ストレージ容量の最新情報については、[料金のページ](https://azure.microsoft.com/pricing/details/mysql/)を参照してください。 サービス レベルとコンピューティング サイズを動的に調整して、アプリケーションのさまざまなスループット ニーズを満たすことができます。 インターネット トラフィックの送信に対しては、通常の[データ転送料金](https://azure.microsoft.com/pricing/details/data-transfers/)で課金されます。

Azure Database for MySQL では、Microsoft がデータベース ソフトウェアの構成、修正プログラムの適用、およびアップグレードを行います。 これらの自動化されたアクションにより、管理コストが削減されます。 また、Azure Database for MySQL には [自動化されたバックアップ](./concepts-backup.md)機能があります。 こうした機能は、特に多数のデータベースがある場合の大幅なコスト削減に役立ちます。 対照的に、Azure VM 上の MySQL では、任意の MySQL バージョンを選択して実行できます。 どの MySQL バージョンを使用するかを問わず、プロビジョニングされた VM、データに関連するストレージ コスト、バックアップ、監視データ、ログ ストレージ、および使用される特定の MySQL ライセンスの種類 (存在する場合) について支払いをします。

Azure Database for MySQL は、あらゆる種類のノード レベルの中断に対して組み込みの高可用性を提供し、サービスに対する 99.99% の SLA 保証を維持します。 ただし、VM 内でデータベースの高可用性を実現するには、MySQL データベースで利用できる [MySQL レプリケーション](https://dev.mysql.com/doc/refman/8.0/en/replication.html)などの高可用性オプションを使用します。 サポートされている高可用性オプションを使用しても、追加の SLA は提供されません。 ただし、追加コストと管理オーバーヘッドで 99.99% を超えるデータベース可用性を実現できます。

価格の詳細については、次の記事を参照してください。

- [Azure Database for MySQL の価格](https://azure.microsoft.com/pricing/details/mysql/)
- [仮想マシンの価格](https://azure.microsoft.com/pricing/details/virtual-machines/)
- [Azure 料金計算ツール](https://azure.microsoft.com/pricing/calculator/)

### <a name="administration"></a>管理

多くの企業にとって、クラウド サービスへの移行の決定には、コストだけでなく、管理の複雑さの軽減も重要な要素です。

IaaS の場合、Microsoft では次のことを行います。

- 基になるインフラストラクチャを管理します。
- 基になるハードウェアと OS に対して自動化されたパッチ適用を提供します。
  
PaaS の利用時には、Microsoft が以下のことを行います。

- 基になるインフラストラクチャを管理します。
- 基になるハードウェア、OS、およびデータベース エンジンに対して修正プログラムを自動的に適用します。
- データベースの高可用性を管理します。
- 自動的にバックアップを実行してすべてのデータをレプリケートし、ディザスター リカバリーを提供します。
- 既定で保存データと移動中のデータを暗号化します。
- サーバーを監視して、クエリ パフォーマンスの分析情報とパフォーマンスに関する推奨事項についての機能を提供します。

各オプションの管理上の考慮事項について、次の一覧で説明します。

- Azure Database for MySQL では、データベースを引き続き管理できます。 しかしながら、データベース エンジン、オペレーティング システム、ハードウェアを管理する必要はなくなります。 引き続き管理できる項目の例を次に示します。

  - データベース
  - サインイン
  - インデックスのチューニング
  - クエリのチューニング
  - 監査
  - セキュリティ

  また、別のデータ センターに高可用性を構成するために必要な構成や管理は、最小限で済むか、まったく行わないで済みます。

- Azure VM 上の MySQL では、オペレーティング システムと MySQL サーバー インスタンスの構成を全面的に制御できます。 VM 利用時は、オペレーティング システムとデータベース ソフトウェアの更新またはアップグレードをいつ行うかと、どのパッチを適用するかを決定します。 また、ウイルス対策アプリケーションなどの追加ソフトウェアをインストールするタイミングも決定します。 修正プログラムの適用、バックアップ、高可用性の実現を大幅に簡素化するために、自動化された機能がいくつか用意されています。 VM のサイズ、ディスクの数、ストレージの構成を制御できます。 詳細については、[Azure の仮想マシンおよびクラウド サービスのサイズ](../virtual-machines/sizes.md)に関する記事を参照してください。

### <a name="time-to-move-to-azure"></a>Azure へ移行するタイミング

- Azure Database for MySQL は、開発者の生産性と新しいソリューションの製品化に要する時間の短縮が重要な場合において、クラウド用に設計されたアプリケーションに最適なソリューションです。 このサービスは、DBA のようなプログラムによる機能を備えることで、基になるオペレーティング システムとデータベースを管理する必要性が減少するため、クラウドの設計者と開発者に適しています。

- 新しいオンプレミス ハードウェアの購入に伴う時間とコストを回避したい場合、サービスではサポートされない MySQL エンジンのきめ細かな制御とカスタマイズが必要なアプリケーションや、基になっている OS のアクセスを必要とするアプリケーションには、Azure VM 上の MySQL が適切なソリューションです。 このソリューションは、既存のオンプレミス アプリケーションとデータベースを Azure にそのまま移行する場合、Azure Database for MySQL が適さない場合にも適しています。

プレゼンテーション層、アプリケーション層、データ層を変更する必要がないため、既存のソリューションを再設計する時間と予算が節約されます。 その代わりに、すべてのソリューションを Azure に移行することと、Azure プラットフォームで必要となる可能性のあるパフォーマンス最適化に取り組むことに集中できます。

## <a name="next-steps"></a>次のステップ

- 「[Azure Database for MySQL の価格](https://azure.microsoft.com/pricing/details/MySQL/)」をご確認ください。
- [初めてのサーバーを作成](./quickstart-create-mysql-server-database-using-azure-portal.md)してみましょう。
