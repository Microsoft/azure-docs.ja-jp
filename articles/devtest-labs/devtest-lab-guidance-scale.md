---
title: Azure DevTest Labs インフラストラクチャをスケールアップする
description: この記事では、Azure DevTest Labs インフラストラクチャをスケールアップするためのガイダンスを提供します。
ms.topic: article
ms.date: 06/26/2020
ms.reviewer: christianreddington,anthdela,juselph
ms.openlocfilehash: 50bf08678a12a1a0499abd08c52a264d03f4a401
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/02/2020
ms.locfileid: "85478792"
---
# <a name="scale-up-your-azure-devtest-labs-infrastructure"></a>Azure DevTest Labs インフラストラクチャをスケールアップする
エンタープライズ規模で DevTest Labs を実装する前には、いくつかの重要な意思決定ポイントがあります。 これらの意思決定ポイントを高いレベルで理解することは、将来の設計上の決定を抱えている組織に役立ちます。 ただし、これらのポイントが、組織の概念実証の開始を妨げないようにする必要があります。 初期のスケール アップ計画には、重要な領域が 3 つあります。

- ネットワークとセキュリティ
- サブスクリプションのトポロジ
- ロールと責任

## <a name="networking-and-security"></a>ネットワークとセキュリティ
ネットワークとセキュリティは、すべての組織の土台となるものです。 エンタープライズ全体の展開には非常に深い分析が必要ですが、適切に概念実証を完了するための要件の数は、より少数です。 いくつかの主な重点領域は次のとおりです。

- **Azure サブスクリプション** – DevTest Labs をデプロイするには、リソースを作成するための適切な権限を持つ Azure サブスクリプションにアクセスできる必要があります。 Enterprise Agreement や従量課金制などの Azure サブスクリプションにアクセスする方法は多数あります。 Azure サブスクリプションへのアクセスを取得することの詳細については、「[Azure のエンタープライズ向けライセンス](https://azure.microsoft.com/pricing/enterprise-agreement/)」を参照してください。
- **オンプレミスのリソースへのアクセス** – 組織によっては、DevTest Labs 内のリソースが、オンプレミスのリソースにアクセスできる必要があります。 オンプレミス環境から Azure へのセキュリティで保護された接続が必要です。 そのため、着手する前に VPN 接続または Express Route 接続のいずれかをセットアップ/構成することが重要です。 詳細については、「[Virtual Network の概要](../virtual-network/virtual-networks-overview.md)」を参照してください。
- **追加のセキュリティ要件** – マシン ポリシー、パブリック IP アドレスへのアクセス、インターネットへの接続など、その他のセキュリティ要件は、概念実証を実装する前に確認が必要となる場合があるシナリオです。 

## <a name="subscription-topology"></a>サブスクリプションのトポロジ
サブスクリプションのトポロジは、DevTest Labs を Enterprise にデプロイする場合の重要な設計上の考慮事項です。 ただし、概念実証が完了するまでにすべての決定を確定させる必要はありません。 エンタープライズ実装に必要なサブスクリプションの数を評価する場合、2 つの極端な状況があります。 

- 組織全体に対して 1 つのサブスクリプション
- ユーザーごとのサブスクリプション

次に、それぞれのアプローチの利点を示します。

### <a name="one-subscription"></a>1 つのサブスクリプション
多くの場合、1 つのサブスクリプションのアプローチは、大企業で管理可能なものではありません。 ただし、サブスクリプションの数を制限すると以下の利点があります。

- エンタープライズのコストの**予測**。  1 つのサブスクリプションでは、すべてのリソースが 1 つのプール内にあるため、予算の作成がずっと容易になります。 このアプローチでは、請求サイクル内の特定の時点において、コスト管理対策をいつ実施するかの意思決定を単純化できます。
- VM、成果物、数式、ネットワーク構成、アクセス許可、ポリシーなどの**管理の容易さ**が高まります。これは、多数のサブスクリプションにわたって更新を行うのではなく、すべての更新プログラムが必要とされるのは 1 つのサブスクリプション内のみであるためです。
- オンプレミス接続が要件となっているエンタープライズに対して 1 つのサブスクリプションを使用する場合、**ネットワーク**作業が大幅に簡素化されます。 サブスクリプションの追加があると、サブスクリプション間の仮想ネットワークの接続 (ハブスポーク モデル) が必要となります。この場合、追加の構成、管理、IP アドレス空間などが必要です。
- 全員が同じサブスクリプション内で作業しているときには、**チームのコラボレーション**はより容易です。たとえば、VM の共同作業者への再割り当てや、チーム リソースの共有などがより簡単です。

### <a name="subscription-per-user"></a>ユーザーごとのサブスクリプション
ユーザーごとの個別のサブスクリプションでは、選択肢の範囲が限定されなくなります。 多くのサブスクリプションを利用する場合の利点は以下のとおりです。

- **Azure でのスケーリングのクォータ**が採用の妨げにならなくなります。 たとえば、この記事の作成時点では、Azure においてサブスクリプションあたり 200 のストレージ アカウントを使用できます。 Azure では、ほとんどのサービスについて、運用上のクォータがあります (多くはカスタマイズ可能ですが一部はできません)。 ユーザーごとのサブスクリプションのこのモデルでは、ほとんどのクォータに関して、上限に達する可能性はごくわずかです。 Azure でのスケーリングのクォータに関する詳細については、「[Azure サブスクリプションとサービスの制限、クォータ、制約](../azure-resource-manager/management/azure-subscription-service-limits.md)」を参照してください。
- グループまたは個人開発者への**チャージ バック**が大幅に容易になるので、組織は現在のモデルを使用してコストを計上できます。
- DevTest Labs 環境の**所有権とアクセス許可**は単純です。 開発者にはサブスクリプション レベルのアクセスを与え、ネットワーク構成、ラボのポリシー、VM の管理を含むすべてのことを管理させます。

Enterprise 内では、こうした両極端の範囲では多くの制約が生じる可能性があります。 そのため、これらの両極端の間になる方法でサブスクリプションを設定する必要があるでしょう。 ベスト プラクティスとしては、サブスクリプションの合計数を増やすことを促進している部門を念頭に置いて、最小限の数のサブスクリプションを使用することを組織の目標にする必要があります。 繰り返しますが、サブスクリプションのトポロジは DevTest Labs のエンタープライズ展開のために重要ですが、概念実証を遅らせないようにする必要があります。 その他に、[ガバナンス](devtest-lab-guidance-governance-policy-compliance.md)に関する記事には、組織におけるサブスクリプションとラボの細分性を決定する方法についての詳細が記載されています。

## <a name="roles-and-responsibilities"></a>ロールと責任
DevTest Labs での概念実証には、責任が定義されたプライマリ ロールとして、サブスクリプション所有者、DevTest Labs 所有者、DevTest Labs ユーザーの 3 つがあります。また、必要に応じて共同作成者が加わります。

- **サブスクリプション所有者** – サブスクリプション所有者は、ユーザーの割り当て、ポリシーの管理、ネットワーク トポロジの作成と管理、クォータ増加の要求など、Azure サブスクリプションを管理する権限を持っています。詳細については、 [こちらの記事](../role-based-access-control/rbac-and-directory-admin-roles.md)を参照してください。
- **DevTest Labs 所有者** – DevTest Labs 所有者は、ラボに対する完全な管理者アクセスを持っています。 このユーザーは、ユーザーの追加と削除、コスト設定の管理、一般的なラボの設定、およびその他の VM/成果物ベースのタスクを管理します。 ラボ所有者は、DevTest Labs ユーザーのすべての権利も持っています。
- **DevTest Labs ユーザー** – DevTest Labs ユーザーは、ラボ内で仮想マシンを作成して使用することができます。 これらのユーザーは、自分が作成する VM に対して最小限の管理機能をいくつか持ってします (自分の VM の開始/停止/削除/構成)。 ユーザーは、他のユーザーの VM は管理できません。

## <a name="next-steps"></a>次のステップ
このシリーズの次の記事をご覧ください。[Azure DevTest Labs の実装を調整する](devtest-lab-guidance-orchestrate-implementation.md)