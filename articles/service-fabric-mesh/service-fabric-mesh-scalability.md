---
title: Azure Service Fabric Mesh アプリのスケーラビリティ
description: Service Fabric Mesh にアプリケーションをデプロイすることの利点の 1 つは、手動でも自動スケールのポリシーを使用した場合でも、サービスを簡単にスケーリングできることです。
author: dkkapur
ms.author: dekapur
ms.date: 10/26/2018
ms.topic: conceptual
ms.openlocfilehash: 474eda904df653d514fd2ee59fa046f1f87a66aa
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/02/2020
ms.locfileid: "84712243"
---
# <a name="scaling-service-fabric-mesh-applications"></a>Service Fabric Mesh アプリケーションの拡大縮小

Service Fabric Mesh にアプリケーションをデプロイすることの主な利点の 1 つは、サービスを簡単にスケールイン/スケールアウトできることです。これはサービスに対する負荷量の変化に対処するためや可用性を上げるために使用します。 手動でサービスを拡大縮小したり、自動拡大縮小のポリシーを設定したりできます。

## <a name="manual-scaling-instances"></a>インスタンスの手動拡大縮小

アプリケーション リソースのデプロイ テンプレートでは、各サービスに *replicaCount* プロパティが与えられます。このプロパティを利用し、そのサービスをデプロイする回数を設定できます。 1 つのアプリケーションは、まとめてデプロイされ、管理される複数サービスで構成できます。各サービスに一意の *replicaCount* 番号が与えられます。 サービス レプリカの数をスケーリングするために、スケーリングするサービスごとにデプロイ テンプレートまたはパラメーター ファイルの *replicaCount* 値を変更できます。 次に、アプリケーションをアップグレードします。

インスタンスを手動で拡大縮小する例については、「[サービスを手動でスケールイン/スケールアウトする](service-fabric-mesh-tutorial-template-scale-services.md)」を参照してください。

## <a name="autoscaling-service-instances"></a>サービス インスタンスの自動拡大縮小
自動拡大縮小は Service Fabric の追加機能であり、サービス インスタンスの数を動的に拡大縮小します (水平方向の拡大縮小)。 自動スケーリングは弾力性に優れ、CPU またはメモリの使用率に基づいてサービス インスタンスをプロビジョニングしたり、削除したりできます。  自動拡大縮小では、ワークロードに適した数のサービス インスタンスを実行したり、コストに合わせて最適化したりできます。

自動拡大縮小ポリシーは、サービス リソース ファイルでサービス別に定義されます。 それぞれのスケーリング ポリシーは、2 つの部分で構成されます。

- スケーリング トリガーは、サービスのスケーリングがいつ実行されるかを記述します。 サービスのスケーリングのタイミングを決定する 3 つの要素があります。 *負荷のしきい値の下限*は、サービスがスケールインされるタイミングを決定します。 パーティションのすべてのインスタンスの平均負荷がこの値よりも小さい場合、サービスはスケールインされます。 *負荷のしきい値の上限*は、サービスがスケールアウトされるタイミングを決定します。パーティションのすべてのインスタンスの平均負荷がこの値よりも大きい場合、サービスはスケールアウトされます。*スケーリング間隔*は、トリガーをチェックする頻度 (秒単位) を決定します。 トリガーがチェックされ、スケーリングが必要な場合は、メカニズムが適用されます。 スケーリングが必要でない場合は、アクションは行われません。 どちらの場合も、トリガーは、スケール間隔が経過するまで再度チェックされることはありません。

- スケーリング メカニズムは、トリガーされたときにスケーリングをどのように実行するかを記述します。 *スケールの増分*は、メカニズムがトリガーされたときに追加または削除されるインスタンスの数を決定します。 *最大インスタンス数*は、スケーリングの上限を定義します。 インスタンス数がこの制限に達すると、負荷に関係なくサービスはスケールアウトされなくなります。 *最小インスタンス数*は、スケーリングの下限を定義します。 パーティションのインスタンス数がこの制限に達すると、負荷に関係なくサービスはスケールインされなくなります。

サービスに自動拡大縮小ポリシーを設定する方法については、[サービスの自動拡大縮小](service-fabric-mesh-howto-auto-scale-services.md)に関するページを参照してください。

## <a name="next-steps"></a>次のステップ

アプリケーション モデルについては、[Service Fabric のリソース](service-fabric-mesh-service-fabric-resources.md)に関する記事を参照してください。
