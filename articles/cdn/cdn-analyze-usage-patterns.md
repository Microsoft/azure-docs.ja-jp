---
title: Verizon からのコア レポート | Microsoft Docs
description: '次のレポートを使用して、CDN の使用パターンを表示できます: 帯域幅、転送されたデータ、ヒット数、キャッシュの状態、キャッシュ ヒット率、転送された IPV4/IPV6 データ。'
services: cdn
documentationcenter: ''
author: zhangmanling
manager: erikre
editor: ''
ms.assetid: 5a0d9018-8bdb-48ff-84df-23648ebcf763
ms.service: azure-cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: how-to
ms.date: 01/23/2017
ms.author: mazha
ms.openlocfilehash: 3dc7547dbcf2bde7dd7db0d3f0db3f163a5910ef
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/02/2020
ms.locfileid: "84888431"
---
# <a name="core-reports-from-verizon"></a>Verizon からのコア レポート

[!INCLUDE [cdn-verizon-only](../../includes/cdn-verizon-only.md)]

Verizon プロファイルの管理ポータルから Verizon コア レポートを使用することにより、次のレポートで CDN の使用パターンを表示できます。

* 帯域幅
* 転送されたデータ
* ヒット数
* キャッシュの状態
* キャッシュ ヒット率
* 転送された IPV4/IPV6 データ

## <a name="accessing-verizon-core-reports"></a>Verizon コア レポートへのアクセス
1. CDN プロファイル ブレードで、 **[管理]** をクリックします。
   
    ![[CDN プロファイル] の [管理] ボタン](./media/cdn-reports/cdn-manage-btn.png)
   
    CDN 管理ポータルが開きます。
2. **[分析]** タブにマウス ポインターを合わせ、次に **[Core Reports (コア レポート)]** フライアウトにポインターを合わせます。 メニューでレポートをクリックします。
   
    ![CDN management portal - Core Reports menu](./media/cdn-reports/cdn-core-reports.png)

3. レポートごとに、 **[日付範囲]** の一覧から日付範囲を選択します。 定義済みの日付範囲 ( **[今日]** や **[今週]** など) を選択するか、 **[カスタム]** を選択し、カレンダー アイコンをクリックして日付範囲を手動で入力できます。 

4. 日付範囲を選択したら、 **[Go]\(適用\)** をクリックして、レポートを生成します。 

4. データを Excel 形式でエクスポートする必要がある場合は、 **[Go]\(適用\)** ボタンの上にある Excel アイコンをクリックします。

## <a name="bandwidth"></a>帯域幅
帯域幅レポートは、特定の期間での HTTP および HTTPS の CDN 帯域幅の使用量を示すグラフやデータ テーブルで構成されます (Mbps 単位)。 すべてのPOP または特定の POP での帯域幅の使用量を表示できます。 このレポートでは、POP でのトラフィックの急増や分布を表示できます。

**[エッジ ノード]** の一覧から、 **[All Edge Nodes]\(すべてのエッジ ノード\)** を選択して、すべてのノードのトラフックを確認するか、特定のリージョンを選択します。

レポートは、5 分ごとに更新されます。

![帯域幅レポート](./media/cdn-reports/cdn-bandwidth.png)

## <a name="data-transferred"></a>転送されたデータ
このレポートは、特定の期間における HTTP および HTTPS の CDN トラフィックの使用量を示すグラフやデータ テーブルで構成されます (GB 単位)。 すべての POP または特定の POP でのトラフィックの使用量を表示できます。 このレポートでは、POP のトラフィックの急増や分布を表示できます。

**[エッジ ノード]** の一覧から、 **[All Edge Nodes]\(すべてのエッジ ノード\)** を選択して、すべてのノードのトラフックを確認するか、特定のリージョンを選択します。

レポートは、5 分ごとに更新されます。

![転送されたデータ レポート](./media/cdn-reports/cdn-data-transferred.png)

## <a name="hits-status-codes"></a>ヒット数 (状態コード)
このレポートは、コンテンツの要求状態コードの分布を示します。 コンテンツのすべての要求で、HTTP 状態コードが生成されます。 状態コードにより、エッジ POP が要求をどのように処理したかがわかります。 たとえば、2xx 状態コードは、要求がクライアントに正常に提供されたことを、4xx 状態コードは、エラーが発生したことを示します。 HTTP 状態コードの詳細については、「[List of HTTP status code (HTTP 状態コードの一覧)](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes)」を参照してください。

![ヒット数レポート](./media/cdn-reports/cdn-hits.png)

## <a name="cache-statuses"></a>キャッシュの状態
このレポートは、クライアント要求のキャッシュ ヒット数とキャッシュ ミス数の分布を示します。 最速のパフォーマンス結果はキャッシュ ヒット数から得られるため、キャッシュ ミス数と期限切れのキャッシュ ヒット数を最小化することで、データ配信速度を最適化できます。 

キャッシュ ミス数を減らすには、以下の使用を最小限に抑えるように配信元サーバーを構成します。 
 * `no-cache` 応答ヘッダー
 * クエリ文字列のキャッシュ (やむを得ない場合を除く)  
 * キャッシュできない応答ヘッダー

期限切れのキャッシュ ヒット数を減らすには、資産の `max-age` をできるだけ長くして、配信元サーバーへの要求数を最小限に抑えます。

![キャッシュの状態レポート](./media/cdn-reports/cdn-cache-statuses.png)

### <a name="main-cache-statuses-include"></a>主なキャッシュの状態には次のようなものがあります。
* TCP_HIT: エッジ サーバーから提供されます。 オブジェクトはキャッシュ内にあり、その最大期間を超えませんでした。
* TCP_MISS: 配信元サーバーから提供されます。 オブジェクトはキャッシュ内になく、応答が配信元に戻りました。
* TCP_EXPIRED _MISS: 配信元との再検証後、配信元サーバーから提供されます。 オブジェクトはキャッシュ内にありましたが、その最大期間を超えました。 配信元との再検証により、キャッシュ オブジェクトが配信元からの新しい応答に置き換えられました。
* TCP_EXPIRED _MISS: 配信元との再検証後、Edge から提供されます。 オブジェクトはキャッシュ内にありましたが、その最大期間を超えました。 配信元サーバーとの再検証により、キャッシュ オブジェクトは変更されませんでした。

### <a name="full-list-of-cache-statuses"></a>キャッシュの状態の完全な一覧
* TCP_HIT - この状態は、要求が POP からクライアントに直接提供された場合に報告されます。 資産は、クライアントに一番近い POP でキャッシュされ、有効な有効期限 (TTL) がある場合に、POP から直ちに提供されます。 TTL は、次の応答ヘッダーによって決定されます。
  
  * Cache-Control: s-maxage
  * Cache-Control: max-age
  * Expires
* TCP_MISS: この状態は、要求された資産のキャッシュされたバージョンが、クライアントに最も近い POP に見つからなかったことを示します。 資産が、配信元サーバーまたは配信元シールド サーバーから要求されます。 配信元サーバーまたは配信元シールド サーバーが資産を返した場合、その資産はクライアントに提供され、クライアントとエッジ サーバーの両方でキャッシュされます。 それ以外の場合、200 以外の状態コード (403 Forbidden、404 Not Found など) が返されます。
* TCP_EXPIRED_HIT: この状態は、期限切れの TTL の資産をターゲットとした要求が、POP からクライアントに直接提供された場合に報告されます。 たとえば資産の最大期間を超えた場合が該当します。 
  
   通常、期限切れの要求では、配信元のサーバーに再検証の要求が送られます。 TCP_EXPIRED_HIT 状態を発生させるには、配信元サーバーが、より新しいバージョンの資産が存在しないことを示す必要があります。 このような状況では通常、その資産の Cache-Control と Expires ヘッダーが更新されます。
* TCP_EXPIRED_MISS: この状態は、期限切れのキャッシュされた資産のより新しいバージョンが POP からクライアントに提供された場合に報告されます。 この状態は、キャッシュされた資産の TTL が切れ (max-age が切れた場合など)、配信元サーバーからより新しいバージョンの資産が返された場合に発生します。 この新しいバージョンの資産が、キャッシュされたバージョンの代わりに、クライアントに提供されます。 またこれは、エッジ サーバーとクライアントでキャッシュされます。
* CONFIG_NOCACHE: この状態は、エッジ POP 上のユーザー固有の構成で資産のキャッシュが回避されたことを示します。
* NONE - この状態は、キャッシュ内容更新チェックが実行されなかったことを示します。
* TCP_CLIENT_REFRESH_MISS: この状態は、使わなくなった資産の新しいバージョンをエッジ POP が配信元サーバーから取得することが HTTP クライアント (ブラウザーなど) により強制された場合に報告されます。 既定では、サーバーで HTTP クライアントは、エッジ サーバーに対して新しいバージョンの資産を、配信元のサーバーから取得することを強制できません。
* TCP_PARTIAL_HIT: この状態は、バイト範囲の要求で、部分的にキャッシュされた資産のヒットが発生した場合に報告されます。 要求されたバイト範囲は、POP からクライアントに直ちに提供されます。
* UNCACHEABLE: この状態は、資産の `Cache-Control` と `Expires` ヘッダーで、資産が POP で、または HTTP クライアントによりキャッシュされる必要があることが示された場合に報告されます。 この種の要求は、配信元サーバーから提供されます。

## <a name="cache-hit-ratio"></a>キャッシュ ヒット率
このレポートは、キャッシュから直接提供されたキャッシュされた要求の割合を示します。

レポートは次の詳細を示します。

* 要求された内容が依頼者に最も近い POP でキャッシュされたかどうか。
* 要求がネットワークのエッジから直接提供されたかどうか。
* 要求で、配信元サーバーとの再検証が必要だったかどうか。

次の情報は提供されません。

* 国/地域のフィルタリング オプションによって拒否された要求。
* キャッシュできないことがヘッダーで示された資産の要求。 たとえば、`Cache-Control: private`、`Cache-Control: no-cache`、または `Pragma: no-cache` ヘッダーでは資産をキャッシュできません。
* 部分的にキャッシュされた内容のバイト範囲要求。

数式は次のとおりです: (TCP_ HIT/(TCP_ HIT+TCP_MISS))* 100

![キャッシュ ヒット率レポート](./media/cdn-reports/cdn-cache-hit-ratio.png)

## <a name="ipv4ipv6-data-transferred"></a>転送された IPV4/IPV6 データ
このレポートは、IPV4 と IPV6 のトラフィック使用量の分布を示します。

![転送された IPV4/IPV6 データ](./media/cdn-reports/cdn-ipv4-ipv6.png)

## <a name="considerations"></a>考慮事項
レポートは過去 18 か月分のみ生成できます。

