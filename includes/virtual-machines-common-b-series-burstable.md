---
title: インクルード ファイル
description: インクルード ファイル
services: virtual-machines
author: ayshakeen
ms.service: virtual-machines
ms.topic: include
ms.date: 03/09/2018
ms.author: azcspmt;ayshak;cynthn
ms.custom: include file
ms.openlocfilehash: d76a3bb463452207e4b5b023cfe07dfd156e95f4
ms.sourcegitcommit: c3d1aa5a1d922c172654b50a6a5c8b2a6c71aa91
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59684686"
---
B シリーズ VM ファミリでは、ワークロードで必要とされるベース レベル パフォーマンスを備えた VM を選べるだけでなく、負荷が急増した場合に Intel® Broadwell E5-2673 v4 2.3 GHz または Intel® Haswell 2.4 GHz E5-2673 v3 プロセッサ vCPU の CPU パフォーマンスを 100% 引き出すことができます。

Web サーバー、概念実証、小規模なデータベース、開発ビルド環境など、CPU が常時最大限のパフォーマンスを発揮する必要のないワークロードでは、B シリーズ VM が最適です。 このようなワークロードでは通常、負荷の急増に対応できることがパフォーマンスの要件となります。 B シリーズでは、購入する VM サイズに一定のベースライン パフォーマンスが約束されており、その VM インスタンスの使用量がベースラインを下回る場合には "クレジット" が蓄積されていきます。 VM にクレジットが蓄積されていると、アプリケーションで必要な CPU パフォーマンスが高まった場合にベースライン以上のパフォーマンス (上限: vCPU のパフォーマンスの 100%) を実現できます。

B シリーズには、次の 6 つの VM サイズが用意されています。

| Size             | vCPU  | メモリ: GiB | 一時ストレージ (SSD) GiB | VM のベース CPU パフォーマンス | VM の最大 CPU パフォーマンス | 1 時間に蓄積されるクレジット | 蓄積できるクレジットの最大値 | 最大データ ディスク数 | キャッシュが有効な場合の一時ストレージの最大スループット: IOPS/MBps | キャッシュが無効な場合の最大ディスク スループット: IOPS/MBps | 最大 NIC 数 |          
|---------------|-------------|----------------|----------------------------|-----------------------|--------------------|--------------------|----------------|----------------------------------------|-------------------------------------------|-------------------------------------------|----------|
| Standard_B1ls<sup>1</sup>  | 1           | 0.5              | 4                          | 5%                   | 100%                   | 3                  | 72            | 2                                      | 200/10                                  | 160/10                                  | 2  |
| Standard_B1s  | 1           | 1              | 4                          | 10%                   | 100%                   | 6                  | 144            | 2                       | 400/10                                  | 320/10                                  | 2  |
| Standard_B1ms | 1           | 2              | 4                          | 20%                   | 100%                   | 12                 | 288           | 2                        | 800/10                                  | 640/10                                  | 2  |
| Standard_B2s  | 2           | 4              | 8                          | 40%                   | 200%                   | 24                 | 576            | 4                                      | 1,600/15                                 | 1,280/15                                 | 3  |
| Standard_B2ms | 2           | 8              | 16                         | 60%                   | 200%                   | 36                 | 864            | 4                                      | 2,400/22.5                               | 1,920/22.5                               | 3  |
| Standard_B4ms | 4           | 16             | 32                         | 90%                   | 400%                   | 54                 | 1,296           | 8                                      | 3,600/35                                 | 2,880/35                                 | 4  |
| Standard_B8ms | 8           | 32             | 64                         | 135%                  | 800%                   | 81                 | 1,944           | 16                                     | 4,320/50                                 | 4,320/50                                 | 4  |

<sup>1</sup> B1ls は Linux でのみサポートされています

## <a name="q--a"></a>Q & A 

### <a name="q-how-do-you-get-135-baseline-performance-from-a-vm"></a>Q:VM のベースライン パフォーマンスが 135% というのは、どういうことでしょうか?
**A**: 135% というのは、その VM サイズを構成する 8 つの vCPU により共有される数字です。 たとえば、アプリケーションで 8 個あるコアのうち 4 個を使用してバッチ処理を実行しており、その 4 つの vCPU の使用率がそれぞれ 30% であれば、VM の CPU パフォーマンスの合計は 120% になります。  つまり、ベースライン パフォーマンスとの差分となる 15% が、VM によりクレジット時間として蓄積されていくことになります。  逆に、(VM の CPU パフォーマンスの最大値は 800% であるわけですから) クレジットの残高があれば、同じ VM で 8 つの vCPU すべてについて 100% のパフォーマンスを使用することもできます。


### <a name="q-how-can-i-monitor-my-credit-balance-and-consumption"></a>Q:クレジットの残高や消費量を確認するにはどうすればよいでしょうか?
**A**: 今後数週間の間に、新しいメトリックを 2 つ導入する予定です。1 つが **Credit** で、VM で蓄積されたクレジットの数を確認できます。もう 1 つが **ConsumedCredit** で、蓄積した CPU クレジットをどれだけ消費したかを確認できます。    この 2 つのメトリックは、ポータルの [メトリック] ウィンドウのほか、プログラムを使って Azure Monitor API 経由で確認できるようにする予定です。

Azure でメトリック データにアクセスする方法の詳細については、「[Microsoft Azure のメトリックの概要](../articles/monitoring-and-diagnostics/monitoring-overview-metrics.md)」を参照してください。

### <a name="q-how-are-credits-accumulated"></a>Q:クレジットはどのように蓄積されていくのでしょうか?
**A**: VM によるクレジットの蓄積と消費のスピードは、VM がベース パフォーマンス レベルで実行されている場合にクレジットの蓄積量と消費量がいずれもゼロになるように設定されています。  VM の実行中にベース パフォーマンス レベルを下回っていればクレジットが増加し、ベース パフォーマンス レベルよりも多く CPU を使用していればクレジットが減少します。

**例**:小規模な勤怠データベース アプリケーション用に B1ms サイズの VM をデプロイしました。 このサイズでは、アプリケーションでベースラインとして vCPU の最大 20% を使用できます。この場合、1 分あたりに利用または蓄積できるクレジットは 0.2 となります。 

このアプリケーションは、従業員の勤務日の始めと終わり、具体的には AM 7:00 ～ 9:00 と PM 4:00 ～ 6:00 の間にそれぞれ負荷が大きくなります。 それ以外の 20 時間はこのアプリケーションをほとんど使用しないため、vCPU の使用量はわずか 10% にまで下がります。 このピーク外の時間には、利用できるクレジットが 1 分あたり 0.2 でありながら 0.1 しか消費しません。このため、1 時間に 0.1 x 60 = 6 クレジットが蓄積されます。  つまり、ピーク外の 20 時間に合計 120 クレジットが蓄積されることになります。  

これに対して、ピーク時間にはアプリケーションの vCPU 使用率が平均 60% になります。ピーク時間であっても 1 分あたり 0.2 のクレジットを利用できるのは変わりませんが、今度は 1 分間にクレジットを 0.6 を消費しているため、1 分あたり正味 0.4 クレジット、1 時間あたりでは 0.4 x 60 = 24 クレジットを消費することになります。 ピーク時間は 1 日 4 時間であることから、ピーク時間のクレジット使用量は 4 x 24 = 96 となります。

ピーク外の時間に獲得したクレジット 120 からピーク時に消費したクレジット 96 を差し引くと、1 日あたり 24 クレジットが残ります。この分は、別の事情でアクティビティが急増した場合に使用することができます。


### <a name="q-does-the-b-series-support-premium-storage-data-disks"></a>Q:B シリーズでは、Premium Storage データ ディスクをサポートしていますか?
**A**: はい。B シリーズのどのサイズでも、Premium Storage データ ディスクをサポートしています。   
    
### <a name="q-why-is-my-remaining-credit-set-to-0-after-a-redeploy-or-a-stopstart"></a>Q:再デプロイまたは停止/起動後、クレジットの残りが 0 に設定されるのはなぜですか?
**A**: VM が "再デプロイ" されて VM が別のノードに移動すると、累計されたクレジットは失われます。 VM を起動/停止したが、同じノードにとどまっていれば、VM は 累積されたクレジットを保持します。 ノードで VM を新たに起動するたびに初期クレジットが取得されます (Standard_B8ms では 240 分)。
    
### <a name="q-what-happens-if-i-deploy-an-unsupported-os-image-on-b1ls"></a>Q:サポートされていない OS イメージを B1ls にデプロイするとどうなりますか?
**A**: B1ls は Linux イメージのみをサポートしているため、他の OS イメージをデプロイすると最善のカスタマー エクスペリエンスが得られない可能性があります。
    
### <a name="q-why-is-there-no-pricing-information-for-b1ls-windows"></a>Q:Windows の B1ls の価格情報がないのはなぜですか?
**A**: B1ls は Linux イメージのみをサポートしているため、他の OS イメージをデプロイすると最善のカスタマー エクスペリエンスが得られない可能性があるうえ、課金されます。


    

    
